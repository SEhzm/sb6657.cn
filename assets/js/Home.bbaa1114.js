import{g as H,E as u,a as L,c as j,b as W,m as J,v as $,k as G,h as K,n as X,o as Y,p as Z,q as A}from"./element-plus.ec180c6b.js";import{r as h}from"./request.39193e0d.js";import{M as ee}from"./@element-plus.b6e46eba.js";import{_ as te}from"./favicon.fceddeeb.js";import{_ as M}from"./index.3b8d7347.js";import{o as x,c as Q,r as v,_ as ae,j as oe,a as l,V as e,P as s,Q as S,O as B,S as le,T as m,U as se,F as ne,aw as re,u as ie,ax as ce,ay as de}from"./@vue.7a8f7aed.js";import"./lodash-es.2e98bc53.js";import"./@vueuse.65cb1fed.js";import"./@popperjs.c75af06c.js";import"./@ctrl.f8748455.js";import"./dayjs.de1d8cda.js";import"./async-validator.dee29e8b.js";import"./memoize-one.297ddbcb.js";import"./normalize-wheel-es.ed76fb12.js";import"./@floating-ui.c9ffdb72.js";import"./axios.28bc18a3.js";import"./vue-router.f6176e51.js";const pe={},me={src:te,alt:"",style:{width:"30px"}};function ue(a,t){return x(),Q("img",me)}const _e=M(pe,[["render",ue]]),ge=a=>{a.table===""||a.barrage===""?u.error("请选择分栏或输入烂梗"):h.post("/machine/addUnaudit",{ip:localStorage.getItem("ip"),table:a.table,barrage:a.barrage}).then(t=>{a.dialogFormVisible=!1,a.barrage="",t.code==="200"?u.success("投稿成功，待审核(一天内)"):u.error("请求失败")})},be=(a,t)=>new Promise((r,o)=>{h.post("/machine/Query",{QueryBarrage:a}).then(d=>{t.isInput=!0,t.loading=!1,t.filteredItems=d.data||[],r({isInput:t.isInput,loading:t.loading,filteredItems:t.filteredItems})})}),he=a=>new Promise((t,r)=>{h.get("/machine/getRandOne").then(o=>{a.tableData=[o.data],t(!0)}).catch(o=>{console.error("随机失败"),r(o)})}),fe=a=>{const t=new Date().getTime(),r={x:event.clientX,y:event.clientY};if(lastMousePosition&&lastMousePosition.x===r.x&&lastMousePosition.y===r.y?(mousePositionCnt++,console.log(mousePositionCnt),mousePositionCnt>4&&H.alert("😡😡😡你在刷次数😡😡😡","请勿使用连点器",{confirmButtonText:"好吧，我错了"})):mousePositionCnt=0,t-lastCallTime<1500){u({title:"请勿刷次数",message:"复制成功，但次数没有增加",type:"warning"});const c=a.barrage;let _=document.createElement("input");_.value=c,document.body.appendChild(_),_.select();try{document.execCommand("Copy")}catch(f){u({title:"复制失败",message:"复制操作失败，请稍后重试",type:"error"}),console.error("复制失败:",f)}document.body.removeChild(_),lastCallTime=t,lastMousePosition=r;return}lastMousePosition=r,lastCallTime=t;const o=a.barrage;let d=document.createElement("input");d.value=o,document.body.appendChild(d),d.select();try{document.execCommand("Copy"),open2(),console.log("内容已复制到剪贴板"),h.post("/machine/addCnt",{PageNum:data.currentPage,table:"allbarrage",id:a.id}).then(()=>{setTimeout(()=>load(data.currentPage),50)})}catch(c){u({title:"复制失败",message:"复制操作失败，请稍后重试",type:"error"}),console.error("复制失败:",c),open4()}document.body.removeChild(d)},ye=(a,t)=>{const o=a-new Date;t.value=Math.ceil(o/(1e3*60*60*24))},ve=(a,t)=>{t.filteredItems=[],t.isInput=!1};const C=a=>(ce("data-v-d1ae7105"),a=a(),de(),a),xe=C(()=>l("div",{class:"boomouder"},[l("img",{src:"https://pic.imgdb.cn/item/66f7a491f21886ccc022f12a.png",alt:"6657boom",class:"boom6657"})],-1)),Ce={class:"home"},Ie=re('<div class="card" style="line-height:30px;margin-top:40px;" data-v-d1ae7105><div data-v-d1ae7105><b data-v-d1ae7105><p style="font-size:14px;" data-v-d1ae7105>新增时光相册(可评论)，新增在线投稿弹幕。最近可能会出现卡顿，玩神照片可以在上方上传照片上传至相册</p><p style="font-size:18px;color:red;" data-v-d1ae7105>最新推出了油猴Tampermonkey插件，可以在直播间直接搜索进行复制和一键发送，<a href="https://sb6657.cn/#/Tampermonkey" target="_blank" data-v-d1ae7105>点我安装！</a></p></b></div></div><div class="card" style="line-height:30px;margin-top:8px;" data-v-d1ae7105><p data-v-d1ae7105>你好 <br data-v-d1ae7105> 这是一个收集6657烂梗的网站: <span class="dgq63136" data-v-d1ae7105><a href="https://sb6657.cn" style="color:red;" data-v-d1ae7105>sb6657.cn </a></span>尽情欣赏你们的烂梗吧。 <br data-v-d1ae7105></p></div>',2),we={class:"card",style:{"line-height":"0px","margin-top":"8px"}},Te={class:"card",style:{"line-height":"50px","margin-top":"10px","margin-bottom":"10px","min-height":"80px"}},Pe=C(()=>l("span",{style:{position:"absolute","font-size":"22px","margin-top":"-20px",color:"blue"}}," --------需点击右侧搜索按钮--------- ",-1)),ke={class:"card",style:{"margin-top":"8px","text-align":"center"}},Ve=C(()=>l("div",{class:"card",style:{"line-height":"30px","margin-top":"10px","z-index":"300"}},[m(" 友情链接 "),l("a",{href:"https://dgq63136.icu",target:"_blank"},"dgq63136.icu")],-1)),Ee={class:"el-footer"},Se={style:{"font-size":"11px"}},Be=C(()=>l("text",null,[m(" 域名所有："),l("a",{href:"https://yuba.douyu.com/member/LW7rKJ9qVVwG/main/news",target:"_blank"},"@陈苏何")],-1)),Me={__name:"Home",setup(a){const t=v(!0),r=v(!1),o=ae({getRandOne:[],filteredItems:[],tableData:[],table:"",barrage:"",currentPage:1});(()=>{sessionStorage.getItem("firstOpening")||h.get("https://api.vvhan.com/api/visitor.info").then(n=>{const i=n;localStorage.setItem("ip",n.ip),u({icon:_e,dangerouslyUseHTMLString:!0,title:"你好",message:"<p>欢迎来自<b>"+i.location+"</b>的朋友<br/> "+i.system+i.browser+" <br>IP: "+i.ip+"</p>",offset:50,customClass:"myClass",duration:1e3}),sessionStorage.setItem("firstOpening",1)})})();const c=v(""),_=new Date("2025-02-20"),f=v(0),z={table:[{required:!0,message:"请选择分栏",trigger:"blur"}],barrage:[{required:!0,message:"请输入烂梗",trigger:"blur"}]},D=()=>{ge(o)},q=async()=>{const n=await be(c.value,o);console.log(n.filteredItems),o.isInput=n.isInput,o.loading=n.loading,o.filteredItems=n.filteredItems},I=async()=>{const n=await he(o);t.value=n.value};I();const w=n=>{fe(n)},T=()=>{ye(_,f)},U=()=>{ve(c.value,o)};return oe(()=>{T(),setInterval(T,1e3*60*60*24)}),(n,i)=>{const g=L,y=G,P=j,O=K,k=W,p=X,R=Y,V=Z,N=J,F=A,E=$;return x(),Q(ne,null,[xe,l("div",Ce,[Ie,l("div",we,[l("div",null,[e(g,{type:"primary",onClick:I},{default:s(()=>[m("点我随机一条弹幕")]),_:1}),S((x(),B(P,{data:o.tableData,style:{"font-family":"微软雅黑","font-size":"20px"},"header-cell-style":{fontSize:"14px",whitespace:"normal !important"},"cell-style":{cursor:"Pointer"},onRowClick:w},{default:s(()=>[e(y,{prop:"barrage",label:"弹幕"}),e(y,{label:"",align:"center",width:"85"},{default:s(()=>[e(g,{type:"primary"},{default:s(()=>[m("复制")]),_:1})]),_:1})]),_:1},8,["data"])),[[E,t.value]])])]),l("div",Te,[l("div",null,[Pe,e(k,{modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=b=>c.value=b),placeholder:n.searchBarrageMeg,clearable:"",style:{"background-color":"yellow","font-size":"16px","margin-top":"30px"},onInput:U},{append:s(()=>[e(g,{type:"primary",onClick:q},{default:s(()=>[e(O,null,{default:s(()=>[e(ie(ee))]),_:1})]),_:1})]),_:1},8,["modelValue","placeholder"]),r.value?S((x(),B(P,{key:0,data:o.filteredItems,stripe:"",onRowClick:w,style:{"font-size":"19px"},"cell-style":{cursor:"Pointer"}},{default:s(()=>[e(y,{prop:"barrage",label:"弹幕"}),e(y,{label:"",align:"center",width:"85"},{default:s(()=>[e(g,{type:"primary"},{default:s(()=>[m("复制")]),_:1})]),_:1})]),_:1},8,["data"])),[[E,t.value]]):le("",!0)])]),l("div",ke,[l("div",null,[e(N,{model:o,"label-width":"100px",rules:z,"label-position":"right"},{default:s(()=>[e(V,{label:"分栏","label-width":n.auto,prop:"table"},{default:s(()=>[e(R,{modelValue:o.table,"onUpdate:modelValue":i[1]||(i[1]=b=>o.table=b),placeholder:"选择上传的分栏"},{default:s(()=>[e(p,{label:"喷玩机器篇",value:"machine_penWJQ"}),e(p,{label:"木柜子篇",value:"machine_mygo"}),e(p,{label:"直播间互喷篇",value:"machine_ZbjHuPen"}),e(p,{label:"喷选手篇",value:"machine_penPlayer"}),e(p,{label:"+1",value:"machine_p1"}),e(p,{label:"群魔乱舞篇",value:"machine_QMLW"}),e(p,{label:"QUQU",value:"machine_QUQU"})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),e(V,{label:"烂梗内容",prop:"barrage"},{default:s(()=>[e(k,{maxlength:"255",modelValue:o.barrage,"onUpdate:modelValue":i[2]||(i[2]=b=>o.barrage=b),autocomplete:"off",autosize:{minRows:1,maxRows:4},"show-word-limit":"",type:"textarea"},null,8,["modelValue"])]),_:1}),e(g,{type:"primary",onClick:D,style:{"font-size":"20px"}},{default:s(()=>[m(" 投稿 ")]),_:1})]),_:1},8,["model"])]),e(F,{right:50,bottom:50})]),Ve]),l("div",Ee,[m(" 基于腾讯云服务器搭建"),l("text",Se,"(离服务器到期还有"+se(f.value)+"天)",1),Be])],64)}}},Xe=M(Me,[["__scopeId","data-v-d1ae7105"]]);export{Xe as default};
