import{f as be,g as ye,d as Ce,c as W,h as xe,e as N,v as Be,a as U,j as $,k as se,l as ke,m as Ae,E as re,n as ie,o as Me,p as Ve,q as De,r as Ie,s as Qe,t as Te,u as Re}from"./element-plus.C0xebxLf.js";import{d as j,ax as ae,ay as Ke,b as u,o as h,c as _,P as e,H as o,B as Se,I as H,G as ee,L as x,M as R,a as t,O as Y,a4 as G,K as X,V as ue,X as Ue,a5 as q,u as v,ag as P,Q as O,k as de,f as Ye,T as Fe,aw as He,C as qe}from"./@vue.BqJqC78G.js";import{_ as ze}from"./favicon.CJfgpdIL.js";import{c as Je,p as Oe,g as Le,a as Pe,s as Xe}from"./setMeme.CanYzOkD.js";import{M as We}from"./@element-plus.Du5FBV_q.js";import{f as je,c as Ze,t as Ge,l as Ne,a as $e,u as me}from"./flip-num.B1JDvfue.js";import{h as K,_ as S,s as et,r as tt,M as le,a as ot}from"./index.D_6ZLZTx.js";import{_ as ce}from"./validCode.DOM1axl7.js";import{a as T}from"./js-cookie.Cz0CWeBA.js";import{J as pe}from"./jsencrypt.DrIFDlhK.js";import{u as ge,b as at}from"./vue-router.PTNpl1pN.js";import"./lodash-es.C-zDejYo.js";import"./@vueuse.C-35htfh.js";import"./@popperjs.D9SI2xQl.js";import"./@ctrl.r5W6hzzQ.js";import"./dayjs.D6RD0Zoz.js";import"./async-validator.DKvM95Vc.js";import"./memoize-one.BdPwpGay.js";import"./normalize-wheel-es.B6fDCfyv.js";import"./@floating-ui.8uccrNCM.js";import"./axios.CCb-kr4I.js";const lt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA1xJREFUWEfFl0uMDFEUhv9zp+eWR8LCQiKqeojWVSQSkQhigYVHwkZibCSIMAssiYUEsfBYSohMhAmxQMTCI0YiZkMsSJDQ1Qymq82IRyzGI/qWqUNNjHT31DtE77ruf87/3XPvOdVN+M8fyuJfzmurPPZ0y3E7s8TXx2QCKBmtxwi0E8BDAEdMR13KCpIJwDbkAwDz6kzbs0JkBfgOQKvfNTOtsKq1W2krkRqglM8tIhZ3RxkRnkihlk9/jXdpIFID2Lo8CMLeIBNmPm5V3R3/FiAvH4MxJ8SkH2OVZZbxOSlEqgqUdG05EXdHJidsMCvq/D8BsHXtFIi3xCQ/bzpqw18HKOnaCiK+mSDxJ9NRk3zdC0POKjjqWVRMoiPwEw0B1wG0JQAAe97SnBDvPeAiiHYXK7UbYXGxAKWpuSUkxJ0kxiMaH4CE8E3HgvkDt7TMt/q+9wXliATIYh7cnrhiVdXaVAC+OYS4TsC4NLuP0K43HXWxeT2wAqW2MW3EXjcYM/+SOQC6azq1xYkAyoY8w8CmWHPmHhAtidX9FhB4Y9Fxz9brR1WgpLduIqIzMUk/C0aHB96WCoBxpdh0F0YBlHV5mQmBF2YYirmHPdFh9dee23rrnTQAfrjpqAbPhi8DUzBuMCe/Ruy+TD/U4uIAPvqaLF3CQkyrb8kGgFI+t5BY3AsFIN5iVtzT9euxFWtK5s8I682PnpHHDQB2fsw0sPcqBKDbdNTKoDXbkP64tZJcxkiAx5MxXtPkl5CBsb/oqANhJrYhOQnAkOC5s/vcR4EV8B+WDdnFwMbmZAK0ZqZTuxZlYhvSHzTrwjQM9FqOKkS2oZ3PLQOL281JmksXZPLc0FZ74KthAES8tVhxT0UC+Iu2IS8AaK8XJgF4Oguy5YushRxhV9FRm5vXQl9GtqGdBLjjz1kxby9W3RNRRzA8wj3vdYBm0HTUxBCw8JTPDHlUALuGFcw9ZtVdGgXwIp9bODS6jUO7x88V/3sg37qDmHYD0Jl5s1V1u8IgyoY8xMCe3+sDBHRGdU4igBGzsiH3/arDPsFUKFRrL0Pmgf9XbSIB5zTKdbZVvr2Na83YCjQn8EGEVIcLvWi4bP5zZjx6UlXX2oGhOOPQOZA0sF53fwYmLOjFYJbYn3WiRDAd4qVAAAAAAElFTkSuQmCC",nt="data:image/png;base64,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",st="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB/lBMVEUAAAACAAAEAAAGAAADAAAFAAAKAAAHAAAQAAABAAACAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAADAAAEAAAEAAAEAAAEAAAEAAAEAAADAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAAAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAADAAAEAAAEAAAEAAADAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAADAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAABAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAADAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAADAAADAAAEAAADAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAADAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAADAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAADAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAD///+W3QZCAAAAqHRSTlMAAAAAAAAAAAAAAQoWHBsBEjt6vtTd1bx8QBUPWMTy9MhcAS6w+Pm1MwJI2d5RAknk5wEy2+jO6f7r0OU1ELP8cJnh0crL0+PmnWsRVfc8BigiFCMqB2LC9kVKEj77aFJGzx6/lwG7eVvtMS/sIRvcJtJEEwu5BAOLCnaW8wXaw6DH/Yg0OZBee7fwHvH6c2XJkjbGFhlPUzjgOp8tK+rWuDUOxR0pzW3NoAbKAAAAAWJLR0SpJw8GBAAAAAd0SU1FB+gCEwk0EkntIW4AAAIlSURBVDjLY2AgATBycfPw8vFw8zNhk2XiFxAUEhYRFRUTl5CUwlDDxCQtIyu3AgrkFRQFmFlQ5JWUVVRXIAE1dQ0uJBVMmlraK9CAjq4e3BomVn2DFRjAUNcIagYLk7HJihWmZuYWMDkLSyvrFStEbZgYIQbY2q1YYe8greFo7eTs4urm7uFpY+sFVC3uzQIxwMcX6HA/Jhb/gMAgW1up4JBQJiYtoJt9w1hBKpgEwoGmRkSi+JwpSg0oqBANVhAD8n9sHKqCeJACuQSgIAuzEMhdiUmoCqSSQaIpqSwMTNxpIHens6KEHAtTRixQOJmbCajWDcjKzEILfKbsHKCwiBRQAa8OkGUQjK4g1x0oLMrHxMCSlw9keRSgKwgwBArn84GsKATFXwK6gqIIoLBVMVBBSSnIvZ5lqI4srwCJJleyMLCwVoGYHjHI3mBhS7AEiVYrAQ1mkqwBsZ0lyxDRW6tfB044+kzgoK5fkdPQ2GTe3CJVzgIynae1LRMcq67FTOAwaVeT7yjoXGHRJQ4KTpbu0h5IxPf2sYOtZRLoXOHbHzJBzX5iOchKTQlowhAWYIIG6yTRFZOnTJ02fQpEw4wesPzMWdAEw8DCMc3QfvacYmlNiIK55iD5eTIMcH8x6U0TtZg3f8FUJoQCJx89pLBjZFjYqbrCKQmuQE18lhJq/LMs6l/svASiYGn+suW2LOh5i4XTdm4oWJClsiWIi4WBagAAZejSV585JrMAAAAASUVORK5CYII=",At="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAcpJREFUWEftlk1uwkAMhe3CJSoFCZbAIQq75BQNJyk9CXCKsCscgmbZSETqJUpdOcykMyaTECX8LMiKiMT+7HnPDsKNL7xxfngA3EcH0t16AQjhFfWQENGq+wRLTD/XHwAwuWLyPBURvTMAGcmTDtL0eRgklwD6jqP+gXBhFJxIAM57EQiV/EsWlgN0kAYHQj6OPkMQ0qw3DDZtdGIfRxM8xs4K5Nj6PgfwRj4qyn8IolVvHMybQBQl58L00VsAnKhNiDSOQjieOV8bb+RPdTFOAA3x8wshIr7xPau1bif2u2iu35fJOWYpQFMIa64QLL2xP5PHWAmgX7AqcQQzg5tzpaxzZwNwcNHOxBv5A1nRiceRZt4wWLoEXA/AttHJrCgaMFU2PhtA2kjNiaOfiVb8wxBbpnY16bL/XeI9C0Akz2zkmmh6wHQBEsNBTohKAMvDQnwMoZK8KJtuZaWmborEWApgia5CTGVTsgzCCWB6mJCmTfeB2UmzE4UAlodbSK67Y+lGHecJgKXeFjehgMgXnXYTLyPe0byC81XZtO0uXYhFlz2GYso12by1380+yQxLvRqdqB2s5gv5fLiPz/Ka9K0+/ujAzTvwBwY/rnW+YWzQAAAAAElFTkSuQmCC",rt=["onTouchstart","onTouchend"],it={class:"barrage-text"},ut={style:{display:"flex","align-items":"center","flex-wrap":"wrap"}},dt=["src"],mt={style:{"vertical-align":"middle"}},ct=j({__name:"meme-dialog",props:ae({memeArr:{},loading:{type:Boolean},emptyText:{}},{modelValue:{},modelModifiers:{}}),emits:ae(["refresh"],["update:modelValue"]),setup(V,{emit:d}){const n=Ke(V,"modelValue"),b=d,A=Ge($e,Ne,2e3);async function y(i){const g=i.content,f=A(g);if(!(!f||f==="limitedSuccess")){if(Ze(),await Je(i.category,i.id)){b("refresh");return}Oe()}}const w=u([]),m=()=>{K.get("/machine/dictList").then(i=>{i.code===200&&(w.value=i.data)}).catch(i=>{console.error("获取字典数据失败",i)})},c=i=>{if(!i||i.trim()==="")return[];const g=Array.from(new Set(i.split(",").map(a=>a.trim())));if(!w.value)return g.map(()=>({label:"",iconUrl:""}));const f=new Map(w.value.map(a=>[String(a.dictValue).trim(),a]));return g.map(a=>{const E=f.get(a);return E?{label:E.dictLabel,iconUrl:E.iconUrl}:{label:"",iconUrl:""}})};m();const p=i=>{i.touchStartTime=Date.now()},B=i=>{Date.now()-i.touchStartTime>100&&(i.popoverVisible=!0,setTimeout(()=>{i.popoverVisible=!1},1500))};return(i,g)=>{const f=be,l=ye,a=Ce,E=W,C=xe,k=N,Q=Be;return h(),_("div",null,[e(k,{draggable:"",modelValue:n.value,"onUpdate:modelValue":g[0]||(g[0]=r=>n.value=r),class:"dialog-main"},{header:o(()=>[Se(i.$slots,"default",{},void 0,!0)]),default:o(()=>[H((h(),ee(C,{data:i.memeArr,stripe:"","empty-text":i.emptyText,"cell-class-name":"hover-pointer",onRowClick:y},{default:o(()=>[e(l,{align:"center",width:"60"},{default:o(r=>[e(f,{round:"",effect:"plain"},{default:o(()=>[x(R(r.$index+1),1)]),_:2},1024)]),_:1}),e(l,{prop:"content"},{default:o(r=>[e(a,{placement:"top",width:"auto",trigger:"hover",visible:r.row.popoverVisible},{reference:o(()=>[t("div",{style:{cursor:"pointer"},onTouchstart:I=>p(r.row),onTouchend:I=>B(r.row)},[t("span",it,R(r.row.content),1)],40,rt)]),default:o(()=>[t("div",ut,[(h(!0),_(Y,null,G(c(r.row.tags),(I,z)=>(h(),_("div",{key:z,style:{"margin-right":"8px"}},[e(f,{round:"",effect:"dark",style:{fontSize:"16px",cursor:"pointer"}},{default:o(()=>[I.iconUrl?(h(),_("img",{key:0,src:I.iconUrl,style:{width:"16px",height:"16px","object-fit":"cover","vertical-align":"middle"}},null,8,dt)):X("",!0),t("span",mt,R(I.label),1)]),_:2},1024)]))),128))])]),_:2},1032,["visible"])]),_:1}),e(l,{align:"center",width:"100"},{default:o(r=>[e(E,{type:"primary",class:"copy-btn",onClick:ue(I=>y(r.row),["stop"])},{default:o(()=>[g[1]||(g[1]=x("复制 (")),e(je,{num:r.row.copyCount},null,8,["num"]),g[2]||(g[2]=x(")"))]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","empty-text"])),[[Q,i.loading]])]),_:3},8,["modelValue"])])}}}),Z=S(ct,[["__scopeId","data-v-6bb5efde"]]),pt=`MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAKoR8mX0rGKLqzcWmOzbfj64K8ZIgOdH
nzkXSOVOZbFu/TJhZ7rFAN+eaGkl3C4buccQd/EjEsj9ir7ijT7h96MCAwEAAQ==`,gt=`MIIBVAIBADANBgkqhkiG9w0BAQEFAASCAT4wggE6AgEAAkEAqhHyZfSsYourNxaY
7Nt+PrgrxkiA50efORdI5U5lsW79MmFnusUA355oaSXcLhu5xxB38SMSyP2KvuKN
PuH3owIDAQABAkAfoiLyL+Z4lf4Myxk6xUDgLaWGximj20CUf+5BKKnlrK+Ed8gA
kM0HqoTt2UZwA5E2MzS4EI2gjfQhz5X28uqxAiEA3wNFxfrCZlSZHb0gn2zDpWow
cSxQAgiCstxGUoOqlW8CIQDDOerGKH5OmCJ4Z21v+F25WaHYPxCFMvwxpcw99Ecv
DQIgIdhDTIqD2jfYjPTY8Jj3EDGPbH2HHuffvflECt3Ek60CIQCFRlCkHpi7hthh
YhovyloRYsM+IS9h/0BzlEAuO0ktMQIgSPT3aFAgJYwKpqRYKlLDVcflZFCKY7u3
UP8iWi1Qw0Y=`;function ft(V){const d=new pe;return d.setPublicKey(pt),d.encrypt(V)}function Et(V){const d=new pe;return d.setPrivateKey(gt),d.decrypt(V)}const vt={class:"login-box"},ht={class:"login-code"},wt=["src"],_t={key:0},bt={key:1},yt={__name:"login",props:{onRegister:{type:Function,required:!0},closeDialog:{type:Function,required:!0}},setup(V){const d=V,n=u(""),b=u(!1),A=u({username:"",password:"",rememberMe:!1,code:"",uuid:""}),y=Ue({username:[{required:!0,message:"请输入邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"change"}]}),w=u();function m(){w.value.validate(f=>{f&&(b.value=!0,A.value.rememberMe?(T.set("username",A.value.username,{expires:525600}),T.set("password",ft(A.value.password),{expires:525600}),T.set("rememberMe",A.value.rememberMe,{expires:525600})):(T.remove("username"),T.remove("password"),T.remove("rememberMe")),K.post("/login",A.value).then(l=>{l.code===200?(U.success("登录成功"),et(l.token),g()):(b.value=!1,U.error(l.msg))}).catch(()=>{b.value=!1,c.value&&p()}))})}const c=u(!0);function p(){K.get("/captchaImage").then(f=>{c.value=f.captchaEnabled===void 0?!0:f.captchaEnabled,c.value&&(n.value="data:image/gif;base64,"+f.img,A.value.uuid=f.uuid)})}function B(){const f=T.get("username"),l=T.get("password"),a=T.get("rememberMe");A.value={username:f===void 0?A.value.username:f,password:l===void 0?A.value.password:Et(l),rememberMe:a===void 0?!1:!!a}}B(),p();function i(){typeof d.onRegister=="function"?d.onRegister():console.error("onRegister is not a function")}function g(){d.closeDialog()}return(f,l)=>{const a=$,E=se,C=ke,k=W,Q=Ae;return h(),_("div",null,[t("div",vt,[l[6]||(l[6]=t("div",{class:"title"},"登 录",-1)),e(Q,{model:A.value,ref_key:"formRef",ref:w,rules:y},{default:o(()=>[e(E,{prop:"username"},{default:o(()=>[e(a,{"prefix-icon":"Avatar",size:"large",clearable:"",modelValue:A.value.username,"onUpdate:modelValue":l[0]||(l[0]=r=>A.value.username=r),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),e(E,{prop:"password"},{default:o(()=>[e(a,{"show-password":"",size:"large","prefix-icon":"Lock",modelValue:A.value.password,"onUpdate:modelValue":l[1]||(l[1]=r=>A.value.password=r),placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),e(E,{prop:"code"},{default:o(()=>[e(a,{modelValue:A.value.code,"onUpdate:modelValue":l[2]||(l[2]=r=>A.value.code=r),size:"large",clearable:"","auto-complete":"off",placeholder:"请输入验证码",style:{width:"63%"}},{prefix:o(()=>l[4]||(l[4]=[t("img",{src:ce,style:{width:"16px"}},null,-1)])),_:1},8,["modelValue"]),t("div",ht,[t("img",{src:n.value,onClick:p,class:"login-code-img",onKeyup:q(m,["enter"])},null,40,wt)])]),_:1}),e(C,{modelValue:A.value.rememberMe,"onUpdate:modelValue":l[3]||(l[3]=r=>A.value.rememberMe=r),style:{margin:"0px 0px 5px 0px"}},{default:o(()=>l[5]||(l[5]=[x("记住密码")])),_:1},8,["modelValue"]),t("span",{style:{"margin-left":"35%",cursor:"pointer",color:"blue"},onClick:i},"还没有账号？去注册 >"),e(E,null,{default:o(()=>[e(k,{loading:b.value,type:"primary",style:{width:"100%"},onClick:m},{default:o(()=>[b.value?(h(),_("span",bt,"登 录 中...")):(h(),_("span",_t,"登 录"))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model","rules"])])])}}},Ct=S(yt,[["__scopeId","data-v-7195a899"]]),xt={class:"register-code"},Bt=["src"],kt={key:0},Mt={key:1},Vt={__name:"register",setup(V){const d=u(),n=u({username:"",password:"",confirmPassword:"",code:"",uuid:"",emailCode:""}),A={username:[{required:!0,message:"请输入邮箱",trigger:"blur"},{pattern:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/,message:"请输入有效的邮箱地址",trigger:"blur"}],password:[{required:!0,trigger:"blur",message:"请输入您的密码"},{min:6,max:20,message:"用户密码长度必须介于 6 和 20 之间，且数字和英文混合",trigger:"blur"},{pattern:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,20}$/,message:"密码必须是数字和英文混合",trigger:"blur"}],confirmPassword:[{required:!0,trigger:"blur",message:"请再次输入您的密码"},{required:!0,validator:(l,a,E)=>{n.value.password!==a?E(new Error("两次输入的密码不一致")):E()},trigger:"blur"}],code:[{required:!0,trigger:"change",message:"请输入验证码"}],emailCode:[{required:!0,trigger:"change",message:"请输入邮箱验证码"}]},y=u(""),w=u(!1),m=u(!0),c=u("发送邮箱验证码"),p=u(!1);let B=null;function i(){if(!n.value.username){U.info("请先输入邮箱");return}p.value=!0;let l=10;c.value=`${l}分钟 后重试`,B=setInterval(()=>{l--,l<=0?(clearInterval(B),p.value=!1,c.value="发送邮箱验证码"):c.value=`邮箱中已有验证码，或请 ${l}分钟 后重试`},1e3*60*10),console.log(n.value.username),K.get("/login/getMailCode",{params:{toEMail:n.value.username}}).then(a=>{a.code===200?U.success("验证码已发送，请查收邮箱"):(U.error(a.msg),clearInterval(B),p.value=!1,c.value="发送邮箱验证码")}).catch(()=>{clearInterval(B),p.value=!1,c.value="发送邮箱验证码"})}function g(){d.value.validate(l=>{l&&(w.value=!0,K.post("/register",n.value).then(a=>{const E=n.value.username;a.code===200?re.alert("<font color='red'>恭喜你，您的账号 "+E+" 注册成功！</font>","系统提示",{dangerouslyUseHTMLString:!0,type:"success"}).then(()=>{}).catch(()=>{}):(U.error(a.msg),w.value=!1,m&&f())}).catch(()=>{w.value=!1,m&&f()}))})}function f(){K.get("/captchaImage").then(l=>{m.value=l.captchaEnabled===void 0?!0:l.captchaEnabled,m.value&&(y.value="data:image/gif;base64,"+l.img,n.value.uuid=l.uuid)})}return f(),(l,a)=>{const E=W,C=$,k=se,Q=Ae;return h(),_("div",null,[e(Q,{ref_key:"registerRef",ref:d,model:v(n),rules:A,class:"register-form"},{default:o(()=>[a[7]||(a[7]=t("h3",{class:"title"},"注册",-1)),e(k,{prop:"username"},{default:o(()=>[e(C,{modelValue:v(n).username,"onUpdate:modelValue":a[0]||(a[0]=r=>v(n).username=r),type:"text",size:"large",clearable:"","prefix-icon":"Avatar","auto-complete":"off",placeholder:"邮箱"},{append:o(()=>[e(E,{type:"primary",size:"small",style:{padding:"0","font-weight":"500"},onClick:i},{default:o(()=>a[5]||(a[5]=[x("发送邮箱验证码")])),_:1})]),_:1},8,["modelValue"])]),_:1}),e(k,{prop:"emailCode"},{default:o(()=>[e(C,{modelValue:v(n).emailCode,"onUpdate:modelValue":a[1]||(a[1]=r=>v(n).emailCode=r),type:"text",maxlength:"4",size:"large",clearable:"",placeholder:"请输入邮箱验证码"},null,8,["modelValue"])]),_:1}),e(k,{prop:"password"},{default:o(()=>[e(C,{modelValue:v(n).password,"onUpdate:modelValue":a[2]||(a[2]=r=>v(n).password=r),type:"password",size:"large","show-password":"","prefix-icon":"Lock","auto-complete":"off",placeholder:"密码",onKeyup:q(g,["enter"])},null,8,["modelValue"])]),_:1}),e(k,{prop:"confirmPassword"},{default:o(()=>[e(C,{modelValue:v(n).confirmPassword,"onUpdate:modelValue":a[3]||(a[3]=r=>v(n).confirmPassword=r),type:"password",size:"large","show-password":"","prefix-icon":"Lock","auto-complete":"off",placeholder:"确认密码",onKeyup:q(g,["enter"])},null,8,["modelValue"])]),_:1}),v(m)?(h(),ee(k,{key:0,prop:"code"},{default:o(()=>[e(C,{size:"large",modelValue:v(n).code,"onUpdate:modelValue":a[4]||(a[4]=r=>v(n).code=r),"auto-complete":"off",clearable:"",placeholder:"请输入右侧验证码",style:{width:"63%"},onKeyup:q(g,["enter"])},{prefix:o(()=>a[6]||(a[6]=[t("img",{src:ce,style:{width:"16px"}},null,-1)])),_:1},8,["modelValue"]),t("div",xt,[t("img",{src:v(y),onClick:f,class:"register-code-img"},null,8,Bt)])]),_:1})):X("",!0),e(k,{style:{width:"100%"}},{default:o(()=>[e(E,{loading:v(w),size:"large",type:"primary",style:{width:"100%"},onClick:ue(g,["prevent"])},{default:o(()=>[v(w)?(h(),_("span",Mt,"注 册 中...")):(h(),_("span",kt,"注 册"))]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"])])}}},Dt=S(Vt,[["__scopeId","data-v-930d6e44"]]),It={class:"avatar-wrapper"},ne="400px",Qt={__name:"userHome",setup(V){const d=u(!1),n=u(!1);me();function b(){console.log(K.show),d.value=!0,n.value=!1}function A(){re.confirm("确定退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{tt()}).catch(()=>{})}function y(){d.value=!1,n.value=!0}function w(){d.value=!1}return(m,c)=>{const p=P("User"),B=ie,i=P("caret-bottom"),g=Me,f=P("router-link"),l=Ve,a=De,E=N;return h(),_(Y,null,[e(a,{onCommand:m.handleCommand,class:"right-menu-item hover-effect",trigger:"hover"},{dropdown:o(()=>[e(l,null,{default:o(()=>[e(g,{divided:""},{default:o(()=>c[2]||(c[2]=[t("span",null,"—内测中—",-1)])),_:1}),H(e(g,{command:"login"},{default:o(()=>[t("span",{onClick:b},"登录/注册")]),_:1},512),[[O,!v(K)]]),e(f,{to:"/userInfo"},{default:o(()=>[e(g,null,{default:o(()=>c[3]||(c[3]=[x("个人中心")])),_:1})]),_:1}),H(e(g,{divided:"",command:"logout"},{default:o(()=>[t("span",{onClick:A},"退出登录")]),_:1},512),[[O,v(K)]])]),_:1})]),default:o(()=>[t("div",It,[e(B,{size:"32"},{default:o(()=>[e(p)]),_:1}),e(B,null,{default:o(()=>[e(i)]),_:1})])]),_:1},8,["onCommand"]),e(E,{"align-center":"true",modelValue:d.value,"onUpdate:modelValue":c[0]||(c[0]=C=>d.value=C),draggable:"true",width:ne,modal:!1,"append-to-body":"true"},{default:o(()=>[H(e(Ct,{onRegister:y,closeDialog:w},null,512),[[O,d.value]])]),_:1},8,["modelValue"]),e(E,{"align-center":"true",modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=C=>n.value=C),draggable:"true",width:ne,modal:!1,"append-to-body":"true"},{default:o(()=>[H(e(Dt,null,null,512),[[O,n.value]])]),_:1},8,["modelValue"])],64)}}},Tt=S(Qt,[["__scopeId","data-v-81c3e089"]]),Rt={class:"header"},Kt={class:"header-content"},St={class:"header-actions"},Ut={class:"elinput"},Yt={class:"dialog-header"},Ft={class:"dialog-header"},L="我还没有加载完喔~~",Ht="https://pic.imgdb.cn/item/66992905d9c307b7e9f0136e.png",qt=j({__name:"header-bar",setup(V){const d=me(),n=ge(),b=u(!1),A=u(!1),y=u([]),w=u(!0);async function m(){const D=await Le();D&&(y.value=D,w.value=!1)}function c(){A.value=!0,p.value=!1,w.value=!0,m()}const p=u(!1),B=u([]),i=u(!0);async function g(){const D=await Pe();D&&(B.value=D,i.value=!1)}function f(){A.value=!1,p.value=!0,i.value=!0,g()}const l=de(()=>!(d.value&&n.path!=="/home"));m();const a=u(0);setInterval(()=>{const D=y.value.length;a.value=(a.value+1)%D},5e3);const E=u(""),C=u(!1),k=u([]),Q=u(!0),r=u(L);async function I(){Q.value=!0,C.value=!0,r.value=L;const D=await Xe(E.value);if(Q.value=!1,!D){k.value=[],r.value="请输入搜索词...";return}if(D==="notfound"){k.value=[],r.value="没有找到搜索结果。想要补充更多烂梗？请去首页投稿！";return}k.value=D}let z="75%";Ye(()=>{d.value&&(z="100%"),setTimeout(()=>{b.value=!0,setInterval(()=>{b.value=!0},2*60*60*1e3)},60*60*1e3)});const fe=()=>{window.open("https://www.wjx.cn/vm/rQUgnS0.aspx#")},J=u(!1);function Ee(){J.value=!J.value}return(D,s)=>{const ve=ie,F=W,he=$,we=Ie,_e=Qe,te=N;return h(),_(Y,null,[t("div",Rt,[t("div",Kt,[s[11]||(s[11]=t("a",{href:"https://www.douyu.com/6657",target:"_blank",class:"logo-link"},[t("img",{src:ze,alt:"大🐖头",class:"logo-img"}),t("p",{class:"header-title"},"斗鱼玩机器烂梗库")],-1)),t("div",St,[l.value?(h(),_("img",{key:0,src:lt,alt:"热门",class:"hot-barrage-img",onClick:c})):X("",!0),l.value?(h(),_("div",{key:1,onClick:c,class:"hot-barrage"},[e(Fe,{name:"fade"},{default:o(()=>{var M,oe;return[(h(),_("span",{key:a.value,class:"hot-barrage-span"},"热门："+R(((oe=(M=y.value)==null?void 0:M[a.value])==null?void 0:oe.content)||""),1))]}),_:1})])):X("",!0),t("div",Ut,[e(he,{modelValue:E.value,"onUpdate:modelValue":s[0]||(s[0]=M=>E.value=M),placeholder:"搜索烂梗",clearable:"",onKeydown:q(I,["enter"])},{append:o(()=>[e(F,{type:"primary",onClick:I},{default:o(()=>[e(ve,null,{default:o(()=>[e(v(We))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),e(F,{type:"primary",onClick:fe,class:"complaint-button"},{default:o(()=>s[6]||(s[6]=[t("span",null,[x(" 上传照片 "),t("br"),x(" 建议/提交BUG ")],-1)])),_:1}),s[9]||(s[9]=He('<a href="https://sb6657.cn/#/Tampermonkey" data-v-abb3a5d6><img src="https://pic.imgdb.cn/item/6704f830d29ded1a8c738f70.png" alt="油猴" class="icon-img" data-v-abb3a5d6></a><a href="https://yuba.douyu.com/feed/2639094748291342931" target="_blank" data-v-abb3a5d6><img src="'+nt+'" alt="douyu" class="icon-img" data-v-abb3a5d6></a><a href="https://github.com/SEhzm/sb6657/" target="_blank" data-v-abb3a5d6><img src="'+st+'" alt="github" class="icon-img" data-v-abb3a5d6></a>',3)),e(we,{class:"icon-img-rounded",src:Ht,"hide-on-click-modal":!0,"zoom-rate":1.2,"max-scale":7,lazy:"","min-scale":.2,"preview-src-list":["http://cdn.hguofichp.cn/zfb.jpg"],"initial-index":4,fit:"cover"}),e(_e,{class:"box-item",effect:"light",content:"接程序设计，广告，商务，详情联系邮箱 he20020928@foxmail.com",placement:"bottom"},{default:o(()=>s[7]||(s[7]=[t("img",{src:At,alt:"github",class:"icon-img"},null,-1)])),_:1}),e(Tt,{style:{"margin-left":"20px"},class:"icon-img"}),e(F,{class:"GuangGaoHead",plain:"",onClick:Ee},{default:o(()=>s[8]||(s[8]=[t("span",null,[x("玩小将自己的"),t("br"),x("陪玩店🏪")],-1)])),_:1})]),e(te,{modelValue:J.value,"onUpdate:modelValue":s[1]||(s[1]=M=>J.value=M),title:"玩小将自己的陪玩店🏪",width:"100%"},{default:o(()=>s[10]||(s[10]=[t("h2",null,"店长5年观龄玩神脑残粉",-1),t("h4",null,[x("女陪玩全部视频验证保真 "),t("b",{style:{color:"red"}},"+v：weifucsgo")],-1),t("h4",null,[x("男陪玩最低1.3rating魔王S "),t("b",{style:{color:"red"}},"女客服：J34-126")],-1),t("h4",null,"纯绿色，店长线下见过所有陪玩",-1)])),_:1},8,["modelValue"])]),e(Z,{modelValue:A.value,"onUpdate:modelValue":s[2]||(s[2]=M=>A.value=M),memeArr:y.value,loading:w.value,emptyText:L,onRefresh:m},{default:o(()=>[t("div",Yt,[s[13]||(s[13]=t("div",null,"24h热门烂梗",-1)),t("div",null,[e(F,{onClick:f},{default:o(()=>s[12]||(s[12]=[x("查看近七天热门")])),_:1})])])]),_:1},8,["modelValue","memeArr","loading"]),e(Z,{modelValue:p.value,"onUpdate:modelValue":s[3]||(s[3]=M=>p.value=M),memeArr:B.value,loading:i.value,emptyText:L,onRefresh:g},{default:o(()=>[t("div",Ft,[s[15]||(s[15]=t("div",null,"七天热门烂梗",-1)),t("div",null,[e(F,{onClick:c},{default:o(()=>s[14]||(s[14]=[x("查看近24h热门")])),_:1})])])]),_:1},8,["modelValue","memeArr","loading"]),e(Z,{modelValue:C.value,"onUpdate:modelValue":s[4]||(s[4]=M=>C.value=M),memeArr:k.value,loading:Q.value,emptyText:r.value,onRefresh:I},{default:o(()=>s[16]||(s[16]=[t("div",{class:"search-tips"},"烂梗搜索结果:",-1)])),_:1},8,["modelValue","memeArr","loading","emptyText"])]),e(te,{modelValue:b.value,"onUpdate:modelValue":s[5]||(s[5]=M=>b.value=M),title:"谢谢你",width:v(z)},{default:o(()=>s[17]||(s[17]=[t("img",{src:"http://cdn.hguofichp.cn/zfb.jpg",alt:"",width:"100%"},null,-1)])),_:1},8,["modelValue","width"])],64)}}}),zt=S(qt,[["__scopeId","data-v-abb3a5d6"]]),Jt={class:"footer"},Ot={class:"content"},Lt={class:"date-font"},Pt=j({__name:"footer-bar",setup(V){const d=u(0),n=new Date("2026-02-16"),b=new Date;d.value=Math.ceil((n.getTime()-b.getTime())/(1e3*3600*24));const A=new Date("2024-02-07"),y=de(()=>{const m=new Date().getTime()-A.getTime();return Math.floor(m/(1e3*60*60*24))});return(w,m)=>(h(),_("div",Jt,[t("div",Ot,[t("div",Lt,[m[0]||(m[0]=x("距服务器到期还有")),t("span",null,R(d.value),1),m[1]||(m[1]=x("天"))]),t("div",null,[m[2]||(m[2]=t("a",{href:"https://ipw.cn/ipv6webcheck/?site=sb6657.cn",title:"",target:"_blank",style:{color:"black"}},[t("img",{style:{display:"inline-block","vertical-align":"middle",width:"150px"},alt:"",src:"https://static.ipw.cn/icon/ipv6-s5.svg"})],-1)),x(" 本站已运行"+R(y.value)+"天 域名所有: ",1),m[3]||(m[3]=t("a",{href:"https://yuba.douyu.com/member/LW7rKJ9qVVwG/main/news",target:"_blank"},"@陈苏何",-1))])])]))}}),Xt=S(Pt,[["__scopeId","data-v-25b66ea2"]]),Wt={class:"tab"},jt={class:"tab-container"},Zt=["onClick"],Gt={class:"main-content"},Nt={class:"sidebar"},$t={class:"sidebar-icon"},eo=["src"],to={class:"content"},oo={href:"https://github.com/SEhzm/sb6657/blob/master/%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97.md"},ao={class:"version"},lo=j({__name:"MainLayout",setup(V){const d=ge(),n=at();function b(A){n.push(A)}return(A,y)=>{const w=Te,m=Re,c=P("router-view");return h(),_(Y,null,[t("div",null,[e(zt),t("div",Wt,[t("div",jt,[(h(!0),_(Y,null,G(v(le),(p,B)=>(h(),_("div",{class:qe(`tab1 ${p.path===v(d).path?"selected":"none"}`),key:p.path,onClick:i=>b(p.path)},R(p.text),11,Zt))),128))])]),t("div",Gt,[t("div",Nt,[e(m,{router:"",class:"sidebar-el-menu","default-active":A.$route.path},{default:o(()=>[(h(!0),_(Y,null,G(v(le),(p,B)=>(h(),ee(w,{key:p.path,index:p.path},{default:o(()=>[t("div",$t,[t("img",{src:p.icon,alt:""},null,8,eo)]),t("span",null,R(p.text),1)]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])]),t("div",to,[e(c)])]),e(Xt)]),t("a",oo,[t("span",ao,"版本: "+R(v(ot)),1)]),y[0]||(y[0]=t("div",{class:"GuangGaoWei"},[t("img",{src:"https://pic1.imgdb.cn/item/67ee15fe0ba3d5a1d7eb91d2.png",alt:""}),t("span",{style:{display:"flex","font-size":"small"}},"广告位招租")],-1))],64)}}}),ko=S(lo,[["__scopeId","data-v-7a29d9de"]]);export{ko as default};
