const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/wordCloud.CxchwcQ0.js","assets/js/echarts.D13McHMB.js","assets/js/zrender.B_NAtvFA.js","assets/js/tslib.BDyQ-Jie.js","assets/js/echarts-wordcloud.tk4DMxWl.js","assets/js/index.pjFKwOzg.js","assets/js/@vue.BltuATdo.js","assets/js/pinia.DfSVr1RC.js","assets/js/js-cookie.Cz0CWeBA.js","assets/js/axios.ngrFHoWO.js","assets/js/element-plus.Devhffg8.js","assets/js/lodash-es.CDeyng3v.js","assets/js/@vueuse.BO4JNAXw.js","assets/js/@element-plus.GoM0nurT.js","assets/js/@popperjs.D_chPuIy.js","assets/js/@ctrl.r5W6hzzQ.js","assets/js/dayjs.BKG3DVjA.js","assets/js/async-validator.9PlIezaS.js","assets/js/memoize-one.BdPwpGay.js","assets/js/normalize-wheel-es.BQoi3Ox2.js","assets/js/@floating-ui.D0iZPv2f.js","assets/js/vue-router.DIO3HiZ4.js","assets/css/index.Cs0qYb2h.css","assets/css/wordCloud.qpx4COKE.css"])))=>i.map(i=>d[i]);
import{_ as M,A as W,C as K,h as L,b as Y,c as J}from"./index.pjFKwOzg.js";import{R as Q,F as D,T as G}from"./@element-plus.GoM0nurT.js";import{u as A,g as I,e as U,c as X,d as Z}from"./time.xZzjWnrC.js";import{d as S,h as g,al as $,c as p,o as u,a as e,R as t,E as z,J as r,P as b,L as E,u as _,Q as P,a6 as F,O as m,W as ee,aU as se,l as te,f as ae,I as oe,aV as le,aI as ne}from"./@vue.BltuATdo.js";import{f as ie,t as re,u as de}from"./flip-num.DZgiFL0Z.js";import{c as ce,a as ue,p as N,l as me,b as H}from"./setMeme.BYRUlIwM.js";import{R as V}from"./vue-router.DIO3HiZ4.js";import{c as pe,d as ve,b as C}from"./element-plus.Devhffg8.js";import{t as _e}from"./tag-selector.DS8OtVmj.js";import"./pinia.DfSVr1RC.js";import"./js-cookie.Cz0CWeBA.js";import"./axios.ngrFHoWO.js";import"./lodash-es.CDeyng3v.js";import"./@vueuse.BO4JNAXw.js";import"./@popperjs.D_chPuIy.js";import"./@ctrl.r5W6hzzQ.js";import"./dayjs.BKG3DVjA.js";import"./async-validator.9PlIezaS.js";import"./memoize-one.BdPwpGay.js";import"./normalize-wheel-es.BQoi3Ox2.js";import"./@floating-ui.D0iZPv2f.js";const fe={class:"random-meme"},ge={class:"random-barrage-header"},be={class:"refresh-controls"},he={class:"barrage-main-content"},ye={class:"barrage-text-wrapper"},ke={class:"barrage-text"},$e={class:"barrage-meta-info"},Ce={key:0,class:"tags-container"},we=["src"],Te={class:"tag-label"},xe={class:"submit-time"},Ee={class:"meme-id"},Me={class:"copy-count"},Re={key:1,class:"no-data"},Ie=S({__name:"random-meme",setup(R){const k=A(),c=g([]);k.tagsLoaded.then(()=>{c.value=k.memeTags});const d=g(),o=g(!1),i=g(!1);async function h(){const{_failure:f,flatData:l}=await X();return f||!l?(console.error("获取随机烂梗失败"),!1):(d.value=l,!0)}h();const w=async()=>{if(o.value)return;if(i.value=!0,o.value=!0,!await h()){console.error("获取随机烂梗失败"),o.value=!1;return}o.value=!1,setTimeout(()=>{i.value=!1},600)},y=re(H,me,2e3);async function a(f){const l=y(f.barrage);if(!(!l||l==="limitedSuccess")){ce();try{await ue("",f.id)?d.value.cnt=`${+d.value.cnt+1}`:N()}catch(n){console.error("更新复制计数失败:",n),N()}}}return(f,l)=>{const n=$("Refresh"),s=$("el-icon");return u(),p("div",fe,[e("div",ge,[l[2]||(l[2]=e("div",{class:"random-barrage-title"},[e("div",{class:"title"},"随机一条烂梗"),e("span",{class:"tips"},"(直接点击也能复制)")],-1)),e("div",be,[e("span",{class:"refresh-text",onClick:w},"换一换"),t(s,{class:z(["refresh-icon",{rotating:i.value}]),onClick:w,size:"18"},{default:r(()=>[t(n)]),_:1},8,["class"])])]),d.value?(u(),p("div",{key:0,class:"modern-barrage-card",onClick:l[1]||(l[1]=v=>a(d.value))},[e("div",he,[e("div",ye,[e("span",ke,b(d.value.barrage),1)]),e("div",$e,[_(I)(d.value.tags,c.value).length>0?(u(),p("div",Ce,[(u(!0),p(P,null,F(_(I)(d.value.tags,c.value),(v,x)=>(u(),p("div",{key:x,class:"modern-tag"},[v.iconUrl?(u(),p("img",{key:0,src:v.iconUrl,class:"tag-icon"},null,8,we)):E("",!0),e("span",Te,b(v.label),1)]))),128))])):E("",!0),e("div",xe,[e("span",Ee,"#"+b(d.value.id),1),m(" "+b(_(U)(d.value.submitTime)),1)])])]),e("div",{class:"modern-copy-button",onClick:l[0]||(l[0]=ee(v=>a(d.value),["stop"]))},[l[3]||(l[3]=e("div",{class:"copy-text"},"复制",-1)),l[4]||(l[4]=e("div",{class:"copy-icon"},"📋",-1)),e("div",Me,[t(ie,{num:d.value.cnt||0},null,8,["num"])]),l[5]||(l[5]=e("div",{class:"copy-ripple"},null,-1))])])):(u(),p("div",Re,"暂无烂梗数据"))])}}}),Ve=M(Ie,[["__scopeId","data-v-0865b66a"]]),Ae={class:"sub-info"},Se=S({__name:"homeIntro",setup(R){return(k,c)=>(u(),p("div",null,[c[1]||(c[1]=se('<p class="announcement" data-v-e2a7e31d><b data-v-e2a7e31d>这是一个收集6657烂梗的网站：</b><span class="web-url" data-v-e2a7e31d><a href="https://sb6657.cn" data-v-e2a7e31d>sb6657.cn</a></span> 尽情欣赏你们的烂梗吧。 </p><p class="sub-info" data-v-e2a7e31d><b data-v-e2a7e31d> 油猴插件 <a href="https://cdn.hguofichp.cn/sb6657.cn%E6%96%97%E9%B1%BC%E7%8E%A9%E6%9C%BA%E5%99%A8%E7%83%82%E6%A2%97%E6%94%B6%E9%9B%86.user.js" target="_blank" data-v-e2a7e31d>点击下载</a> 可在斗鱼直播间一键发送烂梗 </b></p><p class="sub-info" data-v-e2a7e31d>开放注册功能，可能会出现收不到邮件的情况。</p><p class="sub-info" data-v-e2a7e31d>目前已支持玩机器直播间开播提醒</p><p class="sub-info" data-v-e2a7e31d>目前已优化Ai造梗功能，响应时间大幅提升</p>',5)),e("p",Ae,[t(_(V),{to:"/update"},{default:r(()=>[...c[0]||(c[0]=[m("网站更新日志",-1)])]),_:1})])]))}}),Be=M(Se,[["__scopeId","data-v-e2a7e31d"]]),Le={class:"did-you-know"},De={class:"knowledge-list"},Ne={class:"latest-meme"},Ue={class:"line-top"},ze={class:"total"},Pe={class:"total-count"},Fe={class:"submit-time"},He={class:"line-bottom"},je={class:"tooltip-content"},qe={key:0,class:"tags-container"},Oe=["src"],We={class:"tag-label"},Ke={class:"copy-count"},Ye=S({__name:"didYouKnow",setup(R){const k=de(),c=A(),d=g([]);c.tagsLoaded.then(()=>{d.value=c.memeTags});const o=te({time:"",meme:"",tags:[{label:"",iconUrl:""}],copy:0,total:0});async function i(){const y=await Z("allbarrage",1,1);y&&(o.time=U(y.memeArr[0].submitTime),o.meme=y.memeArr[0].content,o.tags=I(y.memeArr[0].tags,d.value),o.copy=y.memeArr[0].copyCount,o.total=y.total)}i();const h=g(!1);function w(){o.meme&&(H(o.meme),C({message:"复制成功",type:"success"}),h.value=!0,setTimeout(()=>{h.value=!1},1200))}return(y,a)=>(u(),p("div",Le,[a[8]||(a[8]=e("h3",null,"🤔 你知道吗？",-1)),e("ul",De,[e("li",null,[a[1]||(a[1]=m(" 谁目前打出了对位donk最多的击杀? 谁又是对位donk最大的受害者? ",-1)),t(_(V),{to:"/15warriorsDonk"},{default:r(()=>[...a[0]||(a[0]=[m("- 布雷德15勇士",-1)])]),_:1})]),e("li",null,[a[3]||(a[3]=m(" 哪只队伍捕虾最专业? 谁是最佳捕虾人? 又是谁在捕虾过程中惨遭反夹? ",-1)),t(_(V),{to:"/dejaVuNiko"},{default:r(()=>[...a[2]||(a[2]=[m("- 超级逮虾户战报",-1)])]),_:1})]),t(_(pe)),e("li",Ne,[e("div",Ue,[e("span",ze,[a[4]||(a[4]=m(" 共有 ",-1)),e("span",Pe,b(o.total),1),a[5]||(a[5]=m(" 条烂梗 ",-1))]),e("span",Fe,"最后投稿时间："+b(o.time),1)]),e("div",He,[a[6]||(a[6]=e("span",{class:"label"},"最新投稿烂梗：",-1)),a[7]||(a[7]=e("span",{class:"copy-hint"},"(点击可复制)",-1)),t(_(ve),{trigger:_(k)?"click":"hover",placement:"top",effect:"light"},{content:r(()=>[e("div",je,[o.tags&&o.tags.length?(u(),p("div",qe,[(u(!0),p(P,null,F(o.tags,(f,l)=>(u(),p("div",{key:l,class:"modern-tag"},[f.iconUrl?(u(),p("img",{key:0,src:f.iconUrl,class:"tag-icon"},null,8,Oe)):E("",!0),e("span",We,b(f.label),1)]))),128))])):E("",!0),e("div",Ke,"复制次数："+b(o.copy),1)])]),default:r(()=>[e("span",{class:z(["meme-text",{clicked:h.value}]),onClick:w},b(o.meme),3)]),_:1},8,["trigger"])])])])]))}}),Je=M(Ye,[["__scopeId","data-v-10ef246e"]]),Qe={class:"home"},Ge={class:"cards-container"},Xe={class:"card first-card"},Ze={class:"card second-card"},es={class:"card third-card"},ss={class:"card fifth-card"},ts={class:"match-association-container"},as={class:"match-section-home"},os={key:0,class:"match-details-box-home"},ls={class:"match-info-row-home"},ns=["src","alt"],is={class:"match-name-home"},rs={class:"match-time-home"},ds={key:1,class:"no-match-info-home"},cs={class:"wordCloudDiv"},us={class:"word-cloud-title"},ms={__name:"Home",setup(R){const k=A();k.tagsLoaded.then(()=>{d.value=k.memeTags});const c=g(""),d=g([]),o=g([]),i=g(null),h=g(!1);function w(){L.get("/machine/InProgressMatch").then(n=>{n.code===200&&n.data?i.value=n.data:i.value=null,console.log("Fetched match data:",i.value)}).catch(n=>{console.error("Failed to fetch in progress match:",n),i.value=null})}ae(()=>{w()});const y=()=>{const n=o.value.map(s=>s.dictValue);if(n.length===0||!c.value)C.error("请选择标签或输入弹幕");else{if(n.length>5){C.error("最少一个标签，最多五个标签。");return}const s={tags:n.join(","),barrage:c.value};h.value&&i.value&&(s.matchId=i.value.id),L.post(J.SUBMIT_MEME,s).then(v=>{c.value="",h.value=!1,v.code===200?C.success("投稿成功，待审核(一天内)"):v.code===500?C.error("烂梗已经有了，勿重复提交"):C.error("请求失败")}).catch(v=>{console.error("投稿失败",v),C.error("请求失败")})}},a=g(null),f=le(()=>Y(()=>import("./wordCloud.CxchwcQ0.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])));function l(){var n,s;(s=(n=a.value)==null?void 0:n.getData)==null||s.call(n)}return(n,s)=>{const v=$("el-icon"),x=$("el-popover"),B=$("el-button"),j=$("el-input"),q=$("el-checkbox"),O=$("el-backtop");return u(),p("div",Qe,[s[15]||(s[15]=e("div",{class:"boom"},[e("img",{src:"https://sb6657oss.wishao.fun/6657boom.webp",alt:"6657boom",class:"boom6657"})],-1)),t(W,{class:"AnnualHotList"}),e("div",Ge,[e("div",Xe,[t(Be)]),e("div",Ze,[t(Je)])]),e("div",es,[t(Ve)]),e("div",ss,[e("div",null,[e("span",null,[s[10]||(s[10]=m(" 可选标签 ",-1)),t(x,{width:300},{reference:r(()=>[t(v,{size:"16"},{default:r(()=>[t(_(Q))]),_:1})]),default:r(()=>[s[4]||(s[4]=m(" 为解决烂梗分栏不足和分类不清晰问题。 ",-1)),s[5]||(s[5]=e("br",null,null,-1)),s[6]||(s[6]=e("b",null,"点击标签即可添加",-1))]),_:1}),t(B,{link:"",type:"success",class:"submit-tag-button"},{default:r(()=>[s[9]||(s[9]=m(" 投稿标签 ",-1)),t(x,{width:300},{reference:r(()=>[t(v,{size:"16"},{default:r(()=>[t(_(D))]),_:1})]),default:r(()=>[s[7]||(s[7]=e("b",null,"请在上方(建议/提交)问卷投稿。",-1)),s[8]||(s[8]=e("br",null,null,-1))]),_:1})]),_:1})]),t(_e,{selectedTags:o.value,"onUpdate:selectedTags":s[0]||(s[0]=T=>o.value=T),tags:d.value},null,8,["selectedTags","tags"]),t(j,{modelValue:c.value,"onUpdate:modelValue":s[1]||(s[1]=T=>c.value=T),maxlength:"255",autocomplete:"off",autosize:{minRows:2,maxRows:4},"show-word-limit":"",type:"textarea",placeholder:"输入你要投稿的烂梗...."},null,8,["modelValue"]),e("div",ts,[e("div",as,[t(q,{modelValue:h.value,"onUpdate:modelValue":s[2]||(s[2]=T=>h.value=T),disabled:!i.value,class:"match-checkbox-home"},{default:r(()=>[s[11]||(s[11]=m(" 关联赛事库 ",-1)),t(v,{color:"#3db302ff",size:"16"},{default:r(()=>[t(_(D))]),_:1})]),_:1},8,["modelValue","disabled"]),i.value?(u(),p("div",os,[e("div",ls,[e("img",{src:i.value.matchesImg,class:"match-image-home",alt:i.value.matchesName},null,8,ns),e("span",is,b(i.value.matchesName),1)]),e("div",rs,b(i.value.startTime)+" 至 "+b(i.value.endTime),1)])):(u(),p("div",ds,"当前无正在进行的大型赛事")),t(B,{class:"saveBnt",type:"primary",onClick:y},{default:r(()=>[...s[12]||(s[12]=[m("投稿",-1)])]),_:1})])])]),t(O,{right:50,bottom:50})]),t(K,{class:"ChatRoom card"}),s[16]||(s[16]=e("div",{class:"card sixth-card"},[m(" 友情链接 "),e("a",{href:"https://dgq63136.cn",target:"_blank"},"dgq63136.cn"),m("     "),e("a",{href:"https://sb6657.cn/#/Starrysky",target:"_blank"},"星空背景")],-1)),e("div",cs,[e("span",us,[s[13]||(s[13]=m(" 搜索词云 ",-1)),t(v,{size:"20",class:"word-cloud-refresh-icon",onClick:s[3]||(s[3]=T=>l())},{default:r(()=>[t(_(G))]),_:1})]),(u(),oe(ne,null,{default:r(()=>[t(_(f),{ref_key:"wordCloudRef",ref:a},null,512)]),fallback:r(()=>[...s[14]||(s[14]=[e("div",{class:"word-cloud-loading"},"词云加载中...",-1)])]),_:1}))])])}}},Bs=M(ms,[["__scopeId","data-v-41b7ae46"]]);export{Bs as default};
