var Oe=Object.defineProperty;var Je=(i,a,l)=>a in i?Oe(i,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[a]=l;var Y=(i,a,l)=>Je(i,typeof a!="symbol"?a+"":a,l);import{e as se,f as qe,g as Le,h as Pe,d as he,c as X,v as Ne,j as ve,k as Ae,l as We,m as Ee,a as O,E as le,n as we,o as _e,p as be,q as ye,r as Ge,s as je,t as Xe,u as Ze}from"./element-plus.nxJ_dmmw.js";import{d as Z,bj as pe,bK as $e,r as m,c as x,o as _,Q as e,I as o,J as z,H as ie,M as C,O as T,a as t,P as K,a6 as ae,K as J,V as xe,B as et,X as tt,a4 as q,u as h,w as ot,ag as L,R as N,k as j,i as re,aT as nt,T as lt,D as at}from"./@vue.Ca5AQEsS.js";import{g as st,a as At,s as it}from"./getMeme.9YpA7EOR.js";import{M as rt}from"./@element-plus.BuV21Ltw.js";import{f as ut,t as dt,u as Ce}from"./flip-num.BvOo5SKV.js";import{c as ct,l as mt,a as pt}from"./clipboard.E41oT7BO.js";import{c as gt,p as ft}from"./setMeme.BpyK6K7D.js";import{h as U,_ as F,s as ht,u as vt,r as Et,M as ge,a as wt}from"./index.eeKMCR7J.js";import{a as R}from"./js-cookie.Cz0CWeBA.js";import{J as Be}from"./jsencrypt.DXAZKJN4.js";import{C as _t}from"./CommunityNorms.B1CUO8-P.js";import{u as Me,b as bt}from"./vue-router.DhOS9MZH.js";import{d as yt}from"./pinia.Dz8zdBJG.js";import"./lodash-es.S0Y0Up6J.js";import"./@vueuse.BFkoDYlQ.js";import"./@popperjs.D_chPuIy.js";import"./@ctrl.r5W6hzzQ.js";import"./dayjs.DcnvBwdO.js";import"./async-validator.9PlIezaS.js";import"./memoize-one.BdPwpGay.js";import"./normalize-wheel-es.BQoi3Ox2.js";import"./@floating-ui.58V2siOx.js";import"./axios.xsH4HHeE.js";const xt="data:image/x-icon;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkJCQkKCQoLCwoODw0PDhUTERETFR8WGBYYFh8wHiMeHiMeMCozKScpMypMOzU1O0xXSUVJV2pfX2qFf4WuruoBCQkJCQoJCgsLCg4PDQ8OFRMRERMVHxYYFhgWHzAeIx4eIx4wKjMpJykzKkw7NTU7TFdJRUlXal9faoV/ha6u6v/CABEIADAAMAMBIgACEQEDEQH/xAAyAAADAAIDAAAAAAAAAAAAAAAEBQYDBwABAgEAAgMBAAAAAAAAAAAAAAAAAgMBBAUA/9oADAMBAAIQAxAAAADabFeHl33vtb05DHgjAxn4WrPTfWx2xVUuIqp8qc8UJwIL52nDK55WHKCVL//EACoQAAICAgEDAQcFAAAAAAAAAAECAxEABBIFITFBBhMiUWFxgSMyM0Kx/9oACAEBAAE/APJAwKsSfizkLF0DEVfphcC/pjSBav1OOgcfXIF5zLZ7L3Ob/VIUnaMyqtniAT5rzmpvqygDuCTk29ChnYsKCqv5JxGXZg1mVxdqxwr2wzGGKV+1ohJGdU0OpyRaSIlTbErGQ+oAIoA5FrTRu8SD9NR2JPds6x1E6O2ddixfkGfj4XPZ/baaJFbyiDHce7Y/TH5nZaCv3NX4u8m93EVMs4jBNC2oHEeF/wCKVH+xvNjo2lt7EjyoBzosas5qay67ycK+Ji1V4GTTkcI/VzQwoC8c7rUg+RzquvHPJBMycgikL8gTh1whEkJKSL3FZC5l1I5SvxsMiTiCSbJxVR5zJd8ewyRQFYV/UnGeREU8A6tQIwiJiSYAPsc1ZRMWCgBI/hFZO/CMkefAznxjAB7t/mf/xAAcEQACAgMBAQAAAAAAAAAAAAABAgARAxIhMRP/2gAIAQIBAT8AxUqlj6TyB01HYBsJiOrXV1Ma497dbmNvmCJ5YiRyFHZ//8QAIBEAAgMAAQQDAAAAAAAAAAAAAQIAAxESBCExQWFxgf/aAAgBAwEBPwB1LuEH7DW4YjjDi/cqZVYEgH4lRrBIsLBc9DvstUO+iVuFsVwNydVbzVTxIzyYgLGf/9k=",Ct="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAA1xJREFUWEfFl0uMDFEUhv9zp+eWR8LCQiKqeojWVSQSkQhigYVHwkZibCSIMAssiYUEsfBYSohMhAmxQMTCI0YiZkMsSJDQ1Qymq82IRyzGI/qWqUNNjHT31DtE77ruf87/3XPvOdVN+M8fyuJfzmurPPZ0y3E7s8TXx2QCKBmtxwi0E8BDAEdMR13KCpIJwDbkAwDz6kzbs0JkBfgOQKvfNTOtsKq1W2krkRqglM8tIhZ3RxkRnkihlk9/jXdpIFID2Lo8CMLeIBNmPm5V3R3/FiAvH4MxJ8SkH2OVZZbxOSlEqgqUdG05EXdHJidsMCvq/D8BsHXtFIi3xCQ/bzpqw18HKOnaCiK+mSDxJ9NRk3zdC0POKjjqWVRMoiPwEw0B1wG0JQAAe97SnBDvPeAiiHYXK7UbYXGxAKWpuSUkxJ0kxiMaH4CE8E3HgvkDt7TMt/q+9wXliATIYh7cnrhiVdXaVAC+OYS4TsC4NLuP0K43HXWxeT2wAqW2MW3EXjcYM/+SOQC6azq1xYkAyoY8w8CmWHPmHhAtidX9FhB4Y9Fxz9brR1WgpLduIqIzMUk/C0aHB96WCoBxpdh0F0YBlHV5mQmBF2YYirmHPdFh9dee23rrnTQAfrjpqAbPhi8DUzBuMCe/Ruy+TD/U4uIAPvqaLF3CQkyrb8kGgFI+t5BY3AsFIN5iVtzT9euxFWtK5s8I682PnpHHDQB2fsw0sPcqBKDbdNTKoDXbkP64tZJcxkiAx5MxXtPkl5CBsb/oqANhJrYhOQnAkOC5s/vcR4EV8B+WDdnFwMbmZAK0ZqZTuxZlYhvSHzTrwjQM9FqOKkS2oZ3PLQOL281JmksXZPLc0FZ74KthAES8tVhxT0UC+Iu2IS8AaK8XJgF4Oguy5YushRxhV9FRm5vXQl9GtqGdBLjjz1kxby9W3RNRRzA8wj3vdYBm0HTUxBCw8JTPDHlUALuGFcw9ZtVdGgXwIp9bODS6jUO7x88V/3sg37qDmHYD0Jl5s1V1u8IgyoY8xMCe3+sDBHRGdU4igBGzsiH3/arDPsFUKFRrL0Pmgf9XbSIB5zTKdbZVvr2Na83YCjQn8EGEVIcLvWi4bP5zZjx6UlXX2oGhOOPQOZA0sF53fwYmLOjFYJbYn3WiRDAd4qVAAAAAAElFTkSuQmCC",Bt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAcpJREFUWEftlk1uwkAMhe3CJSoFCZbAIQq75BQNJyk9CXCKsCscgmbZSETqJUpdOcykMyaTECX8LMiKiMT+7HnPDsKNL7xxfngA3EcH0t16AQjhFfWQENGq+wRLTD/XHwAwuWLyPBURvTMAGcmTDtL0eRgklwD6jqP+gXBhFJxIAM57EQiV/EsWlgN0kAYHQj6OPkMQ0qw3DDZtdGIfRxM8xs4K5Nj6PgfwRj4qyn8IolVvHMybQBQl58L00VsAnKhNiDSOQjieOV8bb+RPdTFOAA3x8wshIr7xPau1bif2u2iu35fJOWYpQFMIa64QLL2xP5PHWAmgX7AqcQQzg5tzpaxzZwNwcNHOxBv5A1nRiceRZt4wWLoEXA/AttHJrCgaMFU2PhtA2kjNiaOfiVb8wxBbpnY16bL/XeI9C0Akz2zkmmh6wHQBEsNBTohKAMvDQnwMoZK8KJtuZaWmborEWApgia5CTGVTsgzCCWB6mJCmTfeB2UmzE4UAlodbSK67Y+lGHecJgKXeFjehgMgXnXYTLyPe0byC81XZtO0uXYhFlz2GYso12by1380+yQxLvRqdqB2s5gv5fLiPz/Ka9K0+/ujAzTvwBwY/rnW+YWzQAAAAAElFTkSuQmCC",Mt="data:image/png;base64,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",kt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAB/lBMVEUAAAACAAAEAAAGAAADAAAFAAAKAAAHAAAQAAABAAACAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAADAAAEAAAEAAAEAAAEAAAEAAAEAAADAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAAAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAADAAAEAAAEAAAEAAADAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAADAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAABAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAADAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAADAAADAAAEAAADAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAADAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAADAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAADAAAEAAAEAAAEAAAEAAAEAAAEAAAEAAD///+W3QZCAAAAqHRSTlMAAAAAAAAAAAAAAQoWHBsBEjt6vtTd1bx8QBUPWMTy9MhcAS6w+Pm1MwJI2d5RAknk5wEy2+jO6f7r0OU1ELP8cJnh0crL0+PmnWsRVfc8BigiFCMqB2LC9kVKEj77aFJGzx6/lwG7eVvtMS/sIRvcJtJEEwu5BAOLCnaW8wXaw6DH/Yg0OZBee7fwHvH6c2XJkjbGFhlPUzjgOp8tK+rWuDUOxR0pzW3NoAbKAAAAAWJLR0SpJw8GBAAAAAd0SU1FB+gCEwk0EkntIW4AAAIlSURBVDjLY2AgATBycfPw8vFw8zNhk2XiFxAUEhYRFRUTl5CUwlDDxCQtIyu3AgrkFRQFmFlQ5JWUVVRXIAE1dQ0uJBVMmlraK9CAjq4e3BomVn2DFRjAUNcIagYLk7HJihWmZuYWMDkLSyvrFStEbZgYIQbY2q1YYe8greFo7eTs4urm7uFpY+sFVC3uzQIxwMcX6HA/Jhb/gMAgW1up4JBQJiYtoJt9w1hBKpgEwoGmRkSi+JwpSg0oqBANVhAD8n9sHKqCeJACuQSgIAuzEMhdiUmoCqSSQaIpqSwMTNxpIHens6KEHAtTRixQOJmbCajWDcjKzEILfKbsHKCwiBRQAa8OkGUQjK4g1x0oLMrHxMCSlw9keRSgKwgwBArn84GsKATFXwK6gqIIoLBVMVBBSSnIvZ5lqI4srwCJJleyMLCwVoGYHjHI3mBhS7AEiVYrAQ1mkqwBsZ0lyxDRW6tfB044+kzgoK5fkdPQ2GTe3CJVzgIynae1LRMcq67FTOAwaVeT7yjoXGHRJQ4KTpbu0h5IxPf2sYOtZRLoXOHbHzJBzX5iOchKTQlowhAWYIIG6yTRFZOnTJ02fQpEw4wesPzMWdAEw8DCMc3QfvacYmlNiIK55iD5eTIMcH8x6U0TtZg3f8FUJoQCJx89pLBjZFjYqbrCKQmuQE18lhJq/LMs6l/svASiYGn+suW2LOh5i4XTdm4oWJClsiWIi4WBagAAZejSV585JrMAAAAASUVORK5CYII=",Vt="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1745163196952'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='2577'%20data-spm-anchor-id='a313x.search_index.0.i2.58913a81ag2QCw'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='32'%20height='32'%3e%3cpath%20d='M898.96%20765.38h-77.17V418.11c0-154.94-114.87-283.22-263.85-305.05%200.11-1.26%200.73-2.35%200.73-3.63%200-25.16-20.4-45.56-45.56-45.56-25.16%200-45.56%2020.4-45.56%2045.56%200%201.29%200.63%202.37%200.73%203.63-148.98%2021.83-263.85%20150.11-263.85%20305.05v347.26h-77.17c-21.31%200-38.58%2017.28-38.58%2038.59s17.28%2038.59%2038.58%2038.59h252.75c9.46%2065.27%2065.25%20115.75%20133.1%20115.75s123.64-50.48%20133.1-115.75h252.75c21.31%200%2038.58-17.28%2038.58-38.59s-17.27-38.58-38.58-38.58zM513.11%20881.13c-25.15%200-46.61-16.13-54.58-38.58h109.16c-7.97%2022.45-29.43%2038.58-54.58%2038.58z%20m231.51-115.75H281.6V418.11c0-127.66%20103.85-231.51%20231.51-231.51s231.51%20103.85%20231.51%20231.51v347.27z'%20fill='%23e3d5b8'%20p-id='2578'%3e%3c/path%3e%3c/svg%3e",Dt=["onTouchstart","onTouchend"],It={class:"barrage-text"},Tt={style:{display:"flex","align-items":"center","flex-wrap":"wrap"}},Qt=["src"],St={style:{"vertical-align":"middle"}},Ut=Z({__name:"meme-dialog",props:pe({memeArr:{},loading:{type:Boolean},emptyText:{}},{modelValue:{},modelModifiers:{}}),emits:pe(["refresh"],["update:modelValue"]),setup(i,{emit:a}){const l=$e(i,"modelValue"),u=a,n=dt(pt,mt,2e3);async function v(p){const c=p.content,d=n(c);if(!(!d||d==="limitedSuccess")){if(ct(),await gt(p.category,p.id)){u("refresh");return}ft()}}const w=m([]),g=()=>{U.get("/machine/dictList").then(p=>{p.code===200&&(w.value=p.data)}).catch(p=>{console.error("获取字典数据失败",p)})},E=p=>{if(!p||p.trim()==="")return[];const c=Array.from(new Set(p.split(",").map(A=>A.trim())));if(!w.value)return c.map(()=>({label:"",iconUrl:""}));const d=new Map(w.value.map(A=>[String(A.dictValue).trim(),A]));return c.map(A=>{const b=d.get(A);return b?{label:b.dictLabel,iconUrl:b.iconUrl}:{label:"",iconUrl:""}})};g();const B=p=>{p.touchStartTime=Date.now()},D=p=>{Date.now()-p.touchStartTime>100&&(p.popoverVisible=!0,setTimeout(()=>{p.popoverVisible=!1},1500))};return(p,c)=>{const d=Pe,s=Le,A=he,b=X,M=qe,k=se,Q=Ne;return _(),x("div",null,[e(k,{draggable:"",modelValue:l.value,"onUpdate:modelValue":c[0]||(c[0]=f=>l.value=f),class:"dialog-main"},{header:o(()=>[et(p.$slots,"default",{},void 0,!0)]),default:o(()=>[z((_(),ie(M,{data:p.memeArr,stripe:"","empty-text":p.emptyText,"cell-class-name":"hover-pointer",onRowClick:v},{default:o(()=>[e(s,{align:"center",width:"60"},{default:o(f=>[e(d,{round:"",effect:"plain"},{default:o(()=>[C(T(f.$index+1),1)]),_:2},1024)]),_:1}),e(s,{prop:"content"},{default:o(f=>[e(A,{placement:"top",width:"auto",trigger:"hover",visible:f.row.popoverVisible},{reference:o(()=>[t("div",{style:{cursor:"pointer"},onTouchstart:y=>B(f.row),onTouchend:y=>D(f.row)},[t("span",It,T(f.row.content),1)],40,Dt)]),default:o(()=>[t("div",Tt,[(_(!0),x(K,null,ae(E(f.row.tags),(y,S)=>(_(),x("div",{key:S,style:{"margin-right":"8px"}},[e(d,{round:"",effect:"dark",style:{fontSize:"16px",cursor:"pointer"}},{default:o(()=>[y.iconUrl?(_(),x("img",{key:0,src:y.iconUrl,style:{width:"16px",height:"16px","object-fit":"cover","vertical-align":"middle"}},null,8,Qt)):J("",!0),t("span",St,T(y.label),1)]),_:2},1024)]))),128))])]),_:2},1032,["visible"])]),_:1}),e(s,{align:"center",width:"100"},{default:o(f=>[e(b,{type:"primary",class:"copy-btn",onClick:xe(y=>v(f.row),["stop"])},{default:o(()=>[c[1]||(c[1]=C("复制 (")),e(ut,{num:f.row.copyCount},null,8,["num"]),c[2]||(c[2]=C(")"))]),_:2,__:[1,2]},1032,["onClick"])]),_:1})]),_:1},8,["data","empty-text"])),[[Q,p.loading]])]),_:3},8,["modelValue"])])}}}),oe=F(Ut,[["__scopeId","data-v-55c4e034"]]),ke="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1569580729849'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='1939'%20width='200'%20height='200'%3e%3cdefs%3e%3cstyle%20type='text/css'%3e%3c/style%3e%3c/defs%3e%3cpath%20d='M513.3%20958.5c-142.2%200-397.9-222.1-401.6-440.5V268c1.7-39.6%2031.7-72.3%2071.1-77.3%2049-4.6%2097.1-16.5%20142.7-35.3%2047.8-14%2091.9-38.3%20129.4-71.1%2030.3-24.4%2072.9-26.3%20105.3-4.6%2039.9%2030.7%2083.8%2055.9%20130.5%2074.6%2048.6%2014.7%2098.2%2025.9%20148.4%2033.7%2038.5%207.6%2067.1%2040.3%2069.5%2079.5%203.3%2084.9%202.5%20169.9-2.6%20254.7-33.7%20281.6-253.7%20436.4-392.7%20436.3z%20m-0.1-813.7c-7.2-0.2-14.3%202-20%206.4-39.7%2035.2-86.8%2061.1-137.7%2075.7-46.8%2019.2-96.2%2031-146.6%2035.2-11%203.2-18.8%2013-19.5%2024.4v230.1c3.5%20180.3%20223.3%20361%20323.9%20361s287.3-120.2%20317.6-360.5c7.3-142.7%200-228.6%200-229.6-1.3-13.3-11-24.3-24-27.3-49.6-7.7-98.6-19-146.5-33.7-46.3-19.5-89.7-45.3-129-76.7-5.8-3.8-12.7-5.5-19.5-4.9l1.3-0.1z'%20fill='%23C6CCDA'%20p-id='1940'%3e%3c/path%3e%3cpath%20d='M750.1%20428L490.7%20673.2c-11.7%2011.1-29.5%2012.9-43.1%204.2l-6.8-5.8-141.2-149.4c-9.3-9.3-12.7-22.9-9-35.5%203.8-12.6%2014.1-22.1%2027-24.8%2012.9-2.7%2026.1%201.9%2034.6%2011.9L469%20597.5l233.7-221c14.6-12.8%2036.8-11.6%2049.9%202.7%2013.2%2014.2%2011.5%2035.3-2.5%2048.8'%20fill='%23C6CCDA'%20p-id='1941'%3e%3c/path%3e%3c/svg%3e",Rt=`MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAKoR8mX0rGKLqzcWmOzbfj64K8ZIgOdH
nzkXSOVOZbFu/TJhZ7rFAN+eaGkl3C4buccQd/EjEsj9ir7ijT7h96MCAwEAAQ==`,Ft=`MIIBVAIBADANBgkqhkiG9w0BAQEFAASCAT4wggE6AgEAAkEAqhHyZfSsYourNxaY
7Nt+PrgrxkiA50efORdI5U5lsW79MmFnusUA355oaSXcLhu5xxB38SMSyP2KvuKN
PuH3owIDAQABAkAfoiLyL+Z4lf4Myxk6xUDgLaWGximj20CUf+5BKKnlrK+Ed8gA
kM0HqoTt2UZwA5E2MzS4EI2gjfQhz5X28uqxAiEA3wNFxfrCZlSZHb0gn2zDpWow
cSxQAgiCstxGUoOqlW8CIQDDOerGKH5OmCJ4Z21v+F25WaHYPxCFMvwxpcw99Ecv
DQIgIdhDTIqD2jfYjPTY8Jj3EDGPbH2HHuffvflECt3Ek60CIQCFRlCkHpi7hthh
YhovyloRYsM+IS9h/0BzlEAuO0ktMQIgSPT3aFAgJYwKpqRYKlLDVcflZFCKY7u3
UP8iWi1Qw0Y=`;function Kt(i){const a=new Be;return a.setPublicKey(Rt),a.encrypt(i)}function Ht(i){const a=new Be;return a.setPrivateKey(Ft),a.decrypt(i)}const Yt={class:"login-box"},zt={class:"login-code"},Ot=["src"],Jt={key:0},qt={key:1},Lt={__name:"login",props:{onRegister:{type:Function,required:!0},closeDialog:{type:Function,required:!0}},setup(i){const a=i,l=m(""),u=m(!1),n=m({username:"",password:"",rememberMe:!1,code:"",uuid:""}),v=tt({username:[{required:!0,message:"请输入邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"change"}]}),w=m();function g(){w.value.validate(d=>{d&&(u.value=!0,n.value.rememberMe?(R.set("username",n.value.username,{expires:525600}),R.set("password",Kt(n.value.password),{expires:525600}),R.set("rememberMe",n.value.rememberMe,{expires:525600})):(R.remove("username"),R.remove("password"),R.remove("rememberMe")),U.post("/login",n.value).then(s=>{s.code===200?(O.success("登录成功"),ht(s.token,s.refreshToken,15*24*60*60),c()):(u.value=!1,O.error(s.msg))}).catch(()=>{u.value=!1,E.value&&B()}))})}const E=m(!0);function B(){U.get("/captchaImage").then(d=>{E.value=d.captchaEnabled===void 0?!0:d.captchaEnabled,E.value&&(l.value="data:image/gif;base64,"+d.img,n.value.uuid=d.uuid)})}function D(){const d=R.get("username"),s=R.get("password"),A=R.get("rememberMe");n.value={username:d===void 0?n.value.username:d,password:s===void 0?n.value.password:Ht(s),rememberMe:A===void 0?!1:!!A}}D(),B();function p(){typeof a.onRegister=="function"?a.onRegister():console.error("onRegister is not a function")}function c(){a.closeDialog()}return(d,s)=>{const A=Ae,b=ve,M=We,k=he,Q=X,f=Ee;return _(),x("div",null,[t("div",Yt,[s[8]||(s[8]=t("div",{class:"title"},"登 录",-1)),e(f,{model:n.value,ref_key:"formRef",ref:w,rules:v},{default:o(()=>[e(b,{prop:"username"},{default:o(()=>[e(A,{"prefix-icon":"Avatar",size:"large",clearable:"",modelValue:n.value.username,"onUpdate:modelValue":s[0]||(s[0]=y=>n.value.username=y),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),e(b,{prop:"password"},{default:o(()=>[e(A,{"show-password":"",size:"large","prefix-icon":"Lock",modelValue:n.value.password,"onUpdate:modelValue":s[1]||(s[1]=y=>n.value.password=y),placeholder:"请输入密码"},null,8,["modelValue"])]),_:1}),e(b,{prop:"code"},{default:o(()=>[e(A,{modelValue:n.value.code,"onUpdate:modelValue":s[2]||(s[2]=y=>n.value.code=y),size:"large",clearable:"","auto-complete":"off",placeholder:"请输入验证码",style:{width:"63%"}},{prefix:o(()=>s[4]||(s[4]=[t("img",{src:ke,style:{width:"16px"}},null,-1)])),_:1},8,["modelValue"]),t("div",zt,[t("img",{src:l.value,onClick:B,class:"login-code-img",onKeyup:q(g,["enter"])},null,40,Ot)])]),_:1}),e(M,{modelValue:n.value.rememberMe,"onUpdate:modelValue":s[3]||(s[3]=y=>n.value.rememberMe=y),style:{margin:"0px 0px 5px 0px"}},{default:o(()=>s[5]||(s[5]=[C("记住密码")])),_:1,__:[5]},8,["modelValue"]),t("span",{style:{"margin-left":"35%",cursor:"pointer",color:"blue"},onClick:p},"还没有账号？去注册 >"),s[7]||(s[7]=t("br",null,null,-1)),e(k,{placement:"top-start",width:"auto",trigger:"hover",content:"请使用登陆邮箱发送邮件至邮箱 he20020928@foxmail.com，申请重置密码~"},{reference:o(()=>s[6]||(s[6]=[t("span",null,"🔔忘记密码？",-1)])),_:1}),e(b,null,{default:o(()=>[e(Q,{loading:u.value,type:"primary",style:{width:"100%"},onClick:g},{default:o(()=>[u.value?(_(),x("span",qt,"登 录 中...")):(_(),x("span",Jt,"登 录"))]),_:1},8,["loading"])]),_:1})]),_:1,__:[7]},8,["model","rules"])])])}}},Pt=F(Lt,[["__scopeId","data-v-f72c7017"]]),Nt={class:"register-code"},Wt=["src"],Gt={key:0},jt={key:1},Xt={__name:"register",setup(i){const a=m(),l=m({username:"",nickName:"",password:"",confirmPassword:"",code:"",uuid:"",emailCode:""}),n={username:[{required:!0,message:"请输入邮箱",trigger:"blur"},{pattern:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/,message:"请输入有效的邮箱地址",trigger:"blur"}],password:[{required:!0,trigger:"blur",message:"请输入您的密码"},{min:6,max:20,message:"用户密码长度必须介于 6 和 20 之间，且数字和英文混合",trigger:"blur"},{pattern:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,20}$/,message:"密码必须是数字和英文混合",trigger:"blur"}],confirmPassword:[{required:!0,trigger:"blur",message:"请再次输入您的密码"},{required:!0,validator:(s,A,b)=>{l.value.password!==A?b(new Error("两次输入的密码不一致")):b()},trigger:"blur"}],code:[{required:!0,trigger:"change",message:"请输入验证码"}],emailCode:[{required:!0,trigger:"change",message:"请输入邮箱验证码"}]},v=m(""),w=m(!1),g=m(!0),E=m("发送邮箱验证码"),B=m(!1);let D=null;function p(){if(!l.value.username){O.info("请先输入邮箱");return}B.value=!0;let s=10;E.value=`${s}分钟 后重试`,D=setInterval(()=>{s--,s<=0?(clearInterval(D),B.value=!1,E.value="发送邮箱验证码"):E.value=`邮箱中已有验证码，或请 ${s}分钟 后重试`},1e3*60*10),U.get("/login/getMailCode",{params:{toEMail:l.value.username}}).then(A=>{A.code===200?O.success("验证码已发送，请查收邮箱"):(le.alert(A.msg||"邮箱不存在！ 或其他错误，请联系开发者","系统提示",{confirmButtonText:"OK"}),clearInterval(D),B.value=!1,E.value="发送邮箱验证码")}).catch(()=>{clearInterval(D),B.value=!1,E.value="发送邮箱验证码"})}function c(){a.value.validate(s=>{s&&(w.value=!0,U.post("/register",l.value).then(A=>{const b=l.value.username;A.code===200?le.alert("<font color='red'>恭喜你，您的账号 "+b+" 注册成功！</font>","系统提示",{dangerouslyUseHTMLString:!0,type:"success"}).then(()=>{}).catch(()=>{}):(O.error(A.msg),w.value=!1,g&&d())}).catch(()=>{w.value=!1,g&&d()}))})}function d(){U.get("/captchaImage").then(s=>{g.value=s.captchaEnabled===void 0?!0:s.captchaEnabled,g.value&&(v.value="data:image/gif;base64,"+s.img,l.value.uuid=s.uuid)})}return d(),(s,A)=>{const b=X,M=Ae,k=ve,Q=Ee;return _(),x("div",null,[e(Q,{ref_key:"registerRef",ref:a,model:h(l),rules:n,class:"register-form"},{default:o(()=>[A[8]||(A[8]=t("h3",{class:"title"},"注册",-1)),e(k,{prop:"username"},{default:o(()=>[e(M,{modelValue:h(l).username,"onUpdate:modelValue":A[0]||(A[0]=f=>h(l).username=f),type:"text",size:"large",clearable:"","prefix-icon":"Avatar","auto-complete":"off",placeholder:"邮箱-用于登录"},{append:o(()=>[e(b,{type:"primary",disabled:h(B),size:"small",style:{padding:"0","font-weight":"500"},onClick:p},{default:o(()=>A[6]||(A[6]=[C("发送邮箱验证码")])),_:1,__:[6]},8,["disabled"])]),_:1},8,["modelValue"])]),_:1}),e(k,null,{default:o(()=>[e(M,{modelValue:h(l).nickName,"onUpdate:modelValue":A[1]||(A[1]=f=>h(l).nickName=f),type:"text",maxlength:"10",size:"large",clearable:"",placeholder:"昵称--平台昵称--后续不可更改"},null,8,["modelValue"])]),_:1}),e(k,{prop:"emailCode"},{default:o(()=>[e(M,{modelValue:h(l).emailCode,"onUpdate:modelValue":A[2]||(A[2]=f=>h(l).emailCode=f),type:"text",maxlength:"4",size:"large",clearable:"",placeholder:"请输入邮箱验证码"},null,8,["modelValue"])]),_:1}),e(k,{prop:"password"},{default:o(()=>[e(M,{modelValue:h(l).password,"onUpdate:modelValue":A[3]||(A[3]=f=>h(l).password=f),type:"password",size:"large","show-password":"","prefix-icon":"Lock","auto-complete":"off",placeholder:"密码",onKeyup:q(c,["enter"])},null,8,["modelValue"])]),_:1}),e(k,{prop:"confirmPassword"},{default:o(()=>[e(M,{modelValue:h(l).confirmPassword,"onUpdate:modelValue":A[4]||(A[4]=f=>h(l).confirmPassword=f),type:"password",size:"large","show-password":"","prefix-icon":"Lock","auto-complete":"off",placeholder:"确认密码",onKeyup:q(c,["enter"])},null,8,["modelValue"])]),_:1}),h(g)?(_(),ie(k,{key:0,prop:"code"},{default:o(()=>[e(M,{size:"large",modelValue:h(l).code,"onUpdate:modelValue":A[5]||(A[5]=f=>h(l).code=f),"auto-complete":"off",clearable:"",placeholder:"请输入右侧验证码",style:{width:"63%"},onKeyup:q(c,["enter"])},{prefix:o(()=>A[7]||(A[7]=[t("img",{src:ke,style:{width:"16px"}},null,-1)])),_:1},8,["modelValue"]),t("div",Nt,[t("img",{src:h(v),onClick:d,class:"register-code-img"},null,8,Wt)])]),_:1})):J("",!0),e(k,{style:{width:"100%"}},{default:o(()=>[e(b,{loading:h(w),size:"large",type:"primary",style:{width:"100%"},onClick:xe(c,["prevent"])},{default:o(()=>[h(w)?(_(),x("span",jt,"注 册 中...")):(_(),x("span",Gt,"注 册"))]),_:1},8,["loading"])]),_:1})]),_:1,__:[8]},8,["model"])])}}},Zt=F(Xt,[["__scopeId","data-v-1da9d8c2"]]),$t={class:"avatar-wrapper"},eo=["innerHTML"],to={__name:"userHome",setup(i){const a=vt(),l=m(!1),u=m(!1),n=Ce(),v=m(!1);function w(){console.log(U.show),l.value=!0,u.value=!1}let g="400px";function E(){n&&(g="95%")}E();function B(){le.confirm("确定退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{Et()}).catch(()=>{})}function D(){l.value=!1,u.value=!0}function p(){l.value=!1}return ot(()=>a.loginVisible,c=>{l.value=c}),(c,d)=>{const s=L("User"),A=we,b=L("caret-bottom"),M=be,k=L("router-link"),Q=_e,f=ye,y=se;return _(),x(K,null,[e(f,{onCommand:c.handleCommand,class:"right-menu-item hover-effect",trigger:"hover"},{dropdown:o(()=>[e(Q,null,{default:o(()=>[e(k,{divided:"",to:"/me-post"},{default:o(()=>[e(M,null,{default:o(()=>d[4]||(d[4]=[C("我的帖子")])),_:1,__:[4]})]),_:1}),z(e(M,{command:"login",divided:""},{default:o(()=>[t("span",{onClick:w},"登录/注册")]),_:1},512),[[N,!h(U)]]),e(k,{to:"/userInfo"},{default:o(()=>[e(M,null,{default:o(()=>d[5]||(d[5]=[C("个人中心")])),_:1,__:[5]})]),_:1}),e(M,{command:"login"},{default:o(()=>[t("span",{onClick:d[0]||(d[0]=S=>v.value=!0)},"隐私政策")]),_:1}),z(e(M,{divided:"",command:"logout"},{default:o(()=>[t("span",{onClick:B},"退出登录")]),_:1},512),[[N,h(U)]])]),_:1})]),default:o(()=>[t("div",$t,[e(A,{size:"32"},{default:o(()=>[e(s)]),_:1}),e(A,null,{default:o(()=>[e(b)]),_:1})])]),_:1},8,["onCommand"]),e(y,{"align-center":"true",modelValue:l.value,"onUpdate:modelValue":d[1]||(d[1]=S=>l.value=S),draggable:"true",width:h(g),modal:!1,"append-to-body":"true"},{default:o(()=>[z(e(Pt,{onRegister:D,closeDialog:p},null,512),[[N,l.value]])]),_:1},8,["modelValue","width"]),e(y,{"align-center":"true",modelValue:u.value,"onUpdate:modelValue":d[2]||(d[2]=S=>u.value=S),draggable:"true",width:h(g),modal:!1,"append-to-body":"true"},{default:o(()=>[z(e(Zt,null,null,512),[[N,u.value]])]),_:1},8,["modelValue","width"]),e(y,{modelValue:v.value,"onUpdate:modelValue":d[3]||(d[3]=S=>v.value=S),title:"社区规范与隐私政策",style:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",margin:"auto"},width:h(g),modal:!1,"append-to-body":"true"},{default:o(()=>[t("div",{innerHTML:h(_t)},null,8,eo)]),_:1},8,["modelValue","width"])],64)}}},oo=F(to,[["__scopeId","data-v-748599e5"]]),no={class:"header"},lo={class:"header-content"},ao={class:"header-actions"},so={class:"elinput"},Ao={style:{display:"flex","font-size":"12px",height:"25px",color:"#e3d5b8ff",position:"relative"}},io={key:0,class:"unread-badge"},ro={key:1,class:"unread-badge"},uo={class:"dialog-header"},co={class:"dialog-header"},W="我还没有加载完喔~~",mo="https://cdn.hguofichp.cn/power.png",po=Z({__name:"header-bar",setup(i){const a=Ce(),l=Me(),u=m(!1),n=m(!1),v=m([]),w=m(!0);async function g(){const V=await st();V&&(v.value=V,w.value=!1)}function E(){n.value=!0,B.value=!1,w.value=!0,g()}const B=m(!1),D=m([]),p=m(!0);async function c(){const V=await At();V&&(D.value=V,p.value=!1)}function d(){n.value=!1,B.value=!0,p.value=!0,c()}const s=j(()=>!(a.value&&l.path!=="/home"));g();const A=m(0);setInterval(()=>{const V=v.value.length;A.value=(A.value+1)%V},5e3);const b=m(""),M=m(!1),k=m([]),Q=m(!0),f=m(W);async function y(){Q.value=!0,M.value=!0,f.value=W;const V=await it(b.value);if(Q.value=!1,!V){k.value=[],f.value="请输入搜索词...";return}if(V==="notfound"){k.value=[],f.value="没有找到搜索结果。想要补充更多烂梗？请去首页投稿！";return}k.value=V}let S="35%";const $=m(0),ee=m(0),te=j(()=>$.value+ee.value),Te=m(!1);async function ue(){try{const V=await U.get("/machine/SysMessage/getMsgNum");V.code===200&&($.value=V.data.likeAndStatementNum,ee.value=V.data.commentNum,Te.value=V.data.readFlag)}catch(V){console.error("获取消息数量失败:",V)}}re(()=>{ue(),setInterval(()=>{ue()},10*60*1e3),a.value&&(S="100%"),setTimeout(()=>{u.value=!0,setInterval(()=>{u.value=!0},2*60*60*1e3)},60*60*1e3)});const Qe=()=>{window.open("https://www.wjx.cn/vm/rQUgnS0.aspx#")},P=m(!1);function Se(){P.value=!P.value}return(V,r)=>{const Ue=we,H=X,Re=Ae,Fe=Ge,Ke=je,de=be,He=L("router-link"),Ye=_e,ze=ye,ce=se;return _(),x(K,null,[t("div",no,[t("div",lo,[r[14]||(r[14]=t("a",{href:"https://www.douyu.com/6657",target:"_blank",class:"logo-link"},[t("img",{src:xt,alt:"大🐖头",class:"logo-img"}),t("p",{class:"header-title"},"斗鱼玩机器烂梗库")],-1)),t("div",ao,[s.value?(_(),x("img",{key:0,src:Ct,alt:"热门",class:"hot-barrage-img",onClick:E})):J("",!0),s.value?(_(),x("div",{key:1,onClick:E,class:"hot-barrage"},[e(lt,{name:"fade"},{default:o(()=>{var I,me;return[(_(),x("span",{key:A.value,class:"hot-barrage-span"},"热门："+T(((me=(I=v.value)==null?void 0:I[A.value])==null?void 0:me.content)||""),1))]}),_:1})])):J("",!0),t("div",so,[e(Re,{modelValue:b.value,"onUpdate:modelValue":r[0]||(r[0]=I=>b.value=I),placeholder:"搜索烂梗",clearable:"",onKeydown:q(y,["enter"])},{append:o(()=>[e(H,{type:"primary",onClick:y},{default:o(()=>[e(Ue,null,{default:o(()=>[e(h(rt))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),e(H,{type:"primary",onClick:Qe,class:"complaint-button"},{default:o(()=>r[6]||(r[6]=[t("span",null,[C(" 上传照片 "),t("br"),C(" 建议/提交BUG ")],-1)])),_:1,__:[6]}),e(Fe,{class:"box-item",effect:"light",content:"接程序设计，广告，商务，详情联系邮箱 he20020928@foxmail.com",placement:"bottom"},{default:o(()=>r[7]||(r[7]=[t("img",{src:Bt,alt:"heihei",class:"icon-img"},null,-1)])),_:1,__:[7]}),r[12]||(r[12]=nt('<a href="https://sb6657.cn/#/Tampermonkey" data-v-da7b7160><img src="https://pic.imgdb.cn/item/6704f830d29ded1a8c738f70.png" alt="油猴" class="icon-img" data-v-da7b7160></a><a href="https://yuba.douyu.com/feed/2639094748291342931" target="_blank" data-v-da7b7160><img src="'+Mt+'" alt="douyu" class="icon-img" data-v-da7b7160></a><a href="https://github.com/SEhzm/sb6657/" target="_blank" data-v-da7b7160><img src="'+kt+'" alt="github" class="icon-img" data-v-da7b7160></a>',3)),e(Ke,{class:"icon-img-rounded",src:mo,"hide-on-click-modal":!0,"zoom-rate":1.2,"max-scale":7,lazy:"","min-scale":.2,"preview-src-list":["http://cdn.hguofichp.cn/zfb.jpg"],"initial-index":4,fit:"cover"}),e(ze,{trigger:"hover"},{dropdown:o(()=>[e(Ye,null,{default:o(()=>[e(He,{to:"/me-msg"},{default:o(()=>[e(de,null,{default:o(()=>[C(" 评论 ("+T(ee.value)+") ",1)]),_:1}),e(de,null,{default:o(()=>[C(" 赞和表态 ("+T($.value)+") ",1)]),_:1})]),_:1})]),_:1})]),default:o(()=>[t("div",Ao,[t("span",null,[r[8]||(r[8]=t("img",{src:Vt,alt:"msg",class:"icon-img"},null,-1)),te.value>0?(_(),x("span",io,T(te.value),1)):te.value===0?(_(),x("span",ro,"0")):J("",!0),r[9]||(r[9]=t("br",null,null,-1)),r[10]||(r[10]=C("消息 "))])])]),_:1}),e(oo,{style:{"margin-left":"20px"},class:"icon-img"}),e(H,{class:"GuangGaoHead",plain:"",onClick:Se},{default:o(()=>r[11]||(r[11]=[t("span",null,[C("玩小将自己的"),t("br"),C("陪玩店🏪")],-1)])),_:1,__:[11]})]),e(ce,{modelValue:P.value,"onUpdate:modelValue":r[1]||(r[1]=I=>P.value=I),title:"玩小将自己的陪玩店🏪",width:"100%"},{default:o(()=>r[13]||(r[13]=[t("h2",null,"店长5年观龄玩神脑残粉",-1),t("h4",null,[C("女陪玩全部视频验证保真 "),t("b",{style:{color:"red"}},"+v：weifucsgo")],-1),t("h4",null,[C("男陪玩最低1.3rating魔王S "),t("b",{style:{color:"red"}},"女客服：J34-126")],-1),t("h4",null,"纯绿色，店长线下见过所有陪玩",-1)])),_:1,__:[13]},8,["modelValue"])]),e(oe,{modelValue:n.value,"onUpdate:modelValue":r[2]||(r[2]=I=>n.value=I),memeArr:v.value,loading:w.value,emptyText:W,onRefresh:g},{default:o(()=>[t("div",uo,[r[16]||(r[16]=t("div",null,"24h热门烂梗",-1)),t("div",null,[e(H,{onClick:d},{default:o(()=>r[15]||(r[15]=[C("查看近七天热门")])),_:1,__:[15]})])])]),_:1},8,["modelValue","memeArr","loading"]),e(oe,{modelValue:B.value,"onUpdate:modelValue":r[3]||(r[3]=I=>B.value=I),memeArr:D.value,loading:p.value,emptyText:W,onRefresh:c},{default:o(()=>[t("div",co,[r[18]||(r[18]=t("div",null,"七天热门烂梗",-1)),t("div",null,[e(H,{onClick:E},{default:o(()=>r[17]||(r[17]=[C("查看近24h热门")])),_:1,__:[17]})])])]),_:1},8,["modelValue","memeArr","loading"]),e(oe,{modelValue:M.value,"onUpdate:modelValue":r[4]||(r[4]=I=>M.value=I),memeArr:k.value,loading:Q.value,emptyText:f.value,onRefresh:y},{default:o(()=>r[19]||(r[19]=[t("div",{class:"search-tips"},"烂梗搜索结果:",-1)])),_:1,__:[19]},8,["modelValue","memeArr","loading","emptyText"])]),e(ce,{modelValue:u.value,"onUpdate:modelValue":r[5]||(r[5]=I=>u.value=I),title:"谢谢你",width:h(S)},{default:o(()=>r[20]||(r[20]=[t("img",{src:"http://cdn.hguofichp.cn/zfb.jpg",alt:"",width:"100%"},null,-1)])),_:1,__:[20]},8,["modelValue","width"])],64)}}}),go=F(po,[["__scopeId","data-v-da7b7160"]]),fo={class:"footer"},ho={class:"content"},vo={class:"date-font"},Eo=Z({__name:"footer-bar",setup(i){const a=m(0),l=new Date("2026-02-16"),u=new Date;a.value=Math.ceil((l.getTime()-u.getTime())/(1e3*3600*24));const n=new Date("2024-02-07"),v=j(()=>{const g=new Date().getTime()-n.getTime();return Math.floor(g/(1e3*60*60*24))});return(w,g)=>(_(),x("div",fo,[t("div",ho,[t("div",vo,[g[0]||(g[0]=C("距服务器到期还有")),t("span",null,T(a.value),1),g[1]||(g[1]=C("天"))]),t("div",null,[g[2]||(g[2]=t("a",{href:"https://ipw.cn/ipv6webcheck/?site=sb6657.cn",title:"",target:"_blank",style:{color:"black"}},[t("img",{style:{display:"inline-block","vertical-align":"middle",width:"150px"},alt:"",src:"https://static.ipw.cn/icon/ipv6-s5.svg"})],-1)),C(" 本站已运行"+T(v.value)+"天 ",1)])])]))}}),wo=F(Eo,[["__scopeId","data-v-c95cf16c"]]),Ve=yt("guibin",{state:()=>({Oni:""}),actions:{updateOni(i){this.Oni=i}}}),_o=Ve();class De{constructor(a,l){Y(this,"timer",null);Y(this,"ws",null);Y(this,"rid");Y(this,"msgHandler");this.rid=a,this.msgHandler=l,"WebSocket"in window&&this.connect()}connect(){const a=yo(2,5);this.ws=new WebSocket(`wss://danmuproxy.douyu.com:850${a}`),this.ws.binaryType="arraybuffer",this.ws.onopen=()=>{this.ws.send(ne(`type@=loginreq/roomid@=${this.rid}`)),this.ws.send(ne(`type@=joingroup/rid@=${this.rid}/gid@=-9999/`)),this.timer=window.setInterval(()=>{this.ws.send(ne("type@=mrkl/"))},4e4)},this.ws.onerror=()=>{this.close()},this.ws.onmessage=l=>{const u=new FileReader;u.onload=()=>{const n=String(u.result).split("\0");for(let v=0;v<n.length;v++)n[v].length>12&&this.msgHandler(n[v])},u.readAsText(new Blob([l.data]))},this.ws.onclose=()=>{this.close(),this.reconnect()}}reconnect(){setTimeout(()=>{this.connect()},3e3)}close(){this.timer!==null&&(clearInterval(this.timer),this.timer=null),this.ws&&(this.ws.close(),this.ws=null)}}function ne(i){let l=bo(i);const u=l.length+4+4+2+1+1+1,n=new Uint8Array(u),v=new Uint8Array(l.length);for(let E=0;E<v.length;E++)v[E]=l[E];const w=new Uint32Array([l.length+4+2+1+1+1]),g=new Uint32Array([689]);return n.set(new Uint8Array(w.buffer),0),n.set(new Uint8Array(w.buffer),4),n.set(new Uint8Array(g.buffer),8),n.set(v,12),n}function bo(i){const a=[],l=i.length;for(let u=0;u<l;u++){const n=i.charCodeAt(u);n>=65536&&n<=1114111?(a.push(n>>18&7|240),a.push(n>>12&63|128),a.push(n>>6&63|128),a.push(n&63|128)):n>=2048&&n<=65535?(a.push(n>>12&15|224),a.push(n>>6&63|128),a.push(n&63|128)):n>=128&&n<=2047?(a.push(n>>6&31|192),a.push(n&63|128)):a.push(n&255)}return a}function yo(i,a){return Math.floor(Math.random()*(a-i+1))+i}function G(i,a,l){const u=i.indexOf(a);if(u===-1)return"";const n=i.indexOf(l,u+a.length);return n===-1?"":i.substring(u+a.length,n)}function Ie(i){const a=i.match(/type@=(.*?)(\/|@)/),l=G(i,"oni/vn@=","/");if(l&&_o.updateOni(l),a&&a[1]==="rss"){G(i,"rid@=","/");const u=G(i,"ss@=","/"),n=G(i,"ivl@=","/");console.log(u),u==="1"&&n==="0"&&xo()}}function xo(){if(!("Notification"in window)){alert("当前浏览器不支持开播通知");return}Notification.permission!=="granted"?Notification.requestPermission().then(i=>{i==="granted"?fe():alert("你拒绝了通知权限，无法收到开播通知，请在网址左侧打开权限")}):fe()}function fe(){const i=new Notification("来自sb6657.cn开播提醒",{body:"6657直播间已开播，快去观看吧！"});i.onclick=()=>{window.focus(),window.open("https://www.douyu.com/6657","_blank")}}const Co=m();re(()=>{Co.value=new De(6979222,Ie)});const Bo={class:"tab"},Mo={class:"tab-container"},ko=["onClick"],Vo={class:"main-content"},Do={class:"sidebar"},Io={class:"sidebar-icon"},To=["src"],Qo={class:"content"},So={href:"https://github.com/SEhzm/sb6657/blob/master/%E6%9B%B4%E6%96%B0%E6%97%A5%E5%BF%97.md",target:"_blank"},Uo={class:"version"},Ro={class:"GuiBin"},Fo=Z({__name:"MainLayout",setup(i){const a=Me(),l=bt(),u=Ve(),n=j(()=>u.Oni),v=m();re(()=>{v.value=new De(6979222,Ie)});function w(g){l.push(g)}return(g,E)=>{const B=Xe,D=Ze,p=L("router-view");return _(),x(K,null,[t("div",null,[e(go),t("div",Bo,[t("div",Mo,[(_(!0),x(K,null,ae(h(ge),(c,d)=>(_(),x("div",{class:at(`tab1 ${c.path===h(a).path?"selected":"none"}`),key:c.path,onClick:s=>w(c.path)},T(c.text),11,ko))),128))])]),t("div",Vo,[t("div",Do,[e(D,{router:"",class:"sidebar-el-menu","default-active":g.$route.path},{default:o(()=>[(_(!0),x(K,null,ae(h(ge),(c,d)=>(_(),ie(B,{key:c.path,index:c.path},{default:o(()=>[t("div",Io,[t("img",{src:c.icon,alt:""},null,8,To)]),t("span",null,T(c.text),1)]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])]),t("div",Qo,[e(p)])]),e(wo)]),t("a",So,[t("span",Uo,"版本: "+T(h(wt)),1)]),E[0]||(E[0]=t("div",{class:"GuangGaoWei"},[t("img",{src:"https://pic1.imgdb.cn/item/67ee15fe0ba3d5a1d7eb91d2.png",alt:""}),t("span",{style:{display:"flex","font-size":"large",color:"white"}},"广告位招租")],-1)),t("div",Ro,"当前直播间贵宾数:"+T(n.value),1)],64)}}}),rn=F(Fo,[["__scopeId","data-v-44c499b6"]]);export{rn as default};
