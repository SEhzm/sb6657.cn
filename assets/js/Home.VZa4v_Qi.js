import{n as p,a as ge,b as be,f as ye,h as he,v as _e,o as K,E as Ce,d as we,e as ke,g as xe,p as Te}from"./element-plus.BOB1eDCd.js";import{o as c,c as m,r as f,X as Ee,a as o,L as s,P as l,H as n,I as W,G as P,u as X,a5 as Ie,K as z,O as I,a4 as $,M as C,V as G,ag as Y}from"./@vue.BkZGu_Ap.js";import{_ as ee,h as w,A as Se,C as Me}from"./index.CGu7I-6u.js";import{M as Ve}from"./@element-plus.imH8POSc.js";import{_ as Be}from"./favicon.CJfgpdIL.js";import{L as Pe,f as $e,c as De,b as Le,d as Ue,t as J,e as ze,g as Z,h as Re}from"./like-num.D3cLo39N.js";import"./lodash-es.C-zDejYo.js";import"./@vueuse.B3BMR0ps.js";import"./@popperjs.D9SI2xQl.js";import"./@ctrl.r5W6hzzQ.js";import"./dayjs.DXEKZA6n.js";import"./async-validator.DKvM95Vc.js";import"./memoize-one.BdPwpGay.js";import"./normalize-wheel-es.B6fDCfyv.js";import"./@floating-ui.8uccrNCM.js";import"./axios.CCb-kr4I.js";import"./vue-router.CJ_8Ucol.js";/* empty css                                                                 */const Ne={},Oe={src:Be,alt:"",style:{width:"30px"}};function He(te,R){return c(),m("img",Oe)}const Qe=ee(Ne,[["render",He]]),je={class:"home"},qe={class:"card third-card"},Ae=["onTouchstart","onTouchend"],Fe={class:"barrage-text"},Ke={style:{display:"flex","align-items":"center","flex-wrap":"wrap"}},We=["src"],Xe={class:"card fourth-card"},Ge={style:{cursor:"pointer"}},Ye={class:"barrage-text"},Je={style:{display:"flex","align-items":"center","flex-wrap":"wrap"}},Ze=["src"],et={class:"card fifth-card"},tt={class:"preset-tags-container"},ot={class:"preset-tags"},lt={class:"added-tags"},nt="custom-popover",at={__name:"Home",setup(te){const R=()=>{const t=document.getElementById("diaocha");t?t.click():console.error('Element with id "diaocha" not found')},S=f(!0),D=f(!1),k=Ee({getRandOne:[],filteredItems:[],tableData:[],table:"",barrage:""});(()=>{sessionStorage.getItem("firstOpening")||w.get("https://api.vvhan.com/api/visitor.info").then(t=>{const e=t;localStorage.setItem("ip",t.ip),p({icon:Qe,dangerouslyUseHTMLString:!0,title:"ä½ å¥½",message:`
            <p>
                æ¬¢è¿æ¥è‡ª<b>${e.location||"åœ°çƒ"}</b>çš„æœ‹å‹<br/>  
                ${e.system||"å¤–æ˜Ÿæ“ä½œç³»ç»Ÿ"} ${e.browser||"ç‰›é€¼æµè§ˆå™¨"}<br/>
                IP: ${e.ip||"åœ°çƒ"}
            </p>
            `,offset:50,customClass:"myClass",duration:1e3}),sessionStorage.setItem("firstOpening",1)})})();const L=f([]),oe=()=>{w.get("/machine/dictList").then(t=>{t.code==="200"&&(L.value=t.data,x.value=t.data.map(e=>({label:e.dictLabel,value:e.dictValue})))}).catch(t=>{console.error("è·å–å­—å…¸æ•°æ®å¤±è´¥",t)})},N=t=>{if(!t||t.trim()==="")return[];const e=Array.from(new Set(t.split(",").map(i=>i.trim())));if(!L.value)return e.map(()=>({label:"",iconUrl:""}));const r=new Map(L.value.map(i=>[String(i.dictValue).trim(),i]));return e.map(i=>{const d=r.get(i);return d?{label:d.dictLabel,iconUrl:d.iconUrl}:{label:"",iconUrl:""}})};oe();const M=f(""),h=f(""),x=f([]),T=f([]),v=f([]),O=t=>{T.value=T.value.filter(e=>e.value!==t.value),v.value=v.value.filter(e=>e!==t.value),x.value.push(t)},H=t=>{if(v.value.length>=5){p.info("æœ€å¤š5ä¸ªæ ‡ç­¾");return}T.value.some(e=>e.value===t.value)||(T.value.push(t),v.value.push(t.value),x.value=x.value.filter(e=>e.value!==t.value))},le=()=>{if(v.value.length===0||h.value===""||h.value===null)p.error("è¯·é€‰æ‹©æ ‡ç­¾æˆ–è¾“å…¥å¼¹å¹•");else{if(v.value.length>5){p.error("æœ€å°‘ä¸€ä¸ªæ ‡ç­¾ï¼Œæœ€å¤šäº”ä¸ªæ ‡ç­¾ã€‚");return}w.post(Se.SUBMIT_MEME,{tags:v.value.join(","),barrage:h.value}).then(t=>{h.value="",t.code==="200"?p.success("æŠ•ç¨¿æˆåŠŸï¼Œå¾…å®¡æ ¸(ä¸€å¤©å†…)"):t.code==="500"?p.error("çƒ‚æ¢—å·²ç»æœ‰äº†ï¼Œå‹¿é‡å¤æäº¤"):p.error("è¯·æ±‚å¤±è´¥")}).catch(t=>{console.error("æŠ•ç¨¿å¤±è´¥",t),p.error("è¯·æ±‚å¤±è´¥")})}},V=()=>{console.log(M.value),w.post("/machine/Query",{barrage:M.value}).then(t=>{D.value=!0,S.value=!1,k.filteredItems=t.data||[]})};var ne=f("æœç´¢çƒ‚æ¢—...");const Q=()=>{w.get("/machine/getRandOne").then(t=>{k.tableData=[t.data],S.value=!1}).catch(t=>{console.error("éšæœºå¤±è´¥")})};Q();const ae=()=>{K({message:"å¤åˆ¶æˆåŠŸ",type:"success"})},re=()=>{K({message:"å¤åˆ¶å¤±è´¥ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦ç¦ç”¨navigator.clipboardå¯¹è±¡æˆ–æ‰‹åŠ¨å¤åˆ¶,è¯·å‹¿ä½¿ç”¨å¤¸å…‹æµè§ˆå™¨",type:"error"})};let U=0,E=null,B=0;const j=t=>{const e=new Date().getTime(),r={x:event.clientX,y:event.clientY};if(E&&E.x===r.x&&E.y===r.y?(B++,console.log(B),B>4&&Ce.alert("ğŸ˜¡ğŸ˜¡ğŸ˜¡ä½ åœ¨åˆ·æ¬¡æ•°ğŸ˜¡ğŸ˜¡ğŸ˜¡","è¯·å‹¿ä½¿ç”¨è¿ç‚¹å™¨",{confirmButtonText:"å¥½å§ï¼Œæˆ‘é”™äº†"})):B=0,e-U<1500){p({title:"è¯·å‹¿åˆ·æ¬¡æ•°",message:"å¤åˆ¶æˆåŠŸï¼Œä½†æ¬¡æ•°æ²¡æœ‰å¢åŠ ",type:"warning"});const d=t.barrage;let b=document.createElement("input");b.value=d,document.body.appendChild(b),b.select();try{document.execCommand("Copy")}catch(_){p({title:"å¤åˆ¶å¤±è´¥",message:"å¤åˆ¶æ“ä½œå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",type:"error"}),console.error("å¤åˆ¶å¤±è´¥:",_)}document.body.removeChild(b),U=e,E=r;return}E=r,U=e;const g=t.barrage;let i=document.createElement("input");i.value=g,document.body.appendChild(i),i.select();try{document.execCommand("Copy"),ae(),console.log("å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿"),w.get(`/machine/addCnt/${t.id}`).then(()=>{})}catch(d){p({title:"å¤åˆ¶å¤±è´¥",message:"å¤åˆ¶æ“ä½œå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",type:"error"}),console.error("å¤åˆ¶å¤±è´¥:",d),re()}document.body.removeChild(i)},se=()=>{k.filteredItems=[],D.value=!1},ie=t=>{t.touchStartTime=Date.now()},ue=t=>{Date.now()-t.touchStartTime>200&&(t.popoverVisible=!0,setTimeout(()=>{t.popoverVisible=!1},1500))},ce=J(Z,ze,2e3),de=J(Z,Re,2e3);async function pe(t){const e=t.content,r=ce(e);!r||r==="limitedSuccess"||(De(),await V())}async function me(t){const e=t.content,r=de(e);if(!(!r||r==="limitedSuccess")){if(await Le(t.id)){await V();return}Ue()}}return(t,e)=>{const r=ge,g=we,i=be,d=ke,b=ye,_=xe,q=he,A=Y("Warning"),fe=Y("QuestionFilled"),ve=Te,F=_e;return c(),m(I,null,[e[24]||(e[24]=o("div",{class:"boomouder"},[o("img",{src:"https://gcore.jsdelivr.net/gh/9WiSHao/AnythingStorage/img/6657boom.webp",alt:"6657boom",class:"boom6657"})],-1)),o("div",je,[e[22]||(e[22]=o("div",{class:"card first-card"},[o("div",null,[o("b",null,[o("p",{class:"announcement"}," æ–°å¢æ—¶å…‰ç›¸å†Œ(å¯è¯„è®º)ï¼Œæ–°å¢åœ¨çº¿æŠ•ç¨¿å¼¹å¹•ã€‚ç©ç¥ç…§ç‰‡å¯ä»¥åœ¨ä¸Šæ–¹ä¸Šä¼ ç…§ç‰‡ä¸Šä¼ è‡³ç›¸å†Œ ")])])],-1)),o("div",{class:"card second-card"},[o("p",null,[e[4]||(e[4]=s(" è¿™æ˜¯ä¸€ä¸ªæ”¶é›†6657çƒ‚æ¢—çš„ç½‘ç«™: ")),e[5]||(e[5]=o("span",{class:"dgq63136"},[o("a",{href:"https://sb6657.cn"},"sb6657.cn")],-1)),e[6]||(e[6]=s(" å°½æƒ…æ¬£èµä½ ä»¬çš„çƒ‚æ¢—å§ã€‚ å¦å¯»å‡ ä½ç©ç¥è€è§‚ä¼—(21çº§ç‰Œå­æˆ–3000hè§‚çœ‹æ—¶é•¿)ï¼Œè·å¾—åå°å®¡æ ¸å’Œè®°å½•çš„èµ„æ ¼ï¼ï¼ ")),e[7]||(e[7]=o("br",null,null,-1)),o("b",null,[e[2]||(e[2]=s("ä¸ºäº†æ›´æ·±å…¥äº†è§£ç”¨æˆ·çš„éœ€æ±‚ä»¥åŠä½œè€…éœ€ç¼–å†™è®ºæ–‡ï¼Œç‰¹å¼€å±•ç©æœºå™¨sb6657.cn ç”¨æˆ·è°ƒç ” ")),o("a",{style:{color:"blue",cursor:"pointer"},onClick:R},"ç‚¹å‡»æˆ‘å‚åŠ "),e[3]||(e[3]=s(" ä¸ºäº†æ„Ÿè°¢æ‚¨æŠ½å‡ºå®è´µçš„æ—¶é—´å‚ä¸è°ƒç ”ï¼Œä¼šåœ¨ç»“æŸæ—¶æŠ½å–ä¸‰ä¸ªåå°å®¡æ ¸èµ„æ ¼ã€‚"))])])]),o("div",qe,[o("div",null,[l(r,{type:"primary",onClick:Q},{default:n(()=>e[8]||(e[8]=[s("ç‚¹æˆ‘éšæœºä¸€æ¡å¼¹å¹•")])),_:1}),W((c(),P(b,{data:k.tableData,class:"barrage-table",onRowClick:j},{default:n(()=>[l(d,{prop:"barrage"},{default:n(a=>[l(i,{placement:"top",width:"auto",trigger:"hover",visible:a.row.popoverVisible},{reference:n(()=>[o("div",{style:{cursor:"pointer"},onTouchstart:u=>ie(a.row),onTouchend:u=>ue(a.row)},[o("span",Fe,C(a.row.barrage),1)],40,Ae)]),default:n(()=>[o("div",Ke,[(c(!0),m(I,null,$(N(a.row.tags),(u,y)=>(c(),m("div",{key:y,style:{"margin-right":"8px"}},[l(g,{round:"",effect:"dark",style:{fontSize:"16px",cursor:"pointer"}},{default:n(()=>[u.iconUrl?(c(),m("img",{key:0,src:u.iconUrl,style:{width:"16px",height:"16px","object-fit":"cover","vertical-align":"middle"}},null,8,We)):z("",!0),s(" "+C(u.label),1)]),_:2},1024)]))),128))])]),_:2},1032,["visible"])]),_:1}),l(d,{label:"",align:"center",width:"85"},{default:n(()=>[l(r,{type:"primary"},{default:n(()=>e[9]||(e[9]=[s("å¤åˆ¶")])),_:1})]),_:1})]),_:1},8,["data"])),[[F,S.value]])])]),o("div",Xe,[o("div",null,[l(q,{modelValue:M.value,"onUpdate:modelValue":e[0]||(e[0]=a=>M.value=a),placeholder:X(ne),onKeydown:Ie(V,["enter"]),clearable:"",class:"search-input",onInput:se},{append:n(()=>[l(r,{type:"primary",onClick:V},{default:n(()=>[l(_,null,{default:n(()=>[l(X(Ve))]),_:1})]),_:1})]),_:1},8,["modelValue","placeholder"]),D.value?W((c(),P(b,{key:0,data:k.filteredItems,stripe:"",onRowClick:j,"cell-style":{cursor:"Pointer",fontSize:"large"}},{default:n(()=>[l(d,{prop:"barrage"},{default:n(a=>[l(i,{placement:"top",width:"auto",trigger:"hover","popper-class":nt},{reference:n(()=>[o("div",Ge,[o("span",Ye,C(a.row.barrage),1)])]),default:n(()=>[o("div",Je,[(c(!0),m(I,null,$(N(a.row.tags),(u,y)=>(c(),m("div",{key:y,style:{"margin-right":"8px"}},[l(g,{round:"",effect:"dark",style:{fontSize:"16px",cursor:"pointer"}},{default:n(()=>[u.iconUrl?(c(),m("img",{key:0,src:u.iconUrl,style:{width:"16px",height:"16px","object-fit":"cover","vertical-align":"middle"}},null,8,Ze)):z("",!0),s(" "+C(u.label),1)]),_:2},1024)]))),128))])]),_:2},1024)]),_:1}),l(d,{align:"center",width:"40"},{default:n(a=>[l(Pe,{likeCount:a.row.likes,onClick:G(u=>me(a.row),["stop"])},null,8,["likeCount","onClick"])]),_:1}),l(d,{align:"center",width:"100"},{default:n(a=>[l(r,{type:"primary",class:"copy-btn",onClick:G(u=>pe(a.row),["stop"])},{default:n(()=>[e[10]||(e[10]=s("å¤åˆ¶ ğŸˆ")),l($e,{num:a.row.cnt},null,8,["num"])]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[F,S.value]]):z("",!0)])]),o("div",et,[o("div",null,[o("span",null,[e[18]||(e[18]=s("å¯é€‰æ ‡ç­¾")),l(i,{width:300},{reference:n(()=>[l(_,{size:"16"},{default:n(()=>[l(A)]),_:1})]),default:n(()=>[e[11]||(e[11]=s(" ä¸ºè§£å†³çƒ‚æ¢—åˆ†æ ä¸è¶³å’Œåˆ†ç±»ä¸æ¸…æ™°é—®é¢˜ã€‚")),e[12]||(e[12]=o("br",null,null,-1)),e[13]||(e[13]=o("b",null,"ç‚¹å‡»æ ‡ç­¾å³å¯æ·»åŠ ",-1))]),_:1}),l(r,{link:"",type:"success",style:{"margin-left":"50%"}},{default:n(()=>[e[17]||(e[17]=s("æŠ•ç¨¿æ ‡ç­¾ ")),l(i,{width:300},{reference:n(()=>[l(_,{size:"16"},{default:n(()=>[l(fe)]),_:1})]),default:n(()=>[e[14]||(e[14]=o("b",null,"åŠŸèƒ½å¾…å®Œå–„(åç»­æ›´æ–°å°†æ·»åŠ )ï¼Œè¯·åœ¨ä¸Šæ–¹(å»ºè®®/æäº¤)é—®å·æŠ•ç¨¿ï¼Œsryã€‚",-1)),e[15]||(e[15]=o("br",null,null,-1)),e[16]||(e[16]=o("b",null,"å®¡æ ¸å·¨ä¸¥æ ¼ï¼Œ(é‡å¤ï¼Œç›¸ä¼¼ç­‰)å°†ä¸é€šè¿‡",-1))]),_:1})]),_:1})]),o("div",tt,[o("div",ot,[(c(!0),m(I,null,$(x.value,(a,u)=>(c(),P(g,{round:"",key:u,closable:"",onClose:y=>H(a),onClick:y=>H(a),style:{padding:"15px",cursor:"pointer","font-size":"16px"},type:"primary"},{default:n(()=>[s(C(a.label),1)]),_:2},1032,["onClose","onClick"]))),128))])]),o("span",null,[e[20]||(e[20]=s("å·²é€‰æ ‡ç­¾ ")),l(i,{width:250},{reference:n(()=>[l(_,{size:"16"},{default:n(()=>[l(A)]),_:1})]),default:n(()=>[e[19]||(e[19]=o("b",null,"æœ€å°‘ä¸€ä¸ªæ ‡ç­¾ï¼Œæœ€å¤šäº”ä¸ªæ ‡ç­¾ã€‚",-1))]),_:1})]),o("div",lt,[(c(!0),m(I,null,$(T.value,(a,u)=>(c(),P(g,{round:"",key:u,closable:"",onClick:y=>O(a),onClose:y=>O(a),style:{padding:"15px",cursor:"pointer","font-size":"16px"},effect:"dark"},{default:n(()=>[s(C(a.label),1)]),_:2},1032,["onClick","onClose"]))),128))]),l(q,{modelValue:h.value,"onUpdate:modelValue":e[1]||(e[1]=a=>h.value=a),maxlength:"255",autocomplete:"off",autosize:{minRows:2,maxRows:4},"show-word-limit":"",type:"textarea",placeholder:" çƒ‚æ¢—...."},null,8,["modelValue"]),l(r,{class:"saveBnt",type:"primary",onClick:le},{default:n(()=>e[21]||(e[21]=[s("æŠ•ç¨¿")])),_:1})]),l(ve,{right:50,bottom:50})]),l(Me,{class:"ChatRoom card"}),e[23]||(e[23]=o("div",{class:"card sixth-card"},[s(" å‹æƒ…é“¾æ¥ "),o("a",{href:"https://dgq63136.cn",target:"_blank"},"dgq63136.cn"),s("Â Â Â  "),o("a",{href:"https://sb6657.cn/#/Starrysky",target:"_blank"},"æ˜Ÿç©ºèƒŒæ™¯")],-1))])],64)}}},Tt=ee(at,[["__scopeId","data-v-503d209e"]]);export{Tt as default};
