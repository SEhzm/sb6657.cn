const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/wordCloud.QSNP2KgP.js","assets/js/echarts.D13McHMB.js","assets/js/zrender.B_NAtvFA.js","assets/js/tslib.BDyQ-Jie.js","assets/js/echarts-wordcloud.tk4DMxWl.js","assets/js/index.B4Mr7ZV4.js","assets/js/@vue.BltuATdo.js","assets/js/pinia.DfSVr1RC.js","assets/js/axios.ngrFHoWO.js","assets/js/js-cookie.Cz0CWeBA.js","assets/js/element-plus.BELI2msV.js","assets/js/lodash-es.CDeyng3v.js","assets/js/@vueuse.BO4JNAXw.js","assets/js/@element-plus.D0bpsst8.js","assets/js/@popperjs.D_chPuIy.js","assets/js/@ctrl.r5W6hzzQ.js","assets/js/dayjs.BKG3DVjA.js","assets/js/async-validator.9PlIezaS.js","assets/js/memoize-one.BdPwpGay.js","assets/js/normalize-wheel-es.BQoi3Ox2.js","assets/js/@floating-ui.D0iZPv2f.js","assets/js/vue-router.BFvkXMb7.js","assets/css/index.C0sUvfrJ.css","assets/css/wordCloud.qpx4COKE.css"])))=>i.map(i=>d[i]);
import{_ as V,C as ee,h as W,b as se,A as te}from"./index.B4Mr7ZV4.js";import{S as q,F as O,T as oe}from"./@element-plus.D0bpsst8.js";import{u as P,g as N,e as Y,c as ae,d as le}from"./time.Bm-xCisx.js";import{d as F,h,al as $,c as u,o as i,a as e,R as t,E as J,J as n,P as f,L as M,u as p,Q as R,a6 as I,O as v,W as ne,aU as re,l as ie,f as ce,I as L,aV as de,aI as ue}from"./@vue.BltuATdo.js";import{f as me,t as ve,u as pe}from"./flip-num.BkpjeUo1.js";import{c as _e,a as fe,p as K,l as be,b as Q}from"./setMeme.C4UhU9RD.js";import{R as z}from"./vue-router.BFvkXMb7.js";import{c as ge,d as he,b as w}from"./element-plus.BELI2msV.js";import"./pinia.DfSVr1RC.js";import"./axios.ngrFHoWO.js";import"./js-cookie.Cz0CWeBA.js";import"./lodash-es.CDeyng3v.js";import"./@vueuse.BO4JNAXw.js";import"./@popperjs.D_chPuIy.js";import"./@ctrl.r5W6hzzQ.js";import"./dayjs.BKG3DVjA.js";import"./async-validator.9PlIezaS.js";import"./memoize-one.BdPwpGay.js";import"./normalize-wheel-es.BQoi3Ox2.js";import"./@floating-ui.D0iZPv2f.js";const ye={class:"random-meme"},ke={class:"random-barrage-header"},$e={class:"refresh-controls"},Ce={class:"barrage-main-content"},we={class:"barrage-text-wrapper"},Te={class:"barrage-text"},xe={class:"barrage-meta-info"},Ee={key:0,class:"tags-container"},Me=["src"],Re={class:"tag-label"},Ie={class:"submit-time"},Ve={class:"meme-id"},Se={class:"copy-count"},Ae={key:1,class:"no-data"},Ue=F({__name:"random-meme",setup(S){const C=P(),m=h([]);C.tagsLoaded.then(()=>{m.value=C.memeTags});const c=h(),a=h(!1),b=h(!1);async function d(){const{_failure:g,flatData:r}=await ae();return g||!r?(console.error("获取随机烂梗失败"),!1):(c.value=r,!0)}d();const k=async()=>{if(a.value)return;if(b.value=!0,a.value=!0,!await d()){console.error("获取随机烂梗失败"),a.value=!1;return}a.value=!1,setTimeout(()=>{b.value=!1},600)},y=ve(Q,be,2e3);async function l(g){const r=y(g.barrage);if(!(!r||r==="limitedSuccess")){_e();try{await fe("",g.id)?c.value.cnt=`${+c.value.cnt+1}`:K()}catch(T){console.error("更新复制计数失败:",T),K()}}}return(g,r)=>{const T=$("Refresh"),A=$("el-icon");return i(),u("div",ye,[e("div",ke,[r[2]||(r[2]=e("div",{class:"random-barrage-title"},[e("div",{class:"title"},"随机一条烂梗"),e("span",{class:"tips"},"(直接点击也能复制)")],-1)),e("div",$e,[e("span",{class:"refresh-text",onClick:k},"换一换"),t(A,{class:J(["refresh-icon",{rotating:b.value}]),onClick:k,size:"18"},{default:n(()=>[t(T)]),_:1},8,["class"])])]),c.value?(i(),u("div",{key:0,class:"modern-barrage-card",onClick:r[1]||(r[1]=x=>l(c.value))},[e("div",Ce,[e("div",we,[e("span",Te,f(c.value.barrage),1)]),e("div",xe,[p(N)(c.value.tags,m.value).length>0?(i(),u("div",Ee,[(i(!0),u(R,null,I(p(N)(c.value.tags,m.value),(x,o)=>(i(),u("div",{key:o,class:"modern-tag"},[x.iconUrl?(i(),u("img",{key:0,src:x.iconUrl,class:"tag-icon"},null,8,Me)):M("",!0),e("span",Re,f(x.label),1)]))),128))])):M("",!0),e("div",Ie,[e("span",Ve,"#"+f(c.value.id),1),v(" "+f(p(Y)(c.value.submitTime)),1)])])]),e("div",{class:"modern-copy-button",onClick:r[0]||(r[0]=ne(x=>l(c.value),["stop"]))},[r[3]||(r[3]=e("div",{class:"copy-text"},"复制",-1)),r[4]||(r[4]=e("div",{class:"copy-icon"},"📋",-1)),e("div",Se,[t(me,{num:c.value.cnt||0},null,8,["num"])]),r[5]||(r[5]=e("div",{class:"copy-ripple"},null,-1))])])):(i(),u("div",Ae,"暂无烂梗数据"))])}}}),Be=V(Ue,[["__scopeId","data-v-0865b66a"]]),De={class:"sub-info"},Le=F({__name:"homeIntro",setup(S){return(C,m)=>(i(),u("div",null,[m[1]||(m[1]=re('<p class="announcement" data-v-bb8e5524><b data-v-bb8e5524>这是一个收集6657烂梗的网站：</b><span class="web-url" data-v-bb8e5524><a href="https://sb6657.cn" data-v-bb8e5524>sb6657.cn</a></span> 尽情欣赏你们的烂梗吧。 </p><p class="sub-info" data-v-bb8e5524><b data-v-bb8e5524> 油猴插件 <a href="https://cdn.hguofichp.cn/sb6657.cn%E6%96%97%E9%B1%BC%E7%8E%A9%E6%9C%BA%E5%99%A8%E7%83%82%E6%A2%97%E6%94%B6%E9%9B%86.user.js" target="_blank" data-v-bb8e5524>点击下载</a> 可在斗鱼直播间一键发送烂梗 </b></p><p class="sub-info" data-v-bb8e5524>开放注册功能，可能会出现收不到邮件的情况。</p><p class="sub-info" data-v-bb8e5524>目前已支持玩机器直播间开播提醒</p>',4)),e("p",De,[t(p(z),{to:"/update"},{default:n(()=>[...m[0]||(m[0]=[v("网站更新日志",-1)])]),_:1})])]))}}),Ne=V(Le,[["__scopeId","data-v-bb8e5524"]]),ze={class:"did-you-know"},Pe={class:"knowledge-list"},Fe={class:"latest-meme"},je={class:"line-top"},He={class:"total"},We={class:"total-count"},qe={class:"submit-time"},Oe={class:"line-bottom"},Ke={class:"tooltip-content"},Ye={key:0,class:"tags-container"},Je=["src"],Qe={class:"tag-label"},Ge={class:"copy-count"},Xe=F({__name:"didYouKnow",setup(S){const C=pe(),m=P(),c=h([]);m.tagsLoaded.then(()=>{c.value=m.memeTags});const a=ie({time:"",meme:"",tags:[{label:"",iconUrl:""}],copy:0,total:0});async function b(){const y=await le("allbarrage",1,1);y&&(a.time=Y(y.memeArr[0].submitTime),a.meme=y.memeArr[0].content,a.tags=N(y.memeArr[0].tags,c.value),a.copy=y.memeArr[0].copyCount,a.total=y.total)}b();const d=h(!1);function k(){a.meme&&(Q(a.meme),w({message:"复制成功",type:"success"}),d.value=!0,setTimeout(()=>{d.value=!1},1200))}return(y,l)=>(i(),u("div",ze,[l[8]||(l[8]=e("h3",null,"🤔 你知道吗？",-1)),e("ul",Pe,[e("li",null,[l[1]||(l[1]=v(" 谁目前打出了对位donk最多的击杀? 谁又是对位donk最大的受害者? ",-1)),t(p(z),{to:"/15warriorsDonk"},{default:n(()=>[...l[0]||(l[0]=[v("- 布雷德15勇士",-1)])]),_:1})]),e("li",null,[l[3]||(l[3]=v(" 哪只队伍捕虾最专业? 谁是最佳捕虾人? 又是谁在捕虾过程中惨遭反夹? ",-1)),t(p(z),{to:"/dejaVuNiko"},{default:n(()=>[...l[2]||(l[2]=[v("- 超级逮虾户战报",-1)])]),_:1})]),t(p(ge)),e("li",Fe,[e("div",je,[e("span",He,[l[4]||(l[4]=v(" 共有 ",-1)),e("span",We,f(a.total),1),l[5]||(l[5]=v(" 条烂梗 ",-1))]),e("span",qe,"最后投稿时间："+f(a.time),1)]),e("div",Oe,[l[6]||(l[6]=e("span",{class:"label"},"最新投稿烂梗：",-1)),l[7]||(l[7]=e("span",{class:"copy-hint"},"(点击可复制)",-1)),t(p(he),{trigger:p(C)?"click":"hover",placement:"top",effect:"light"},{content:n(()=>[e("div",Ke,[a.tags&&a.tags.length?(i(),u("div",Ye,[(i(!0),u(R,null,I(a.tags,(g,r)=>(i(),u("div",{key:r,class:"modern-tag"},[g.iconUrl?(i(),u("img",{key:0,src:g.iconUrl,class:"tag-icon"},null,8,Je)):M("",!0),e("span",Qe,f(g.label),1)]))),128))])):M("",!0),e("div",Ge,"复制次数："+f(a.copy),1)])]),default:n(()=>[e("span",{class:J(["meme-text",{clicked:d.value}]),onClick:k},f(a.meme),3)]),_:1},8,["trigger"])])])])]))}}),Ze=V(Xe,[["__scopeId","data-v-10ef246e"]]),es={class:"home"},ss={class:"cards-container"},ts={class:"card first-card"},os={class:"card second-card"},as={class:"card third-card"},ls={class:"card fifth-card"},ns={class:"preset-tags-container"},rs={class:"preset-tags"},is={class:"tag-icon-wrapper"},cs=["src"],ds={class:"tag-text"},us={class:"added-tags"},ms={class:"match-association-container"},vs={class:"match-section-home"},ps={key:0,class:"match-details-box-home"},_s={class:"match-info-row-home"},fs=["src","alt"],bs={class:"match-name-home"},gs={class:"match-time-home"},hs={key:1,class:"no-match-info-home"},ys={class:"wordCloudDiv"},ks={class:"word-cloud-title"},$s={__name:"Home",setup(S){const C=P();C.tagsLoaded.then(()=>{c.value=C.memeTags.map(o=>({iconUrl:o.iconUrl,label:o.dictLabel,value:o.dictValue}))});const m=h(""),c=h([]),a=h([]),b=h([]),d=h(null),k=h(!1);function y(){W.get("/machine/InProgressMatch").then(o=>{o.code===200&&o.data?d.value=o.data:d.value=null,console.log("Fetched match data:",d.value)}).catch(o=>{console.error("Failed to fetch in progress match:",o),d.value=null})}ce(()=>{y()});const l=o=>{a.value=a.value.filter(s=>s.value!==o.value),b.value=b.value.filter(s=>s!==o.value),c.value.push(o)},g=o=>{if(b.value.length>=5){w.info("最多5个标签");return}a.value.some(s=>s.value===o.value)||(a.value.push(o),b.value.push(o.value),c.value=c.value.filter(s=>s.value!==o.value))},r=()=>{if(b.value.length===0||m.value===""||m.value===null)w.error("请选择标签或输入弹幕");else{if(b.value.length>5){w.error("最少一个标签，最多五个标签。");return}const o={tags:b.value.join(","),barrage:m.value};k.value&&d.value&&(o.matchId=d.value.id),W.post(te.SUBMIT_MEME,o).then(s=>{m.value="",k.value=!1,s.code===200?w.success("投稿成功，待审核(一天内)"):s.code===500?w.error("烂梗已经有了，勿重复提交"):w.error("请求失败")}).catch(s=>{console.error("投稿失败",s),w.error("请求失败")})}},T=h(null),A=de(()=>se(()=>import("./wordCloud.QSNP2KgP.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])));function x(){var o,s;(s=(o=T.value)==null?void 0:o.getData)==null||s.call(o)}return(o,s)=>{const E=$("el-icon"),U=$("el-popover"),j=$("el-button"),H=$("el-tag"),G=$("el-input"),X=$("el-checkbox"),Z=$("el-backtop");return i(),u("div",es,[s[16]||(s[16]=e("div",{class:"boom"},[e("img",{src:"https://gcore.jsdelivr.net/gh/9WiSHao/AnythingStorage/img/6657boom.webp",alt:"6657boom",class:"boom6657"})],-1)),e("div",ss,[e("div",ts,[t(Ne)]),e("div",os,[t(Ze)])]),e("div",as,[t(Be)]),e("div",ls,[e("div",null,[e("span",null,[s[9]||(s[9]=v(" 可选标签 ",-1)),t(U,{width:300},{reference:n(()=>[t(E,{size:"16"},{default:n(()=>[t(p(q))]),_:1})]),default:n(()=>[s[3]||(s[3]=v(" 为解决烂梗分栏不足和分类不清晰问题。 ",-1)),s[4]||(s[4]=e("br",null,null,-1)),s[5]||(s[5]=e("b",null,"点击标签即可添加",-1))]),_:1}),t(j,{link:"",type:"success",class:"submit-tag-button"},{default:n(()=>[s[8]||(s[8]=v(" 投稿标签 ",-1)),t(U,{width:300},{reference:n(()=>[t(E,{size:"16"},{default:n(()=>[t(p(O))]),_:1})]),default:n(()=>[s[6]||(s[6]=e("b",null,"请在上方(建议/提交)问卷投稿。",-1)),s[7]||(s[7]=e("br",null,null,-1))]),_:1})]),_:1})]),e("div",ns,[e("div",rs,[(i(!0),u(R,null,I(c.value,(_,B)=>(i(),L(H,{round:"",key:B,closable:"",onClose:D=>g(_),onClick:D=>g(_),class:"preset-tag",type:"primary"},{default:n(()=>[e("div",is,[_.iconUrl?(i(),u("img",{key:0,src:_.iconUrl,class:"tag-icon"},null,8,cs)):M("",!0),e("span",ds,f(_.label),1)])]),_:2},1032,["onClose","onClick"]))),128))])]),e("span",null,[s[11]||(s[11]=v(" 已选标签 ",-1)),t(U,{width:250},{reference:n(()=>[t(E,{size:"16"},{default:n(()=>[t(p(q))]),_:1})]),default:n(()=>[s[10]||(s[10]=e("b",null,"最少一个标签，最多五个标签。",-1))]),_:1})]),e("div",us,[(i(!0),u(R,null,I(a.value,(_,B)=>(i(),L(H,{round:"",key:B,closable:"",onClick:D=>l(_),onClose:D=>l(_),class:"added-tag",effect:"dark"},{default:n(()=>[v(f(_.label),1)]),_:2},1032,["onClick","onClose"]))),128))]),t(G,{modelValue:m.value,"onUpdate:modelValue":s[0]||(s[0]=_=>m.value=_),maxlength:"255",autocomplete:"off",autosize:{minRows:2,maxRows:4},"show-word-limit":"",type:"textarea",placeholder:" 烂梗...."},null,8,["modelValue"]),e("div",ms,[e("div",vs,[t(X,{modelValue:k.value,"onUpdate:modelValue":s[1]||(s[1]=_=>k.value=_),disabled:!d.value,class:"match-checkbox-home"},{default:n(()=>[s[12]||(s[12]=v(" 关联赛事库 ",-1)),t(E,{color:"#3db302ff",size:"16"},{default:n(()=>[t(p(O))]),_:1})]),_:1},8,["modelValue","disabled"]),d.value?(i(),u("div",ps,[e("div",_s,[e("img",{src:d.value.matchesImg,class:"match-image-home",alt:d.value.matchesName},null,8,fs),e("span",bs,f(d.value.matchesName),1)]),e("div",gs,f(d.value.startTime)+" 至 "+f(d.value.endTime),1)])):(i(),u("div",hs,"当前无正在进行的大型赛事")),t(j,{class:"saveBnt",type:"primary",onClick:r},{default:n(()=>[...s[13]||(s[13]=[v("投稿",-1)])]),_:1})])])]),t(Z,{right:50,bottom:50})]),t(ee,{class:"ChatRoom card"}),s[17]||(s[17]=e("div",{class:"card sixth-card"},[v(" 友情链接 "),e("a",{href:"https://dgq63136.cn",target:"_blank"},"dgq63136.cn"),v("     "),e("a",{href:"https://sb6657.cn/#/Starrysky",target:"_blank"},"星空背景")],-1)),e("div",ys,[e("span",ks,[s[14]||(s[14]=v(" 搜索词云 ",-1)),t(E,{size:"20",class:"word-cloud-refresh-icon",onClick:s[2]||(s[2]=_=>x())},{default:n(()=>[t(p(oe))]),_:1})]),(i(),L(ue,null,{default:n(()=>[t(p(A),{ref_key:"wordCloudRef",ref:T},null,512)]),fallback:n(()=>[...s[15]||(s[15]=[e("div",{class:"word-cloud-loading"},"词云加载中...",-1)])]),_:1}))])])}}},Hs=V($s,[["__scopeId","data-v-ce76ab6c"]]);export{Hs as default};
