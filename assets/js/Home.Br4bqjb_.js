const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/wordCloud.ORoD6OFu.js","assets/js/echarts.D13McHMB.js","assets/js/zrender.B_NAtvFA.js","assets/js/tslib.BDyQ-Jie.js","assets/js/echarts-wordcloud.tk4DMxWl.js","assets/js/index.CWDdHqvs.js","assets/js/@vue.BltuATdo.js","assets/js/pinia.DfSVr1RC.js","assets/js/axios.ngrFHoWO.js","assets/js/js-cookie.Cz0CWeBA.js","assets/js/element-plus.C4Wz9kMa.js","assets/js/lodash-es.CDeyng3v.js","assets/js/@vueuse.7i1SIcsD.js","assets/js/@element-plus.D0bpsst8.js","assets/js/@popperjs.D_chPuIy.js","assets/js/@ctrl.r5W6hzzQ.js","assets/js/dayjs.BKG3DVjA.js","assets/js/async-validator.9PlIezaS.js","assets/js/memoize-one.BdPwpGay.js","assets/js/normalize-wheel-es.BQoi3Ox2.js","assets/js/@floating-ui.D0iZPv2f.js","assets/js/vue-router.BFvkXMb7.js","assets/css/index.C0sUvfrJ.css","assets/css/wordCloud.qpx4COKE.css"])))=>i.map(i=>d[i]);
import{_ as W,C as K,h as P,b as X,A as Y}from"./index.CWDdHqvs.js";import{S as F,F as j,T as Z}from"./@element-plus.D0bpsst8.js";import{u as H,e as ee,b as se}from"./time.4gJ6Owh4.js";import{d as te,h as v,al as h,c as u,o as d,a as s,R as a,E as ae,J as l,P as k,L as U,Q as A,a6 as N,O as i,u as g,W as oe,f as le,aU as ne,I as D,aV as re,aI as ie}from"./@vue.BltuATdo.js";import{f as de,t as ce}from"./flip-num.s1_2jmgo.js";import{c as ue,a as me,p as q,l as ve,b as pe}from"./setMeme.CV-OYDMk.js";import{R as I}from"./vue-router.BFvkXMb7.js";import{b as $}from"./element-plus.C4Wz9kMa.js";import"./pinia.DfSVr1RC.js";import"./axios.ngrFHoWO.js";import"./js-cookie.Cz0CWeBA.js";import"./lodash-es.CDeyng3v.js";import"./@vueuse.7i1SIcsD.js";import"./@popperjs.D_chPuIy.js";import"./@ctrl.r5W6hzzQ.js";import"./dayjs.BKG3DVjA.js";import"./async-validator.9PlIezaS.js";import"./memoize-one.BdPwpGay.js";import"./normalize-wheel-es.BQoi3Ox2.js";import"./@floating-ui.D0iZPv2f.js";const fe={class:"random-meme"},_e={class:"random-barrage-header"},ge={class:"refresh-controls"},be={key:0,class:"modern-barrage-container"},he={class:"barrage-main-content"},ke={class:"barrage-text-wrapper"},ye={class:"barrage-text"},Ce={class:"barrage-meta-info"},we={key:0,class:"tags-container"},$e=["src"],Te={class:"tag-label"},xe={class:"submit-time"},Ee={class:"meme-id"},Re={class:"copy-count"},Ve={key:1,class:"no-data"},Me=te({__name:"random-meme",setup(O){const y=H(),E=v([]);y.tagsLoaded.then(()=>{E.value=y.memeTags});const n=v(),f=v(!1),b=v(!1);async function _(){const{_failure:p,flatData:o}=await se();return p||!o?(console.error("è·å–éšæœºçƒ‚æ¢—å¤±è´¥"),!1):(n.value=o,!0)}_();const r=async()=>{if(f.value)return;if(b.value=!0,f.value=!0,!await _()){console.error("è·å–éšæœºçƒ‚æ¢—å¤±è´¥"),f.value=!1;return}f.value=!1,setTimeout(()=>{b.value=!1},600)};function C(p){const o=p.split(",");return E.value.filter(m=>o.includes(m.dictValue)).map(m=>({label:m.dictLabel,iconUrl:m.iconUrl}))}const R=ce(pe,ve,2e3);async function T(p){const o=R(p.barrage);if(!(!o||o==="limitedSuccess")){ue();try{await me("",p.id)?n.value.cnt=`${+n.value.cnt+1}`:q()}catch(m){console.error("æ›´æ–°å¤åˆ¶è®¡æ•°å¤±è´¥:",m),q()}}}return(p,o)=>{const m=h("Refresh"),V=h("el-icon");return d(),u("div",fe,[s("div",_e,[o[2]||(o[2]=s("div",{class:"random-barrage-title"},[s("div",{class:"title"},"éšæœºä¸€æ¡çƒ‚æ¢—"),s("span",{class:"tips"},"(ç›´æ¥ç‚¹å‡»ä¹Ÿèƒ½å¤åˆ¶)")],-1)),s("div",ge,[s("span",{class:"refresh-text",onClick:r},"æ¢ä¸€æ¢"),a(V,{class:ae(["refresh-icon",{rotating:b.value}]),onClick:r,size:"18"},{default:l(()=>[a(m)]),_:1},8,["class"])])]),n.value?(d(),u("div",be,[s("div",{class:"modern-barrage-card",onClick:o[1]||(o[1]=w=>T(n.value))},[s("div",he,[s("div",ke,[s("span",ye,k(n.value.barrage),1)]),s("div",Ce,[C(n.value.tags).length>0?(d(),u("div",we,[(d(!0),u(A,null,N(C(n.value.tags),(w,t)=>(d(),u("div",{key:t,class:"modern-tag"},[w.iconUrl?(d(),u("img",{key:0,src:w.iconUrl,class:"tag-icon"},null,8,$e)):U("",!0),s("span",Te,k(w.label),1)]))),128))])):U("",!0),s("div",xe,[s("span",Ee,"#"+k(n.value.id),1),i(" "+k(g(ee)(n.value.submitTime)),1)])])]),s("div",{class:"modern-copy-button",onClick:o[0]||(o[0]=oe(w=>T(n.value),["stop"]))},[o[3]||(o[3]=s("div",{class:"copy-text"},"å¤åˆ¶",-1)),o[4]||(o[4]=s("div",{class:"copy-icon"},"ğŸ“‹",-1)),s("div",Re,[a(de,{num:n.value.cnt||0},null,8,["num"])]),o[5]||(o[5]=s("div",{class:"copy-ripple"},null,-1))])])])):(d(),u("div",Ve,"æš‚æ— çƒ‚æ¢—æ•°æ®"))])}}}),Se=W(Me,[["__scopeId","data-v-128fd093"]]),Be={class:"home"},De={class:"cards-container"},Ie={class:"card first-card"},Ue={class:"sub-info"},Ae={class:"card second-card"},Ne={class:"did-you-know"},Le={class:"knowledge-list"},ze={class:"card third-card"},Pe={class:"card fifth-card"},Fe={class:"preset-tags-container"},je={class:"preset-tags"},qe={class:"tag-icon-wrapper"},We=["src"],He={class:"tag-text"},Oe={class:"added-tags"},Je={class:"match-association-container"},Qe={class:"match-section-home"},Ge={key:0,class:"match-details-box-home"},Ke={class:"match-info-row-home"},Xe=["src","alt"],Ye={class:"match-name-home"},Ze={class:"match-time-home"},es={key:1,class:"no-match-info-home"},ss={class:"wordCloudDiv"},ts={class:"word-cloud-title"},as={__name:"Home",setup(O){const y=H(),E=v([]);y.tagsLoaded.then(()=>{console.log("dictData",y.memeTags),E.value=y.memeTags,f.value=y.memeTags.map(t=>({iconUrl:t.iconUrl,label:t.dictLabel,value:t.dictValue}))});const n=v(""),f=v([]),b=v([]),_=v([]),r=v(null),C=v(!1);function R(){P.get("/machine/InProgressMatch").then(t=>{t.code===200&&t.data?r.value=t.data:r.value=null,console.log("Fetched match data:",r.value)}).catch(t=>{console.error("Failed to fetch in progress match:",t),r.value=null})}le(()=>{R()});const T=t=>{b.value=b.value.filter(e=>e.value!==t.value),_.value=_.value.filter(e=>e!==t.value),f.value.push(t)},p=t=>{if(_.value.length>=5){$.info("æœ€å¤š5ä¸ªæ ‡ç­¾");return}b.value.some(e=>e.value===t.value)||(b.value.push(t),_.value.push(t.value),f.value=f.value.filter(e=>e.value!==t.value))},o=()=>{if(_.value.length===0||n.value===""||n.value===null)$.error("è¯·é€‰æ‹©æ ‡ç­¾æˆ–è¾“å…¥å¼¹å¹•");else{if(_.value.length>5){$.error("æœ€å°‘ä¸€ä¸ªæ ‡ç­¾ï¼Œæœ€å¤šäº”ä¸ªæ ‡ç­¾ã€‚");return}const t={tags:_.value.join(","),barrage:n.value};C.value&&r.value&&(t.matchId=r.value.id),P.post(Y.SUBMIT_MEME,t).then(e=>{n.value="",C.value=!1,e.code===200?$.success("æŠ•ç¨¿æˆåŠŸï¼Œå¾…å®¡æ ¸(ä¸€å¤©å†…)"):e.code===500?$.error("çƒ‚æ¢—å·²ç»æœ‰äº†ï¼Œå‹¿é‡å¤æäº¤"):$.error("è¯·æ±‚å¤±è´¥")}).catch(e=>{console.error("æŠ•ç¨¿å¤±è´¥",e),$.error("è¯·æ±‚å¤±è´¥")})}},m=v(null),V=re(()=>X(()=>import("./wordCloud.ORoD6OFu.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])));function w(){var t,e;(e=(t=m.value)==null?void 0:t.getData)==null||e.call(t)}return(t,e)=>{const x=h("el-icon"),M=h("el-popover"),L=h("el-button"),z=h("el-tag"),J=h("el-input"),Q=h("el-checkbox"),G=h("el-backtop");return d(),u("div",Be,[e[24]||(e[24]=s("div",{class:"boomouder"},[s("img",{src:"https://gcore.jsdelivr.net/gh/9WiSHao/AnythingStorage/img/6657boom.webp",alt:"6657boom",class:"boom6657"})],-1)),s("div",De,[s("div",Ie,[s("div",null,[e[4]||(e[4]=ne('<p class="announcement" data-v-cc0c01da><b data-v-cc0c01da>è¿™æ˜¯ä¸€ä¸ªæ”¶é›†6657çƒ‚æ¢—çš„ç½‘ç«™ï¼š</b><span class="dgq63136" data-v-cc0c01da><a href="https://sb6657.cn" data-v-cc0c01da>sb6657.cn</a></span> å°½æƒ…æ¬£èµä½ ä»¬çš„çƒ‚æ¢—å§ã€‚ </p><p class="sub-info" data-v-cc0c01da><b data-v-cc0c01da> æ²¹çŒ´æ’ä»¶ <a href="https://cdn.hguofichp.cn/sb6657.cn%E6%96%97%E9%B1%BC%E7%8E%A9%E6%9C%BA%E5%99%A8%E7%83%82%E6%A2%97%E6%94%B6%E9%9B%86.user.js" target="_blank" data-v-cc0c01da>ç‚¹å‡»ä¸‹è½½</a> å¯åœ¨æ–—é±¼ç›´æ’­é—´ä¸€é”®å¤åˆ¶çƒ‚æ¢— </b></p><p class="sub-info" data-v-cc0c01da>å¼€æ”¾æ³¨å†ŒåŠŸèƒ½ï¼Œå¯èƒ½ä¼šå‡ºç°æ”¶ä¸åˆ°é‚®ä»¶çš„æƒ…å†µã€‚</p><p class="sub-info" data-v-cc0c01da>ç›®å‰å·²æ”¯æŒç©æœºå™¨ç›´æ’­é—´å¼€æ’­æé†’</p>',4)),s("p",Ue,[a(g(I),{to:"/update"},{default:l(()=>[...e[3]||(e[3]=[i("ç½‘ç«™æ›´æ–°æ—¥å¿—",-1)])]),_:1})])])]),s("div",Ae,[s("div",Ne,[e[10]||(e[10]=s("h3",null,"ğŸ¤” ä½ çŸ¥é“å—ï¼Ÿ",-1)),s("ul",Le,[s("li",null,[e[6]||(e[6]=i(" è°ç›®å‰æ‰“å‡ºäº†å¯¹ä½donkæœ€å¤šçš„å‡»æ€? è°åˆæ˜¯å¯¹ä½donkæœ€å¤§çš„å—å®³è€…? ",-1)),a(g(I),{to:"/15warriorsDonk"},{default:l(()=>[...e[5]||(e[5]=[i("- å¸ƒé›·å¾·15å‹‡å£«",-1)])]),_:1})]),s("li",null,[e[8]||(e[8]=i(" å“ªåªé˜Ÿä¼æ•è™¾æœ€ä¸“ä¸š? è°æ˜¯æœ€ä½³æ•è™¾äºº, è°åœ¨æ•è™¾è¿‡ç¨‹ä¸­æƒ¨é­åå¤¹? ",-1)),a(g(I),{to:"/dejaVuNiko"},{default:l(()=>[...e[7]||(e[7]=[i("- è¶…çº§é€®è™¾æˆ·æˆ˜æŠ¥",-1)])]),_:1})]),e[9]||(e[9]=s("li",{class:"placeholder-item"},null,-1))])])])]),s("div",ze,[a(Se)]),s("div",Pe,[s("div",null,[s("span",null,[e[17]||(e[17]=i(" å¯é€‰æ ‡ç­¾ ",-1)),a(M,{width:300},{reference:l(()=>[a(x,{size:"16"},{default:l(()=>[a(g(F))]),_:1})]),default:l(()=>[e[11]||(e[11]=i(" ä¸ºè§£å†³çƒ‚æ¢—åˆ†æ ä¸è¶³å’Œåˆ†ç±»ä¸æ¸…æ™°é—®é¢˜ã€‚ ",-1)),e[12]||(e[12]=s("br",null,null,-1)),e[13]||(e[13]=s("b",null,"ç‚¹å‡»æ ‡ç­¾å³å¯æ·»åŠ ",-1))]),_:1}),a(L,{link:"",type:"success",class:"submit-tag-button"},{default:l(()=>[e[16]||(e[16]=i(" æŠ•ç¨¿æ ‡ç­¾ ",-1)),a(M,{width:300},{reference:l(()=>[a(x,{size:"16"},{default:l(()=>[a(g(j))]),_:1})]),default:l(()=>[e[14]||(e[14]=s("b",null,"è¯·åœ¨ä¸Šæ–¹(å»ºè®®/æäº¤)é—®å·æŠ•ç¨¿ã€‚",-1)),e[15]||(e[15]=s("br",null,null,-1))]),_:1})]),_:1})]),s("div",Fe,[s("div",je,[(d(!0),u(A,null,N(f.value,(c,S)=>(d(),D(z,{round:"",key:S,closable:"",onClose:B=>p(c),onClick:B=>p(c),class:"preset-tag",type:"primary"},{default:l(()=>[s("div",qe,[c.iconUrl?(d(),u("img",{key:0,src:c.iconUrl,class:"tag-icon"},null,8,We)):U("",!0),s("span",He,k(c.label),1)])]),_:2},1032,["onClose","onClick"]))),128))])]),s("span",null,[e[19]||(e[19]=i(" å·²é€‰æ ‡ç­¾ ",-1)),a(M,{width:250},{reference:l(()=>[a(x,{size:"16"},{default:l(()=>[a(g(F))]),_:1})]),default:l(()=>[e[18]||(e[18]=s("b",null,"æœ€å°‘ä¸€ä¸ªæ ‡ç­¾ï¼Œæœ€å¤šäº”ä¸ªæ ‡ç­¾ã€‚",-1))]),_:1})]),s("div",Oe,[(d(!0),u(A,null,N(b.value,(c,S)=>(d(),D(z,{round:"",key:S,closable:"",onClick:B=>T(c),onClose:B=>T(c),class:"added-tag",effect:"dark"},{default:l(()=>[i(k(c.label),1)]),_:2},1032,["onClick","onClose"]))),128))]),a(J,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=c=>n.value=c),maxlength:"255",autocomplete:"off",autosize:{minRows:2,maxRows:4},"show-word-limit":"",type:"textarea",placeholder:" çƒ‚æ¢—...."},null,8,["modelValue"]),s("div",Je,[s("div",Qe,[a(Q,{modelValue:C.value,"onUpdate:modelValue":e[1]||(e[1]=c=>C.value=c),disabled:!r.value,class:"match-checkbox-home"},{default:l(()=>[e[20]||(e[20]=i(" å…³è”èµ›äº‹åº“ ",-1)),a(x,{color:"#3db302ff",size:"16"},{default:l(()=>[a(g(j))]),_:1})]),_:1},8,["modelValue","disabled"]),r.value?(d(),u("div",Ge,[s("div",Ke,[s("img",{src:r.value.matchesImg,class:"match-image-home",alt:r.value.matchesName},null,8,Xe),s("span",Ye,k(r.value.matchesName),1)]),s("div",Ze,k(r.value.startTime)+" è‡³ "+k(r.value.endTime),1)])):(d(),u("div",es,"å½“å‰æ— æ­£åœ¨è¿›è¡Œçš„å¤§å‹èµ›äº‹")),a(L,{class:"saveBnt",type:"primary",onClick:o},{default:l(()=>[...e[21]||(e[21]=[i("æŠ•ç¨¿",-1)])]),_:1})])])]),a(G,{right:50,bottom:50})]),a(K,{class:"ChatRoom card"}),e[25]||(e[25]=s("div",{class:"card sixth-card"},[i(" å‹æƒ…é“¾æ¥ "),s("a",{href:"https://dgq63136.cn",target:"_blank"},"dgq63136.cn"),i(" Â Â Â  "),s("a",{href:"https://sb6657.cn/#/Starrysky",target:"_blank"},"æ˜Ÿç©ºèƒŒæ™¯")],-1)),s("div",ss,[s("span",ts,[e[22]||(e[22]=i(" æœç´¢è¯äº‘ ",-1)),a(x,{size:"20",class:"word-cloud-refresh-icon",onClick:e[2]||(e[2]=c=>w())},{default:l(()=>[a(g(Z))]),_:1})]),(d(),D(ie,null,{default:l(()=>[a(g(V),{ref_key:"wordCloudRef",ref:m},null,512)]),fallback:l(()=>[...e[23]||(e[23]=[s("div",{class:"word-cloud-loading"},"è¯äº‘åŠ è½½ä¸­...",-1)])]),_:1}))])])}}},$s=W(as,[["__scopeId","data-v-cc0c01da"]]);export{$s as default};
