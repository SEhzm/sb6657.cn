import{M,h as m,A as g,p as f}from"./index.BZ-R_guN.js";async function l(t,n){var s,o;try{const a=await m.get(t);return(o=(s=a==null?void 0:a.data)==null?void 0:s[0])!=null&&o.barrage?a.data.map(r=>({tags:r.tags,content:r.barrage,id:`${r.barrageId}`,copyCount:r.cnt,submitTime:r.submitTime})):(console.log(`获取${n}烂梗失败`,a),!1)}catch(a){return console.log(`获取${n}烂梗失败`,a),!1}}function h(){return l(g.GET_HOT_MEME_24h,"24h热门")}function p(){return l(g.GET_HOT_MEME_7D,"七天热门")}async function T(t){return console.log(`搜索词: ${t.barrage}, 标签: ${t.tags}, 投稿时间: ${t.submitTime}, 排序: ${t.sort}, 每页烂梗数: ${t.pageSize}, 页数: ${t.pageNum}`),await f({url:g.SEARCH_MEME,data:t})}async function $(t,n,s,o){var a,u,r;console.log(`请求烂梗分类: ${t}, 页数: ${n}, 每页烂梗数: ${s}`);try{const c=(a=M.find(e=>e.category===t))==null?void 0:a.api;if(!c)throw new Error("未找到此分类");const i=await m.get(c,{params:{tags:o,pageNum:n,pageSize:s}});if(((r=(u=i.data)==null?void 0:u.list)==null?void 0:r.length)<=0)throw new Error("请求到的烂梗列表为空");return{memeArr:i.data.list.map(e=>({tags:e.tags,content:e.barrage,id:e.id,category:t,copyCount:+e.cnt,likes:+e.likes,submitTime:e.submitTime})),total:i.data.total}}catch(c){return console.error("请求烂梗列表失败",c),!1}}async function b(){const t=await m.get(g.GET_MEME_TAGS);if(t.code!==200)throw new Error(t.msg);return t.data}export{h as a,p as b,$ as c,b as g,T as s};
