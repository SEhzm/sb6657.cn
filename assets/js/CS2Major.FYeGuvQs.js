import{v as pe,c as re,a as H,M as fe,e as _e,N as be,n as Te,L as ye}from"./element-plus.nxJ_dmmw.js";import{d as G,r as m,w as se,c as p,o as g,a as s,Q as w,u as D,I as f,D as M,O as k,P as ie,a6 as le,V as x,n as he,k as ee,i as oe,J as ke,M as K,K as V,W as ge,H as we,S as Ce}from"./@vue.Ca5AQEsS.js";import{d as B}from"./vuedraggable.DT4yJUdD.js";import{_ as Y,h as Q,u as $e}from"./index.eeKMCR7J.js";import{u as Ve}from"./vue-router.DhOS9MZH.js";import{R as Pe,v as Ie}from"./@element-plus.BuV21Ltw.js";import{h as Me}from"./html2canvas.BfYXEYrK.js";import{S as Se,P as Le,W as qe,A as De,O as Ee,a as Ae,D as me,b as Be,c as ze,R as Re,G as xe,M as We,B as Ue,V as ve}from"./three.BX7nTO8R.js";import"./lodash-es.S0Y0Up6J.js";import"./@vueuse.BFkoDYlQ.js";import"./@popperjs.D_chPuIy.js";import"./@ctrl.r5W6hzzQ.js";import"./dayjs.DcnvBwdO.js";import"./async-validator.9PlIezaS.js";import"./memoize-one.BdPwpGay.js";import"./normalize-wheel-es.BQoi3Ox2.js";import"./@floating-ui.58V2siOx.js";import"./vue.CP_DfUbm.js";import"./sortablejs.YiSzADr_.js";import"./pinia.Dz8zdBJG.js";import"./axios.xsH4HHeE.js";import"./js-cookie.Cz0CWeBA.js";const Fe={class:"major-predict-root"},je={class:"team-pool"},Ne=["src","alt"],He={class:"team-name"},Oe={class:"predict-area"},Ge={class:"predict-row"},Ke={class:"predict-block"},Ze={class:"predict-label"},Je=["src","alt"],Qe={class:"team-name"},Ye=["onClick","disabled"],Xe={class:"predict-block"},es={class:"predict-label"},ss=["src","alt"],ts={class:"team-name"},as=["onClick","disabled"],os={class:"predict-row advance-row"},is={class:"advance-label"},ls=["src","alt"],ns={class:"team-name"},ds=["onClick","disabled"],rs=G({name:"MatchPredictionBase"}),cs=G({...rs,props:{teams:{},firstLabel:{},secondLabel:{},advanceLabel:{},maxAdvance:{},isTimeValid:{type:Boolean}},setup(W,{expose:j}){const _=W,z={name:"teams"},r=m([]),v=m([]),d=m([]),h=m([]);se(()=>_.teams,o=>{const i=Array.from(new Map(o.map(a=>[a.id,a])).values());r.value=[...i]},{immediate:!0});function C(o){const i=o.draggedContext.element;return o.from&&!o.from.classList.contains("team-list")&&o.to.classList.contains("predict-slot")?!0:!(S(i.id,i.name)||v.value.length>=2)}function b(o){const i=o.draggedContext.element;return o.from&&!o.from.classList.contains("team-list")&&o.to.classList.contains("predict-slot")?!0:!(S(i.id,i.name)||d.value.length>=2)}function T(o){const i=o.draggedContext.element;return!I(o.from)&&o.to.classList.contains("predict-slot")?!0:!S(i.id,i.name)}function I(o){return o&&o.classList&&o.classList.contains("team-list")}function S(o,i){return v.value.some(a=>a.id===o||a.name===i)||d.value.some(a=>a.id===o||a.name===i)||h.value.some(a=>a.id===o||a.name===i)}function L(o){if(o.added){const a=o.added.element;d.value=d.value.filter(n=>n.id!==a.id),h.value=h.value.filter(n=>n.id!==a.id)}if(o.removed){const a=o.removed.element;r.value.some(n=>n.id===a.id)||r.value.push(a)}const i=Array.from(new Map(v.value.map(a=>[a.id,a])).values());v.value.splice(0,v.value.length,...i),v.value.length>2&&v.value.splice(2).forEach(n=>{r.value.some(y=>y.id===n.id)||r.value.push(n)}),c()}function A(o){if(o.added){const a=o.added.element;v.value=v.value.filter(n=>n.id!==a.id),h.value=h.value.filter(n=>n.id!==a.id)}if(o.removed){const a=o.removed.element;r.value.some(n=>n.id===a.id)||r.value.push(a)}const i=Array.from(new Map(d.value.map(a=>[a.id,a])).values());d.value.splice(0,d.value.length,...i),d.value.length>2&&d.value.splice(2).forEach(n=>{r.value.some(y=>y.id===n.id)||r.value.push(n)}),c()}function R(o){if(o.added){const a=o.added.element;if(!o.from.classList.contains("team-list")&&o.added.newIndex!==void 0){if(o.removed){const n=o.removed.element;r.value.some(y=>y.id===n.id)||r.value.push(n)}}else if(h.value.length>_.maxAdvance&&o.removed){const n=o.removed.element;r.value.some(y=>y.id===n.id)||r.value.push(n)}v.value=v.value.filter(n=>n.id!==a.id),d.value=d.value.filter(n=>n.id!==a.id)}else if(o.removed){const a=o.removed.element;r.value.some(n=>n.id===a.id)||r.value.push(a)}const i=Array.from(new Map(h.value.map(a=>[a.id,a])).values());h.value.splice(0,h.value.length,...i),c()}function E(o,i){let a;o==="first"?a=v.value.splice(i,1):a=d.value.splice(i,1),r.value.push(...a),c()}function U(o){const i=h.value.splice(o,1);r.value.push(...i),c()}function c(){he(()=>{const o=[...v.value.map(i=>i.id),...d.value.map(i=>i.id),...h.value.map(i=>i.id)];r.value=r.value.filter(i=>!o.includes(i.id))})}return j({firstTeam:v,secondTeam:d,advanceTeams:h}),(o,i)=>(g(),p("div",Fe,[s("div",je,[w(D(B),{list:r.value,group:z,sort:!1,"item-key":"id",class:"team-list","ghost-class":"ghost",disabled:!o.isTimeValid},{item:f(({element:a})=>[(g(),p("div",{class:M(["team-card",{disabled:!o.isTimeValid}]),key:a.id},[s("img",{src:a.logo,alt:a.name,class:"team-logo"},null,8,Ne),s("div",He,k(a.name),1)],2))]),_:1},8,["list","disabled"])]),s("div",Oe,[s("div",Ge,[s("div",Ke,[s("div",Ze,k(o.firstLabel),1),w(D(B),{list:v.value,group:z,sort:!1,"item-key":"id",class:"predict-slot big","ghost-class":"ghost",move:C,onChange:L,disabled:!o.isTimeValid},{item:f(({element:a,index:n})=>[(g(),p("div",{class:M(["team-card selected big",{disabled:!o.isTimeValid}]),key:a.id},[s("img",{src:a.logo,alt:a.name,class:"team-logo big"},null,8,Je),s("div",Qe,k(a.name),1),s("button",{class:"remove-btn",onClick:x(y=>E("first",n),["stop"]),disabled:!o.isTimeValid},"×",8,Ye)],2))]),footer:f(()=>[(g(!0),p(ie,null,le(Math.max(0,2-v.value.length),a=>(g(),p("div",{key:a,class:"empty-slot big"},"?"))),128))]),_:1},8,["list","disabled"])]),s("div",Xe,[s("div",es,k(o.secondLabel),1),w(D(B),{list:d.value,group:z,sort:!1,"item-key":"id",class:"predict-slot big","ghost-class":"ghost",move:b,onChange:A,disabled:!o.isTimeValid},{item:f(({element:a,index:n})=>[(g(),p("div",{class:M(["team-card selected big",{disabled:!o.isTimeValid}]),key:a.id},[s("img",{src:a.logo,alt:a.name,class:"team-logo big"},null,8,ss),s("div",ts,k(a.name),1),s("button",{class:"remove-btn",onClick:x(y=>E("second",n),["stop"]),disabled:!o.isTimeValid},"×",8,as)],2))]),footer:f(()=>[(g(!0),p(ie,null,le(Math.max(0,2-d.value.length),a=>(g(),p("div",{key:a,class:"empty-slot big"},"?"))),128))]),_:1},8,["list","disabled"])])]),s("div",os,[s("div",is,k(o.advanceLabel),1),w(D(B),{list:h.value,group:z,sort:!0,"item-key":"id",class:"predict-slot multi big","ghost-class":"ghost",move:T,onChange:R,disabled:!o.isTimeValid},{item:f(({element:a,index:n})=>[(g(),p("div",{class:M(["team-card selected big",{disabled:!o.isTimeValid}]),key:a.id},[s("img",{src:a.logo,alt:a.name,class:"team-logo big"},null,8,ls),s("div",ns,k(a.name),1),s("button",{class:"remove-btn",onClick:x(y=>U(n),["stop"]),disabled:!o.isTimeValid},"×",8,ds)],2))]),footer:f(()=>[(g(!0),p(ie,null,le(Math.max(0,o.maxAdvance-h.value.length),a=>(g(),p("div",{key:a,class:"empty-slot big"},"?"))),128))]),_:1},8,["list","disabled"])])])]))}}),us=Y(cs,[["__scopeId","data-v-7543f671"]]),ne={getMatchTeams(W,j){return Q.get(`/machine/matches/${W}/teams`,{params:{phase:j}})},submitPrediction(W){return Q.post("/machine/prediction/submit",W)},getUserPredictions(W){return Q.get("/machine/prediction/records",{params:{matchId:W.matchId,phase:W.phase}})}},ms={class:"major-phase","element-loading-text":"加载队伍数据中..."},vs={class:"title"},hs={class:"save-button"},gs=G({name:"MajorPhase"}),ps=G({...gs,props:{isTimeValid:{type:Boolean},matchId:{},phase:{}},setup(W,{expose:j}){const _=W,z=ee(()=>({onePhase:"第一阶段",twoPhase:"第二阶段",threePhase:"第三阶段"})[_.phase]),r=$e(),v=m(),d=m([]),h=m([]),C=m([]),b=m([]),T=m(!1),I=m(!1),L=((c,o)=>{let i=null;return function(...a){i&&clearTimeout(i),i=setTimeout(()=>{c.apply(this,a),i=null},o)}})(()=>{_.isTimeValid&&(console.log("触发防抖保存..."),U())},300);se(v,c=>{c&&se([()=>c.firstTeam,()=>c.secondTeam,()=>c.advanceTeams],([o,i,a])=>{d.value=[...o],h.value=[...i],C.value=[...a],!T.value&&!I.value&&_.isTimeValid&&L()},{deep:!0})},{immediate:!0});const A=async()=>{try{T.value=!0,console.log(`获取${z.value}队伍数据，matchId:`,_.matchId);const c=await ne.getMatchTeams(_.matchId,_.phase);console.log("获取到的原始数据:",c.data),b.value=c.data.map(o=>({id:o.id,name:o.teamName,logo:o.teamImgUrl})),console.log("处理后的队伍数据:",b.value)}catch(c){console.error("获取队伍数据失败:",c),H.error("获取队伍数据失败")}finally{T.value=!1}},R=async()=>{var c;if(!_.matchId){console.warn("matchId未设置，跳过获取预测数据");return}try{I.value=!0,T.value=!0,b.value.length===0&&await A();const o=await ne.getUserPredictions({matchId:_.matchId,phase:_.phase,userId:r.userId});if(o.data){let i=Array.isArray(o.data)?o.data[0]:o.data;const a=new Set;if(i.sl){const n=i.sl.split(","),y=b.value.filter($=>n.includes($.id.toString()));d.value=y,y.forEach($=>a.add($.id.toString()))}if(i.ls){const n=i.ls.split(","),y=b.value.filter($=>n.includes($.id.toString()));h.value=y,y.forEach($=>a.add($.id.toString()))}if(i.advance){const n=i.advance.split(","),y=b.value.filter($=>n.includes($.id.toString()));C.value=y,y.forEach($=>a.add($.id.toString()))}b.value=b.value.filter(n=>!a.has(n.id.toString())),v.value&&(v.value.firstTeam=[...d.value],v.value.secondTeam=[...h.value],v.value.advanceTeams=[...C.value])}else console.log("未找到用户之前的预测数据")}catch(o){if(((c=o.response)==null?void 0:c.status)===401){console.log("用户未登录，跳过获取预测数据");return}console.error("获取预测数据失败:",o),H.error("获取预测数据失败")}finally{T.value=!1,setTimeout(()=>{I.value=!1},100)}},E=()=>{const c=[];return d.value.length!==2&&c.push("请选择2支3-0队伍"),h.value.length!==2&&c.push("请选择2支0-3队伍"),C.value.length!==6&&c.push("请选择6支晋级队伍"),c},U=async()=>{var o;const c=E();c.length>0&&H.warning(c.join(`
`));try{const i={matchId:_.matchId,phase:_.phase,s_l:d.value.map(n=>n.id.toString()).join(","),l_s:h.value.map(n=>n.id.toString()).join(","),advance:C.value.map(n=>n.id)},a=await ne.submitPrediction(i);H.success("预测数据保存成功")}catch(i){if(((o=i.response)==null?void 0:o.status)===401){H.warning("请先登录后再进行预测");return}console.error("保存预测数据失败:",i),H.error("保存预测数据失败")}};return oe(async()=>{_.matchId&&(await A(),await R())}),j({getPredictData(){return{firstTeam:d.value,secondTeam:h.value,advanceTeams:C.value}},fetchTeams:A,fetchUserPrediction:R,validateAndSavePrediction:U}),(c,o)=>{const i=re,a=pe;return ke((g(),p("div",ms,[s("h2",vs,k(z.value)+"竞猜作业",1),w(us,{ref_key:"predictRef",ref:v,teams:b.value,"first-label":"3-0","second-label":"0-3","advance-label":"3-2或3-1晋级的6支队伍","max-advance":6,isTimeValid:c.isTimeValid,"onUpdate:firstTeam":o[0]||(o[0]=n=>d.value=n),"onUpdate:secondTeam":o[1]||(o[1]=n=>h.value=n),"onUpdate:advanceTeams":o[2]||(o[2]=n=>C.value=n)},null,8,["teams","isTimeValid"]),s("div",hs,[w(i,{onClick:U,disabled:!c.isTimeValid},{default:f(()=>o[3]||(o[3]=[K("保存预测")])),_:1,__:[3]},8,["disabled"])])])),[[a,T.value]])}}}),de=Y(ps,[["__scopeId","data-v-c71844c1"]]),fs={class:"major-champion"},_s={class:"bracket-container"},bs={class:"bracket-stage"},Ts={class:"matches"},ys={class:"match"},ks=["src","alt"],ws={class:"team-name"},Cs=["onClick","disabled"],$s={key:0,class:"empty-slot"},Vs=["src","alt"],Ps={class:"team-name"},Is=["onClick","disabled"],Ms={key:0,class:"empty-slot"},Ss={class:"match"},Ls=["src","alt"],qs={class:"team-name"},Ds=["onClick","disabled"],Es={key:0,class:"empty-slot"},As=["src","alt"],Bs={class:"team-name"},zs=["onClick","disabled"],Rs={key:0,class:"empty-slot"},xs={class:"match"},Ws=["src","alt"],Us={class:"team-name"},Fs=["onClick","disabled"],js={key:0,class:"empty-slot"},Ns=["src","alt"],Hs={class:"team-name"},Os=["onClick","disabled"],Gs={key:0,class:"empty-slot"},Ks={class:"match"},Zs=["src","alt"],Js={class:"team-name"},Qs=["onClick","disabled"],Ys={key:0,class:"empty-slot"},Xs=["src","alt"],et={class:"team-name"},st=["onClick","disabled"],tt={key:0,class:"empty-slot"},at={class:"bracket-stage"},ot={class:"matches"},it={class:"match"},lt=["src","alt"],nt={class:"team-name"},dt=["onClick","disabled"],rt={key:0,class:"empty-slot"},ct=["src","alt"],ut={class:"team-name"},mt=["onClick","disabled"],vt={key:0,class:"empty-slot"},ht={class:"match"},gt=["src","alt"],pt={class:"team-name"},ft=["onClick","disabled"],_t={key:0,class:"empty-slot"},bt=["src","alt"],Tt={class:"team-name"},yt=["onClick","disabled"],kt={key:0,class:"empty-slot"},wt={class:"bracket-stage"},Ct={class:"matches"},$t={class:"match"},Vt=["src","alt"],Pt={class:"team-name"},It=["onClick","disabled"],Mt={key:0,class:"empty-slot"},St=["src","alt"],Lt={class:"team-name"},qt=["onClick","disabled"],Dt={key:0,class:"empty-slot"},Et={class:"bracket-stage champion-stage"},At={class:"matches"},Bt=["src","alt"],zt={class:"team-name"},Rt=["onClick","disabled"],xt={key:0,class:"empty-slot champion-empty"},Wt=G({name:"MajorChampion"}),Ut=G({...Wt,props:{isTimeValid:{type:Boolean}},setup(W,{expose:j}){const _={name:"teams"},z=m(),r=m([]),v=m([]),d=m([]),h=m([]),C=m([]),b=m([]),T=m([]),I=m([]),S=m([]),L=m([]),A=m([]),R=m([]),E=m([]),U=m([]),c=m([]),o=m([]),i=m([]),a=m([]),n=l=>{switch(l){case"quarters1":return h;case"quarters2":return C;case"quarters3":return b;case"quarters4":return T;case"quarters5":return I;case"quarters6":return S;case"quarters7":return L;case"quarters8":return A;case"semis1":return R;case"semis2":return E;case"semis3":return U;case"semis4":return c;case"finals1":return o;case"finals2":return i;case"champion":return a;default:return m([])}},y=l=>{const t=l.from.parentElement.id,e=l.to.parentElement.id;if(!t||!e)return!1;if(t===e)return!0;if(t.startsWith("quarters")&&e.startsWith("semis")){const u=parseInt(t.replace("quarters","")),P=parseInt(e.replace("semis",""));if(Math.ceil(u/2)===P)return!0}if(t.startsWith("semis")&&e.startsWith("finals")){const u=parseInt(t.replace("semis","")),P=parseInt(e.replace("finals",""));if(Math.ceil(u/2)===P)return!0}return!!(t.startsWith("finals")&&e==="champion"||e.startsWith("quarters"))},$=(l,t)=>{const e=n(t);if(l.added){const u=l.added.element;[h,C,b,T,I,S,L,A,R,E,U,c,o,i,a].forEach(F=>{if(F!==e){const N=F.value.findIndex(J=>J.id===u.id);N!==-1&&F.value.splice(N,1)}})}};function q(l,t){const e=n(l),u=e.value.findIndex(P=>P.id===t);u!==-1&&e.value.splice(u,1)}const Z=()=>{const l=z.value;l&&(r.value=[...l.firstTeam],v.value=[...l.secondTeam],d.value=[...l.advanceTeams])};return j({getPredictData(){return Z(),{firstTeam:r.value,secondTeam:v.value,advanceTeams:d.value}}}),(l,t)=>(g(),p("div",fs,[t[22]||(t[22]=s("h2",{class:"title"},"冠军竞猜",-1)),s("div",_s,[s("div",bs,[t[15]||(t[15]=s("div",{class:"stage-title"},"四分之一决赛",-1)),s("div",Ts,[s("div",ys,[w(D(B),{id:"quarters1",list:h.value,group:_,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:t[0]||(t[0]=e=>$(e,"quarters1")),move:y,max:1,disabled:!l.isTimeValid},{item:f(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!l.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,ks),s("div",ws,k(e.name),1),s("button",{class:"remove-btn",onClick:x(u=>q("quarters1",e.id),["stop"]),disabled:!l.isTimeValid},"×",8,Cs)],2)]),footer:f(()=>[h.value.length===0?(g(),p("div",$s,"待定")):V("",!0)]),_:1},8,["list","disabled"]),w(D(B),{id:"quarters2",list:C.value,group:_,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:t[1]||(t[1]=e=>$(e,"quarters2")),move:y,max:1,disabled:!l.isTimeValid},{item:f(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!l.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,Vs),s("div",Ps,k(e.name),1),s("button",{class:"remove-btn",onClick:x(u=>q("quarters2",e.id),["stop"]),disabled:!l.isTimeValid},"×",8,Is)],2)]),footer:f(()=>[C.value.length===0?(g(),p("div",Ms,"待定")):V("",!0)]),_:1},8,["list","disabled"])]),s("div",Ss,[w(D(B),{id:"quarters3",list:b.value,group:_,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:t[2]||(t[2]=e=>$(e,"quarters3")),move:y,max:1,disabled:!l.isTimeValid},{item:f(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!l.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,Ls),s("div",qs,k(e.name),1),s("button",{class:"remove-btn",onClick:x(u=>q("quarters3",e.id),["stop"]),disabled:!l.isTimeValid},"×",8,Ds)],2)]),footer:f(()=>[b.value.length===0?(g(),p("div",Es,"待定")):V("",!0)]),_:1},8,["list","disabled"]),w(D(B),{id:"quarters4",list:T.value,group:_,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:t[3]||(t[3]=e=>$(e,"quarters4")),move:y,max:1,disabled:!l.isTimeValid},{item:f(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!l.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,As),s("div",Bs,k(e.name),1),s("button",{class:"remove-btn",onClick:x(u=>q("quarters4",e.id),["stop"]),disabled:!l.isTimeValid},"×",8,zs)],2)]),footer:f(()=>[T.value.length===0?(g(),p("div",Rs,"待定")):V("",!0)]),_:1},8,["list","disabled"])]),s("div",xs,[w(D(B),{id:"quarters5",list:I.value,group:_,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:t[4]||(t[4]=e=>$(e,"quarters5")),move:y,max:1,disabled:!l.isTimeValid},{item:f(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!l.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,Ws),s("div",Us,k(e.name),1),s("button",{class:"remove-btn",onClick:x(u=>q("quarters5",e.id),["stop"]),disabled:!l.isTimeValid},"×",8,Fs)],2)]),footer:f(()=>[I.value.length===0?(g(),p("div",js,"待定")):V("",!0)]),_:1},8,["list","disabled"]),w(D(B),{id:"quarters6",list:S.value,group:_,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:t[5]||(t[5]=e=>$(e,"quarters6")),move:y,max:1,disabled:!l.isTimeValid},{item:f(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!l.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,Ns),s("div",Hs,k(e.name),1),s("button",{class:"remove-btn",onClick:x(u=>q("quarters6",e.id),["stop"]),disabled:!l.isTimeValid},"×",8,Os)],2)]),footer:f(()=>[S.value.length===0?(g(),p("div",Gs,"待定")):V("",!0)]),_:1},8,["list","disabled"])]),s("div",Ks,[w(D(B),{id:"quarters7",list:L.value,group:_,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:t[6]||(t[6]=e=>$(e,"quarters7")),move:y,max:1,disabled:!l.isTimeValid},{item:f(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!l.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,Zs),s("div",Js,k(e.name),1),s("button",{class:"remove-btn",onClick:x(u=>q("quarters7",e.id),["stop"]),disabled:!l.isTimeValid},"×",8,Qs)],2)]),footer:f(()=>[L.value.length===0?(g(),p("div",Ys,"待定")):V("",!0)]),_:1},8,["list","disabled"]),w(D(B),{id:"quarters8",list:A.value,group:_,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:t[7]||(t[7]=e=>$(e,"quarters8")),move:y,max:1,disabled:!l.isTimeValid},{item:f(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!l.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,Xs),s("div",et,k(e.name),1),s("button",{class:"remove-btn",onClick:x(u=>q("quarters8",e.id),["stop"]),disabled:!l.isTimeValid},"×",8,st)],2)]),footer:f(()=>[A.value.length===0?(g(),p("div",tt,"待定")):V("",!0)]),_:1},8,["list","disabled"])])])]),t[19]||(t[19]=s("div",{class:"connector-column"},[s("div",{class:"connector-gap"})],-1)),s("div",at,[t[16]||(t[16]=s("div",{class:"stage-title"},"半决赛",-1)),s("div",ot,[s("div",it,[w(D(B),{id:"semis1",list:R.value,group:_,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:t[8]||(t[8]=e=>$(e,"semis1")),move:y,max:1,disabled:!l.isTimeValid},{item:f(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!l.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,lt),s("div",nt,k(e.name),1),s("button",{class:"remove-btn",onClick:x(u=>q("semis1",e.id),["stop"]),disabled:!l.isTimeValid},"×",8,dt)],2)]),footer:f(()=>[R.value.length===0?(g(),p("div",rt,"待定")):V("",!0)]),_:1},8,["list","disabled"]),w(D(B),{id:"semis2",list:E.value,group:_,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:t[9]||(t[9]=e=>$(e,"semis2")),move:y,max:1,disabled:!l.isTimeValid},{item:f(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!l.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,ct),s("div",ut,k(e.name),1),s("button",{class:"remove-btn",onClick:x(u=>q("semis2",e.id),["stop"]),disabled:!l.isTimeValid},"×",8,mt)],2)]),footer:f(()=>[E.value.length===0?(g(),p("div",vt,"待定")):V("",!0)]),_:1},8,["list","disabled"])]),s("div",ht,[w(D(B),{id:"semis3",list:U.value,group:_,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:t[10]||(t[10]=e=>$(e,"semis3")),move:y,max:1,disabled:!l.isTimeValid},{item:f(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!l.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,gt),s("div",pt,k(e.name),1),s("button",{class:"remove-btn",onClick:x(u=>q("semis3",e.id),["stop"]),disabled:!l.isTimeValid},"×",8,ft)],2)]),footer:f(()=>[U.value.length===0?(g(),p("div",_t,"待定")):V("",!0)]),_:1},8,["list","disabled"]),w(D(B),{id:"semis4",list:c.value,group:_,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:t[11]||(t[11]=e=>$(e,"semis4")),move:y,max:1,disabled:!l.isTimeValid},{item:f(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!l.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,bt),s("div",Tt,k(e.name),1),s("button",{class:"remove-btn",onClick:x(u=>q("semis4",e.id),["stop"]),disabled:!l.isTimeValid},"×",8,yt)],2)]),footer:f(()=>[c.value.length===0?(g(),p("div",kt,"待定")):V("",!0)]),_:1},8,["list","disabled"])])])]),t[20]||(t[20]=s("div",{class:"connector-column"},[s("div")],-1)),s("div",wt,[t[17]||(t[17]=s("div",{class:"stage-title"},"总决赛",-1)),s("div",Ct,[s("div",$t,[w(D(B),{id:"finals1",list:o.value,group:_,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:t[12]||(t[12]=e=>$(e,"finals1")),move:y,max:1,disabled:!l.isTimeValid},{item:f(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!l.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,Vt),s("div",Pt,k(e.name),1),s("button",{class:"remove-btn",onClick:x(u=>q("finals1",e.id),["stop"]),disabled:!l.isTimeValid},"×",8,It)],2)]),footer:f(()=>[o.value.length===0?(g(),p("div",Mt,"待定")):V("",!0)]),_:1},8,["list","disabled"]),w(D(B),{id:"finals2",list:i.value,group:_,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:t[13]||(t[13]=e=>$(e,"finals2")),move:y,max:1,disabled:!l.isTimeValid},{item:f(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!l.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,St),s("div",Lt,k(e.name),1),s("button",{class:"remove-btn",onClick:x(u=>q("finals2",e.id),["stop"]),disabled:!l.isTimeValid},"×",8,qt)],2)]),footer:f(()=>[i.value.length===0?(g(),p("div",Dt,"待定")):V("",!0)]),_:1},8,["list","disabled"])])])]),t[21]||(t[21]=s("div",{class:"connector-column third"},null,-1)),s("div",Et,[t[18]||(t[18]=s("div",{class:"stage-title"},"冠军",-1)),s("div",At,[w(D(B),{id:"champion",list:a.value,group:_,"item-key":"id",class:"slot champion-slot","ghost-class":"ghost",onChange:t[14]||(t[14]=e=>$(e,"champion")),move:y,max:1,disabled:!l.isTimeValid},{item:f(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!l.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,Bt),s("div",zt,k(e.name),1),s("button",{class:"remove-btn",onClick:x(u=>q("champion",e.id),["stop"]),disabled:!l.isTimeValid},"×",8,Rt)],2)]),footer:f(()=>[a.value.length===0?(g(),p("div",xt,"待定")):V("",!0)]),_:1},8,["list","disabled"])])])])]))}}),Ft=Y(Ut,[["__scopeId","data-v-ecce8367"]]),jt={class:"coin-buttons"},Nt={key:0,class:"debug-info"},Ht=G({__name:"MatchCoinBase",props:{debug:{type:Boolean}},emits:["update:coinType","loading","model-loaded","progress"],setup(W,{emit:j}){const _=W,z=m(_.debug!==void 0?_.debug:!0);console.log("MatchCoinBase - debugInfo:",z.value);const r=m(""),v=m("初始化中..."),d=m(null);let h,C,b,T;const I=j,S={bronze:"#B08D57",silver:"#696969",gold:"#81FF08",diamond:"#BFD8EF"},L=m("gold"),A=i=>{L.value=i,R()},R=()=>{if(!h)return;const i=S[L.value];h.traverse(a=>{a.isMesh&&a.material&&(a.material.color.set(i),a.material.needsUpdate=!0)})},E=()=>{if(d.value){const i=d.value.getBoundingClientRect();r.value=`宽度: ${i.width}px, 高度: ${i.height}px`}},U=()=>{try{if(v.value="创建场景...",h=new Se,console.log("场景创建成功"),v.value="创建相机...",C=new Le(75,d.value?d.value.clientWidth/d.value.clientHeight:1,.1,1e3),C.position.set(0,0,5),console.log("相机创建成功"),v.value="创建渲染器...",b=new qe({antialias:!0}),!d.value)throw new Error("容器元素不存在");const i=d.value.clientWidth,a=d.value.clientHeight;b.setSize(i,a),b.setPixelRatio(window.devicePixelRatio),d.value.appendChild(b.domElement),console.log("渲染器创建成功，尺寸:",i,a),b.toneMapping=De,b.toneMappingExposure=1,T=new Ee(C,b.domElement),T.enableDamping=!0,T.dampingFactor=.05,console.log("控制器创建成功");const n=new Ae(16777215,1);h.add(n);const y=new me(16777215,1);y.position.set(5,5,5),h.add(y);const $=new me(16777215,.8);$.position.set(-5,5,-5).normalize(),h.add($);const q=new Be(16777215,1,100);q.position.set(0,2,0),h.add(q),console.log("灯光移除，将使用环境贴图提供照明");const Z=new ze(b);Z.compileEquirectangularShader(),v.value="加载环境贴图...",new Re().load("https://dl.polyhaven.org/file/ph-assets/HDRIs/hdr/1k/the_sky_is_on_fire_1k.hdr",e=>{const u=Z.fromEquirectangular(e).texture;Z.dispose(),e.dispose(),h.environment=u,h.background=u,console.log("环境贴图加载并应用成功"),v.value="环境贴图加载成功"},void 0,e=>{console.error("加载环境贴图错误:",e),v.value="环境贴图加载失败: "+(e instanceof Error?e.message:String(e))}),v.value="开始加载模型...";const t=new xe;console.log("开始加载模型..."),t.load("/b.glb",e=>{console.log("模型加载成功"),v.value="模型加载成功",I("loading",v.value),h.add(e.scene);const u=new We({metalness:1,roughness:0,color:S[L.value]});h.traverse(O=>{O.isMesh&&(console.log("检查到网格对象:",O.name),O.material=u,console.log("已为网格对象应用 MeshStandardMaterial"),(O.material.isMeshStandardMaterial||O.material.isMeshPhysicalMaterial)&&h.environment&&(O.material.envMap=h.environment,O.material.needsUpdate=!0,console.log("已为标准/物理材质设置环境贴图")))});const P=new Ue().setFromObject(e.scene),F=P.getCenter(new ve),N=P.getSize(new ve),J=Math.max(N.x,N.y,N.z),te=C.fov*(Math.PI/180);let ae=Math.abs(J/Math.sin(te/2))*.8;C.position.set(F.x-ae,F.y,F.z),C.lookAt(F),T.target.copy(F),T.update(),console.log("相机位置调整完成"),setTimeout(()=>{console.log("发送模型加载完成事件"),I("model-loaded")},100)},e=>{const u=e.loaded/e.total*100;console.log("加载进度:",u.toFixed(2)+"%"),v.value=`模型加载进度: ${u.toFixed(0)}%`,I("loading",v.value),I("progress",u)},e=>{console.error("模型加载错误:",e),v.value="模型加载失败: "+(e instanceof Error?e.message:String(e)),I("loading",v.value)}),E()}catch(i){console.error("初始化场景失败:",i),v.value="初始化失败: "+i.message}},c=()=>{requestAnimationFrame(c),T==null||T.update(),b==null||b.render(h,C)},o=()=>{if(!d.value||!C||!b)return;const i=d.value.clientWidth,a=d.value.clientHeight;console.log("handleResize - 容器尺寸:",i,a),C.aspect=d.value?i/a:C.aspect,C.updateProjectionMatrix(),b.setSize(i,a),E(),console.log("handleResize - 相机宽高比更新为:",C.aspect)};return oe(()=>{console.log("组件挂载，容器元素:",d.value),window.addEventListener("resize",o),v.value="初始化场景...",he(()=>{var i,a;E(),console.log("nextTick - 容器尺寸:",(i=d.value)==null?void 0:i.clientWidth,(a=d.value)==null?void 0:a.clientHeight),d.value&&console.log("nextTick - 相机宽高比:",d.value.clientWidth/d.value.clientHeight),U(),c()})}),ge(()=>{window.removeEventListener("resize",o),d.value&&b&&d.value.removeChild(b.domElement),b==null||b.dispose(),h&&h.traverse(i=>{if(i.geometry&&i.geometry.dispose(),i.material)if(Array.isArray(i.material))for(const a of i.material)a.dispose();else i.material.dispose();i.texture&&i.texture.dispose()})}),(i,a)=>(g(),p("div",{class:"model-container",ref_key:"container",ref:d},[s("div",jt,[s("button",{onClick:a[0]||(a[0]=n=>A("bronze")),class:M({active:L.value==="bronze"})},"铜币",2),s("button",{onClick:a[1]||(a[1]=n=>A("silver")),class:M({active:L.value==="silver"})},"银币",2),s("button",{onClick:a[2]||(a[2]=n=>A("gold")),class:M({active:L.value==="gold"})},"金币",2),s("button",{onClick:a[3]||(a[3]=n=>A("diamond")),class:M({active:L.value==="diamond"})},"钻石币",2)]),z.value?(g(),p("div",Nt,[s("p",null,"容器尺寸: "+k(r.value),1),s("p",null,"加载状态: "+k(v.value),1)])):V("",!0)],512))}}),Ot=Y(Ht,[["__scopeId","data-v-fe16f9e7"]]),Gt={class:"coin-preview-container"},Kt={key:0,class:"loading-overlay"},Zt={class:"loading-text"},Jt={class:"dialog-footer"},Qt=G({__name:"CoinPreviewDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(W,{emit:j}){const _=W,z=j,r=ee({get:()=>_.modelValue,set:c=>z("update:modelValue",c)}),v=m("gold"),d=m(!1),h=ee(()=>d.value?"100%":"80%"),C=ee(()=>d.value?"80vh":"70vh"),b=m(!0),T=m(0),I=m("初始化..."),S=()=>{d.value=window.innerWidth<=768},L=c=>{v.value=c},A=c=>{I.value=c,console.log("加载状态:",c)},R=c=>{T.value=Math.floor(c),T.value>=100&&(I.value="加载完成...")},E=()=>{console.log("收到模型加载完成事件"),setTimeout(()=>{b.value=!1,T.value=100,I.value="加载完成",console.log("加载叠加层应已隐藏")},300)},U=()=>{b.value=!0,T.value=0,I.value="初始化...",v.value="gold"};return oe(()=>{S(),window.addEventListener("resize",S)}),ge(()=>{window.removeEventListener("resize",S)}),se(r,c=>{console.log("对话框状态变化:",c),c&&(b.value=!0,T.value=0,I.value="初始化...")}),(c,o)=>{const i=re,a=_e;return g(),we(a,{modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=n=>r.value=n),title:"3D预览奖章,加载约30秒左右",width:h.value,fullscreen:!d.value,draggable:"","destroy-on-close":"",onClosed:U,"close-on-click-modal":!1},{footer:f(()=>[s("div",Jt,[w(i,{onClick:o[0]||(o[0]=n=>r.value=!1)},{default:f(()=>o[2]||(o[2]=[K("关闭")])),_:1,__:[2]})])]),default:f(()=>[s("div",Gt,[w(Ot,{ref:"coinViewer",debug:!1,"initial-coin-type":v.value,"container-height":C.value,"onUpdate:coinType":L,onLoading:A,onModelLoaded:E,onProgress:R},null,8,["initial-coin-type","container-height"]),b.value||T.value<100?(g(),p("div",Kt,[w(D(fe),{type:"circle",percentage:T.value,width:d.value?90:100,"stroke-width":10,color:"#409eff"},null,8,["percentage","width"]),s("div",Zt,k(I.value),1)])):V("",!0)])]),_:1},8,["modelValue","width","fullscreen"])}}}),Yt=Y(Qt,[["__scopeId","data-v-6daef79c"]]),Xt={class:"cs2-major-root"},ea={class:"major-container"},sa={key:0,class:"loading-container"},ta={key:1,class:"prediction-content"},aa={class:"tab-buttons"},oa={key:0,class:"countdown"},ia={key:0,class:"countdown"},la={key:0,class:"countdown"},na={key:0,class:"countdown"},da={class:"major-content"},ra={class:"match-info-panel"},ca={class:"match-header"},ua=["src","alt"],ma={class:"match-name"},va={class:"match-details"},ha={class:"info-item"},ga={class:"value"},pa={class:"info-item"},fa={class:"value"},_a={class:"info-item"},ba={class:"value"},Ta={class:"match-footer"},ya={class:"button-group"},ka={key:0,class:"major-section"},wa={class:"time-info"},Ca={key:1,class:"major-section"},$a={class:"time-info"},Va={key:2,class:"major-section"},Pa={class:"time-info"},Ia={key:3,class:"major-section"},Ma={class:"time-info"},Sa={key:2,class:"no-match"},La=G({__name:"CS2Major",setup(W,{expose:j}){Ve();const _=m(0),z=m(!0),r=m("onePhase"),v=m(),d=m(),h=m(),C=m(),b=m(null),T=m(null),I=m(!1),S=m({}),L=m({onePhase:{start:new Date,end:new Date},twoPhase:{start:new Date,end:new Date},threePhase:{start:new Date,end:new Date},champion:{start:new Date,end:new Date}}),A=ee(()=>Object.keys(S.value).length>0),R=l=>new Date(l).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:"Asia/Shanghai"}).replace(/\//g,"年").replace(",","日"),E=l=>{const{start:t,end:e}=L.value[l];return`${R(t.toISOString())}日 ${t.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",hour12:!1})} - ${R(e.toISOString())}日 ${e.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",hour12:!1})}`},U=async()=>{try{z.value=!0;const l=await Q.get("/machine/matches");if(l.data&&l.data.length>0){const t=l.data;t.length>0?(t.forEach(e=>{S.value[e.phase]=e}),S.value[r.value]||(r.value=Object.keys(S.value)[0]),c(r.value),t.forEach(e=>{const u=e.phase;u in L.value&&(L.value[u]={start:new Date(e.predictStartTime),end:new Date(e.predictEndTime)})}),console.log("比赛信息:",t),console.log("时间限制设置:",L.value)):H.error("未找到可用赛事")}else H.error("未找到可用赛事")}catch(l){console.error("获取赛事ID失败:",l),H.error("获取赛事ID失败")}finally{z.value=!1}},c=l=>{const t=S.value[l];t?(_.value=t.id||0,T.value=t):(_.value=0,T.value=null)},o=l=>{const t=new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Shanghai"})),{start:e,end:u}=L.value[l];return t>=e&&t<=u},i=l=>{const t=new Date,{start:e,end:u}=L.value[l];if(t<e){const P=e.getTime()-t.getTime();return`距离开始还有 ${a(P)}`}else{if(t>u)return"竞猜已结束";{const P=u.getTime()-t.getTime();return`距离结束还有 ${a(P)}`}}},a=l=>{const t=Math.floor(l/864e5),e=Math.floor(l%(1e3*60*60*24)/(1e3*60*60)),u=Math.floor(l%(1e3*60*60)/(1e3*60)),P=Math.floor(l%(1e3*60)/1e3);return`${t}天${e}小时${u}分${P}秒`},n=()=>{r.value=r.value};se(r,l=>{var t,e,u,P;if(c(l),_.value)switch(l){case"onePhase":(t=v.value)==null||t.fetchTeams();break;case"twoPhase":(e=d.value)==null||e.fetchTeams();break;case"threePhase":(u=h.value)==null||u.fetchTeams();break;case"champion":(P=C.value)==null||P.fetchTeams();break}}),oe(async()=>{await U(),b.value=window.setInterval(n,1e3)}),Ce(()=>{b.value&&clearInterval(b.value)}),j({getPredictData(){var l,t,e,u;return{onePhase:(l=v.value)==null?void 0:l.getPredictData(),twoPhase:(t=d.value)==null?void 0:t.getPredictData(),threePhase:(e=h.value)==null?void 0:e.getPredictData(),champion:(u=C.value)==null?void 0:u.getPredictData()}}});const y=l=>{const t=document.createElement("canvas");t.width=l.width,t.height=l.height+60;const e=t.getContext("2d");if(!e)return l;e.drawImage(l,0,0),e.font="bold 36px Microsoft YaHei",e.textAlign="center",e.textBaseline="bottom";const u="竞猜作业来源：sb6657.cn",P=t.width/2,F=t.height-20,N=e.measureText(u).width;return e.fillStyle="rgba(0, 0, 0, 0.5)",e.fillRect(P-N/2-10,F-40,N+20,40),e.fillStyle="#ffffff",e.fillText(u,P,F),t},$=async()=>{const l="玩机器烂梗库官方比赛作业，地址sb6657.cn";try{await navigator.clipboard.writeText(l)}catch(t){console.error("复制失败:",t)}try{I.value=!0;const t=document.querySelector(".major-section");if(!t)throw new Error("未找到要截图的元素");const e=await Me(t,{backgroundColor:"#ffffff",scale:1.5,logging:!1,useCORS:!0,allowTaint:!0}),u=y(e),P=document.createElement("a");P.download=`sb6657.cn_CS2Major预测_${new Date().toLocaleDateString()}.jpg`,P.href=u.toDataURL("image/jpeg",1),P.click(),H.success("截图已保存"),Q.get("/machine/shareMatch")}catch(t){console.error("截图失败:",t),H.error("截图失败，请重试")}finally{I.value=!1}},q=m(!1);function Z(){q.value=!0,Q.get("/machine/matchCoin")}return(l,t)=>{var N,J,te,ae,O,ce,ue;const e=be,u=Te,P=re,F=ye;return g(),p("div",Xt,[s("div",ea,[z.value?(g(),p("div",sa,[w(e,{rows:3,animated:""})])):A.value?(g(),p("div",ta,[s("div",aa,[S.value.onePhase?(g(),p("button",{key:0,class:M({active:r.value==="onePhase"}),onClick:t[0]||(t[0]=X=>r.value="onePhase")},[t[5]||(t[5]=K(" 第一阶段 ")),r.value==="onePhase"?(g(),p("div",oa,k(i("onePhase")),1)):V("",!0)],2)):V("",!0),S.value.twoPhase?(g(),p("button",{key:1,class:M({active:r.value==="twoPhase"}),onClick:t[1]||(t[1]=X=>r.value="twoPhase")},[t[6]||(t[6]=K(" 第二阶段 ")),r.value==="twoPhase"?(g(),p("div",ia,k(i("twoPhase")),1)):V("",!0)],2)):V("",!0),S.value.threePhase?(g(),p("button",{key:2,class:M({active:r.value==="threePhase"}),onClick:t[2]||(t[2]=X=>r.value="threePhase")},[t[7]||(t[7]=K(" 第三阶段 ")),r.value==="threePhase"?(g(),p("div",la,k(i("threePhase")),1)):V("",!0)],2)):V("",!0),S.value.champion?(g(),p("button",{key:3,class:M({active:r.value==="champion"}),onClick:t[3]||(t[3]=X=>r.value="champion")},[t[8]||(t[8]=K(" 冠军组 ")),r.value==="champion"?(g(),p("div",na,k(i("champion")),1)):V("",!0)],2)):V("",!0)]),s("div",da,[s("div",ra,[s("div",ca,[s("img",{src:(N=T.value)==null?void 0:N.matchesImg,alt:(J=T.value)==null?void 0:J.matchesName,class:"match-logo"},null,8,ua),s("h2",ma,k((te=T.value)==null?void 0:te.matchesName),1)]),s("div",va,[s("div",ha,[t[9]||(t[9]=s("span",{class:"label"},"赛事等级：",-1)),s("span",ga,k((ae=T.value)==null?void 0:ae.level),1)]),s("div",pa,[t[10]||(t[10]=s("span",{class:"label"},"比赛地点：",-1)),s("span",fa,k((O=T.value)==null?void 0:O.matchesLocation),1)]),s("div",_a,[t[11]||(t[11]=s("span",{class:"label"},"比赛时间：",-1)),s("span",ba,k(R((ce=T.value)==null?void 0:ce.startTime))+"日 - "+k(R((ue=T.value)==null?void 0:ue.endTime))+"日",1)])]),s("div",Ta,[t[14]||(t[14]=s("div",{class:"reward-info"},"竞猜会获得平台虚拟奖章，目前正在做",-1)),s("div",ya,[w(P,{type:"primary",onClick:$,loading:I.value},{default:f(()=>[w(u,null,{default:f(()=>[w(D(Pe))]),_:1}),t[12]||(t[12]=K(" 截图分享预测 "))]),_:1,__:[12]},8,["loading"]),w(P,{type:"success",onClick:Z},{default:f(()=>[w(u,null,{default:f(()=>[w(D(Ie))]),_:1}),t[13]||(t[13]=K(" 预览3D奖章 "))]),_:1,__:[13]})])])]),r.value==="onePhase"?(g(),p("div",ka,[s("div",wa,[s("p",null,"竞猜时间："+k(E("onePhase")),1)]),w(de,{ref_key:"onePhaseRef",ref:v,isTimeValid:o("onePhase"),matchId:_.value,phase:"onePhase"},null,8,["isTimeValid","matchId"])])):V("",!0),r.value==="twoPhase"?(g(),p("div",Ca,[s("div",$a,[s("p",null,"竞猜时间："+k(E("twoPhase")),1)]),w(de,{ref_key:"twoPhaseRef",ref:d,isTimeValid:o("twoPhase"),matchId:_.value,phase:"twoPhase"},null,8,["isTimeValid","matchId"])])):V("",!0),r.value==="threePhase"?(g(),p("div",Va,[s("div",Pa,[s("p",null,"竞猜时间："+k(E("threePhase")),1)]),w(de,{ref_key:"threePhaseRef",ref:h,isTimeValid:o("threePhase"),matchId:_.value,phase:"threePhase"},null,8,["isTimeValid","matchId"])])):V("",!0),r.value==="champion"?(g(),p("div",Ia,[s("div",Ma,[s("p",null,"竞猜时间："+k(E("champion")),1)]),w(Ft,{ref_key:"championRef",ref:C,isTimeValid:o("champion"),matchId:_.value},null,8,["isTimeValid","matchId"])])):V("",!0)])])):(g(),p("div",Sa,[w(F,{description:"暂无可用赛事"})]))]),w(Yt,{modelValue:q.value,"onUpdate:modelValue":t[4]||(t[4]=X=>q.value=X)},null,8,["modelValue"])])}}}),eo=Y(La,[["__scopeId","data-v-7c5703f1"]]);export{eo as default};
