const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/wordCloud.BSke-Q1_.js","assets/js/echarts.D13McHMB.js","assets/js/zrender.B_NAtvFA.js","assets/js/tslib.BDyQ-Jie.js","assets/js/echarts-wordcloud.tk4DMxWl.js","assets/js/index.hlrrolfs.js","assets/js/@vue.kiFpFjC4.js","assets/js/pinia.C1jrEj6N.js","assets/js/element-plus.BExUxls1.js","assets/js/lodash-es.S0Y0Up6J.js","assets/js/@vueuse.DR1wJ5Y1.js","assets/js/@element-plus.CD6l22se.js","assets/js/@popperjs.D_chPuIy.js","assets/js/@ctrl.r5W6hzzQ.js","assets/js/dayjs.BKG3DVjA.js","assets/js/async-validator.9PlIezaS.js","assets/js/memoize-one.BdPwpGay.js","assets/js/normalize-wheel-es.BQoi3Ox2.js","assets/js/@floating-ui.D0iZPv2f.js","assets/css/element-plus.Wt6lyhqs.css","assets/js/axios.NIGUFBhG.js","assets/js/js-cookie.Cz0CWeBA.js","assets/js/vue-router.DfLJYrxF.js","assets/css/index.Daukf7a0.css","assets/css/wordCloud.qpx4COKE.css"])))=>i.map(i=>d[i]);
import{_ as ce,C as ue,h as T,A as O,b as me}from"./index.hlrrolfs.js";import{c as pe,v as ve,g as he,d as fe,h as _e,j as be,n as ge,q as ye,A as xe,f as Ce,b as m,a as W,E as Ee}from"./element-plus.BExUxls1.js";import{r as v,l as ke,i as q,al as S,c as h,o as i,aU as we,a as o,R as a,K as Te,J as l,O as d,I as B,Q as U,a6 as A,L as H,P as f,u as Ve,aV as De,aI as Be}from"./@vue.kiFpFjC4.js";import"./pinia.C1jrEj6N.js";import"./axios.NIGUFBhG.js";import"./js-cookie.Cz0CWeBA.js";import"./vue-router.DfLJYrxF.js";import"./@element-plus.CD6l22se.js";import"./lodash-es.S0Y0Up6J.js";import"./@vueuse.DR1wJ5Y1.js";import"./@popperjs.D_chPuIy.js";import"./@ctrl.r5W6hzzQ.js";import"./dayjs.BKG3DVjA.js";import"./async-validator.9PlIezaS.js";import"./memoize-one.BdPwpGay.js";import"./normalize-wheel-es.BQoi3Ox2.js";import"./@floating-ui.D0iZPv2f.js";const Ie={class:"home"},Me={class:"card third-card"},Re=["onTouchstart","onTouchend"],Se={class:"barrage-text"},Ue={style:{display:"flex","align-items":"center","flex-wrap":"wrap"}},Ae={class:"tag-icon-wrapper"},Pe=["src"],ze={style:{"vertical-align":"middle"}},Ne={style:{position:"absolute",bottom:"0",right:"0","font-size":"11px","min-width":"170px"}},Le={class:"card fifth-card"},$e={class:"preset-tags-container"},Fe={class:"preset-tags"},je={class:"tag-icon-wrapper"},Oe=["src"],We={style:{"vertical-align":"middle"}},qe={class:"added-tags"},He={class:"match-association-container"},Qe={class:"match-section-home"},Ge={key:0,class:"match-details-box-home"},Je={class:"match-info-row-home"},Ke=["src","alt"],Xe={class:"match-name-home"},Ye={class:"match-time-home"},Ze={key:1,class:"no-match-info-home"},et={class:"wordCloudDiv"},tt={style:{"background-color":"white","border-radius":"25px",padding:"5px"}},ot={__name:"Home",setup(at){const P=v(!0),z=ke({getRandOne:[],tableData:[],table:"",barrage:""}),I=v([]),Q=()=>{T.get("/machine/dictList").then(t=>{t.code===200&&(I.value=t.data,x.value=t.data.map(e=>({iconUrl:e.iconUrl,label:e.dictLabel,value:e.dictValue})))}).catch(t=>{console.error("è·å–å­—å…¸æ•°æ®å¤±è´¥",t)})},G=t=>{if(!t||t.trim()==="")return[];const e=Array.from(new Set(t.split(",").map(n=>n.trim())));if(!I.value)return e.map(()=>({label:"",iconUrl:""}));const c=new Map(I.value.map(n=>[String(n.dictValue).trim(),n]));return e.map(n=>{const u=c.get(n);return u?{label:u.dictLabel,iconUrl:u.iconUrl}:{label:"",iconUrl:""}})};Q();const b=v(""),x=v([]),C=v([]),_=v([]),r=v(null),V=v(!1);function J(){T.get("/machine/InProgressMatch").then(t=>{t.code===200&&t.data?r.value=t.data:r.value=null,console.log("Fetched match data:",r.value)}).catch(t=>{console.error("Failed to fetch in progress match:",t),r.value=null})}q(()=>{J()});const N=t=>{C.value=C.value.filter(e=>e.value!==t.value),_.value=_.value.filter(e=>e!==t.value),x.value.push(t)},L=t=>{if(_.value.length>=5){m.info("æœ€å¤š5ä¸ªæ ‡ç­¾");return}C.value.some(e=>e.value===t.value)||(C.value.push(t),_.value.push(t.value),x.value=x.value.filter(e=>e.value!==t.value))},K=()=>{if(_.value.length===0||b.value===""||b.value===null)m.error("è¯·é€‰æ‹©æ ‡ç­¾æˆ–è¾“å…¥å¼¹å¹•");else{if(_.value.length>5){m.error("æœ€å°‘ä¸€ä¸ªæ ‡ç­¾ï¼Œæœ€å¤šäº”ä¸ªæ ‡ç­¾ã€‚");return}const t={tags:_.value.join(","),barrage:b.value};V.value&&r.value&&(t.matchId=r.value.id),T.post(O.SUBMIT_MEME,t).then(e=>{b.value="",V.value=!1,e.code===200?m.success("æŠ•ç¨¿æˆåŠŸï¼Œå¾…å®¡æ ¸(ä¸€å¤©å†…)"):e.code===500?m.error("çƒ‚æ¢—å·²ç»æœ‰äº†ï¼Œå‹¿é‡å¤æäº¤"):m.error("è¯·æ±‚å¤±è´¥")}).catch(e=>{console.error("æŠ•ç¨¿å¤±è´¥",e),m.error("è¯·æ±‚å¤±è´¥")})}},$=()=>{T.get(O.GET_RAND_ONE_MEME).then(t=>{z.tableData=[t.data],P.value=!1}).catch(t=>{console.error("éšæœºå¤±è´¥")})};$();const X=()=>{W({message:"å¤åˆ¶æˆåŠŸ",type:"success"})},Y=()=>{W({message:"å¤åˆ¶å¤±è´¥ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦ç¦ç”¨navigator.clipboardå¯¹è±¡æˆ–æ‰‹åŠ¨å¤åˆ¶,è¯·å‹¿ä½¿ç”¨å¤¸å…‹æµè§ˆå™¨",type:"error"})};let M=0,E=null,R=0;const Z=t=>{const e=new Date().getTime(),c={x:event.clientX,y:event.clientY};if(E&&E.x===c.x&&E.y===c.y?(R++,R>4&&Ee.alert("ğŸ˜¡ğŸ˜¡ğŸ˜¡ä½ åœ¨åˆ·æ¬¡æ•°ğŸ˜¡ğŸ˜¡ğŸ˜¡","è¯·å‹¿ä½¿ç”¨è¿ç‚¹å™¨",{confirmButtonText:"å¥½å§ï¼Œæˆ‘é”™äº†"})):R=0,e-M<1500){m({title:"è¯·å‹¿åˆ·æ¬¡æ•°",message:"å¤åˆ¶æˆåŠŸï¼Œä½†æ¬¡æ•°æ²¡æœ‰å¢åŠ ",type:"warning"});const u=t.barrage;let y=document.createElement("input");y.value=u,document.body.appendChild(y),y.select();try{document.execCommand("Copy")}catch(D){m({title:"å¤åˆ¶å¤±è´¥",message:"å¤åˆ¶æ“ä½œå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",type:"error"}),console.error("å¤åˆ¶å¤±è´¥:",D)}document.body.removeChild(y),M=e,E=c;return}E=c,M=e;const g=t.barrage;let n=document.createElement("input");n.value=g,document.body.appendChild(n),n.select();try{document.execCommand("Copy"),X(),console.log("å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿"),T.get(`/machine/addCnt/${t.id}`).then(()=>{})}catch(u){m({title:"å¤åˆ¶å¤±è´¥",message:"å¤åˆ¶æ“ä½œå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",type:"error"}),console.error("å¤åˆ¶å¤±è´¥:",u),Y()}document.body.removeChild(n)},ee=t=>{t.touchStartTime=Date.now()},te=t=>{Date.now()-t.touchStartTime>100&&(t.popoverVisible=!0,setTimeout(()=>{t.popoverVisible=!1},1500))},F=v(null),oe=De(()=>me(()=>import("./wordCloud.BSke-Q1_.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24])));function ae(){var t,e;(e=(t=F.value)==null?void 0:t.getData)==null||e.call(t)}const le=t=>t?t.replace("T"," ").split(".")[0]:"";return q(()=>{}),(t,e)=>{const c=pe,g=_e,n=fe,u=he,y=Ce,D=S("Warning"),k=be,j=S("QuestionFilled"),se=ge,ne=ye,re=xe,ie=S("Refresh"),de=ve;return i(),h("div",Ie,[e[18]||(e[18]=we('<div class="boomouder" data-v-2945874e><img src="https://gcore.jsdelivr.net/gh/9WiSHao/AnythingStorage/img/6657boom.webp" alt="6657boom" class="boom6657" data-v-2945874e></div><div class="card first-card" data-v-2945874e><div data-v-2945874e><b data-v-2945874e><p class="announcement" data-v-2945874e> å› ä¸ºGreasyForkè¢«å¢™ï¼Œä½ å¯ä»¥ <a href="https://cdn.hguofichp.cn/sb6657.cn%E6%96%97%E9%B1%BC%E7%8E%A9%E6%9C%BA%E5%99%A8%E7%83%82%E6%A2%97%E6%94%B6%E9%9B%86.user.js" target="_blank" data-v-2945874e>ç‚¹å‡»æˆ‘ä¸‹è½½æœ€æ–°çš„æ²¹çŒ´æ’ä»¶</a> ï¼Œä½ åªéœ€è¦å°†ä¸‹è½½çš„æ–‡ä»¶æ‹–å…¥æ²¹çŒ´ç®¡ç†é¢æ¿å³å¯ </p></b></div></div><div class="card second-card" data-v-2945874e><p data-v-2945874e> è¿™æ˜¯ä¸€ä¸ªæ”¶é›†6657çƒ‚æ¢—çš„ç½‘ç«™: <span class="dgq63136" data-v-2945874e><a href="https://sb6657.cn" data-v-2945874e>sb6657.cn</a></span> å°½æƒ…æ¬£èµä½ ä»¬çš„çƒ‚æ¢—å§ã€‚ <b data-v-2945874e>å¼€æ”¾æ³¨å†ŒåŠŸèƒ½ï¼Œå¯èƒ½ä¼šå‡ºç°æ”¶ä¸åˆ°é‚®ä»¶çš„æƒ…å†µã€‚</b><b data-v-2945874e>ç›®å‰å·²æ”¯æŒç©æœºå™¨ç›´æ’­é—´å¼€æ’­æé†’</b></p></div>',3)),o("div",Me,[o("div",null,[a(c,{type:"primary",onClick:$},{default:l(()=>[...e[3]||(e[3]=[d("ç‚¹æˆ‘éšæœºä¸€æ¡å¼¹å¹•",-1)])]),_:1}),Te((i(),B(y,{data:z.tableData,class:"barrage-table",onRowClick:Z},{default:l(()=>[a(u,{prop:"barrage"},{default:l(s=>[a(n,{placement:"top",width:"auto",trigger:"hover",visible:s.row.popoverVisible},{reference:l(()=>[o("div",{style:{cursor:"pointer"},onTouchstart:p=>ee(s.row),onTouchend:p=>te(s.row)},[o("span",Se,f(s.row.barrage),1)],40,Re)]),default:l(()=>[o("div",Ue,[(i(!0),h(U,null,A(G(s.row.tags),(p,w)=>(i(),h("div",{key:w,style:{"margin-right":"8px"}},[a(g,{round:"",effect:"dark",style:{fontSize:"16px",cursor:"pointer"}},{default:l(()=>[o("div",Ae,[p.iconUrl?(i(),h("img",{key:0,src:p.iconUrl,style:{width:"22px",height:"22px","object-fit":"cover","vertical-align":"middle"}},null,8,Pe)):H("",!0),o("span",ze,f(p.label),1)])]),_:2},1024)]))),128)),o("span",Ne,"æŠ•ç¨¿æ—¶é—´: "+f(le(s.row.submitTime)),1)])]),_:2},1032,["visible"])]),_:1}),a(u,{label:"",align:"center",width:"85"},{default:l(()=>[a(c,{type:"primary"},{default:l(()=>[...e[4]||(e[4]=[d("å¤åˆ¶",-1)])]),_:1})]),_:1})]),_:1},8,["data"])),[[de,P.value]])])]),o("div",Le,[o("div",null,[o("span",null,[e[11]||(e[11]=d(" å¯é€‰æ ‡ç­¾ ",-1)),a(n,{width:300},{reference:l(()=>[a(k,{size:"16"},{default:l(()=>[a(D)]),_:1})]),default:l(()=>[e[5]||(e[5]=d(" ä¸ºè§£å†³çƒ‚æ¢—åˆ†æ ä¸è¶³å’Œåˆ†ç±»ä¸æ¸…æ™°é—®é¢˜ã€‚ ",-1)),e[6]||(e[6]=o("br",null,null,-1)),e[7]||(e[7]=o("b",null,"ç‚¹å‡»æ ‡ç­¾å³å¯æ·»åŠ ",-1))]),_:1}),a(c,{link:"",type:"success",style:{"margin-left":"50%"}},{default:l(()=>[e[10]||(e[10]=d(" æŠ•ç¨¿æ ‡ç­¾ ",-1)),a(n,{width:300},{reference:l(()=>[a(k,{size:"16"},{default:l(()=>[a(j)]),_:1})]),default:l(()=>[e[8]||(e[8]=o("b",null,"è¯·åœ¨ä¸Šæ–¹(å»ºè®®/æäº¤)é—®å·æŠ•ç¨¿ã€‚",-1)),e[9]||(e[9]=o("br",null,null,-1))]),_:1})]),_:1})]),o("div",$e,[o("div",Fe,[(i(!0),h(U,null,A(x.value,(s,p)=>(i(),B(g,{round:"",key:p,closable:"",onClose:w=>L(s),onClick:w=>L(s),style:{padding:"15px",cursor:"pointer","font-size":"16px"},type:"primary"},{default:l(()=>[o("div",je,[s.iconUrl?(i(),h("img",{key:0,src:s.iconUrl,style:{width:"22px",height:"22px","object-fit":"cover","vertical-align":"middle"}},null,8,Oe)):H("",!0),o("span",We,f(s.label),1)])]),_:2},1032,["onClose","onClick"]))),128))])]),o("span",null,[e[13]||(e[13]=d(" å·²é€‰æ ‡ç­¾ ",-1)),a(n,{width:250},{reference:l(()=>[a(k,{size:"16"},{default:l(()=>[a(D)]),_:1})]),default:l(()=>[e[12]||(e[12]=o("b",null,"æœ€å°‘ä¸€ä¸ªæ ‡ç­¾ï¼Œæœ€å¤šäº”ä¸ªæ ‡ç­¾ã€‚",-1))]),_:1})]),o("div",qe,[(i(!0),h(U,null,A(C.value,(s,p)=>(i(),B(g,{round:"",key:p,closable:"",onClick:w=>N(s),onClose:w=>N(s),style:{padding:"15px",cursor:"pointer","font-size":"16px"},effect:"dark"},{default:l(()=>[d(f(s.label),1)]),_:2},1032,["onClick","onClose"]))),128))]),a(se,{modelValue:b.value,"onUpdate:modelValue":e[0]||(e[0]=s=>b.value=s),maxlength:"255",autocomplete:"off",autosize:{minRows:2,maxRows:4},"show-word-limit":"",type:"textarea",placeholder:" çƒ‚æ¢—...."},null,8,["modelValue"]),o("div",He,[o("div",Qe,[a(ne,{modelValue:V.value,"onUpdate:modelValue":e[1]||(e[1]=s=>V.value=s),disabled:!r.value,class:"match-checkbox-home"},{default:l(()=>[e[14]||(e[14]=d(" å…³è”èµ›äº‹åº“ ",-1)),a(k,{color:"#3db302ff",size:"16"},{default:l(()=>[a(j)]),_:1})]),_:1},8,["modelValue","disabled"]),r.value?(i(),h("div",Ge,[o("div",Je,[o("img",{src:r.value.matchesImg,class:"match-image-home",alt:r.value.matchesName},null,8,Ke),o("span",Xe,f(r.value.matchesName),1)]),o("div",Ye,f(r.value.startTime)+" è‡³ "+f(r.value.endTime),1)])):(i(),h("div",Ze,"å½“å‰æ— æ­£åœ¨è¿›è¡Œçš„å¤§å‹èµ›äº‹")),a(c,{class:"saveBnt",type:"primary",onClick:K},{default:l(()=>[...e[15]||(e[15]=[d("æŠ•ç¨¿",-1)])]),_:1})])])]),a(re,{right:50,bottom:50})]),a(ue,{class:"ChatRoom card"}),e[19]||(e[19]=o("div",{class:"card sixth-card"},[d(" å‹æƒ…é“¾æ¥ "),o("a",{href:"https://dgq63136.cn",target:"_blank"},"dgq63136.cn"),d(" Â Â Â  "),o("a",{href:"https://sb6657.cn/#/Starrysky",target:"_blank"},"æ˜Ÿç©ºèƒŒæ™¯")],-1)),o("div",et,[o("span",tt,[e[16]||(e[16]=d(" æœç´¢è¯äº‘ ",-1)),a(k,{size:"20",style:{cursor:"pointer",animation:"rotating 4s linear infinite reverse"},onClick:e[2]||(e[2]=s=>ae())},{default:l(()=>[a(ie)]),_:1})]),(i(),B(Be,null,{default:l(()=>[a(Ve(oe),{ref_key:"wordCloudRef",ref:F},null,512)]),fallback:l(()=>[...e[17]||(e[17]=[o("div",{style:{height:"270px",width:"300px"}},"è¯äº‘åŠ è½½ä¸­...",-1)])]),_:1}))])])}}},xt=ce(ot,[["__scopeId","data-v-2945874e"]]);export{xt as default};
