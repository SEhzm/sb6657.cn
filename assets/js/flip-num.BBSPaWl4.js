import{h as i,A as m,M as h,_}from"./index.DdO95VHm.js";import{m as u}from"./element-plus.DVYLd97e.js";import{r as p,f as v,S as E,d as C,w as M,o as w,c as b,a as d,M as g,C as N}from"./@vue.BkZGu_Ap.js";async function y(t,e){var n,r;try{const a=await i.get(t);return(r=(n=a==null?void 0:a.data)==null?void 0:n[0])!=null&&r.barrage?a.data.map(s=>({tags:s.tags,content:s.barrage,category:s.tableName,id:`${s.barrageId}`,copyCount:s.cnt})):(console.log(`èŽ·å–${e}çƒ‚æ¢—å¤±è´¥`,a),!1)}catch(a){return console.log(`èŽ·å–${e}çƒ‚æ¢—å¤±è´¥`,a),!1}}function H(){return y(m.GET_HOT_MEME_24h,"24hçƒ­é—¨")}function B(){return y(m.GET_HOT_MEME_7D,"ä¸ƒå¤©çƒ­é—¨")}async function D(t){console.log(`æœç´¢è¯: ${t}`);try{const e=await i.post(m.SEARCH_MEME,{barrage:t});return e.data.length===0?(console.log("æœªæœç´¢åˆ°çƒ‚æ¢—"),"notfound"):e.data.map(r=>({tags:r.tags,content:r.barrage,category:"allbarrage",id:r.id,copyCount:+r.cnt}))}catch(e){return console.log("æœç´¢çƒ‚æ¢—å¤±è´¥",e),!1}}async function R(t,e,n,r){var a,o,s;console.log(`è¯·æ±‚çƒ‚æ¢—åˆ†ç±»: ${t}, é¡µæ•°: ${e}, æ¯é¡µçƒ‚æ¢—æ•°: ${n}`);try{const c=(a=h.find(l=>l.category===t))==null?void 0:a.api;if(!c)throw new Error("æœªæ‰¾åˆ°æ­¤åˆ†ç±»");const f=await i.get(c,{params:{tags:r,pageNum:e,pageSize:n}});if(((s=(o=f.data)==null?void 0:o.list)==null?void 0:s.length)<=0)throw new Error("è¯·æ±‚åˆ°çš„çƒ‚æ¢—åˆ—è¡¨ä¸ºç©º");return{memeArr:f.data.list.map(l=>({tags:l.tags,content:l.barrage,id:l.id,category:t,copyCount:+l.cnt,likes:+l.likes})),total:f.data.total}}catch(c){return console.error("è¯·æ±‚çƒ‚æ¢—åˆ—è¡¨å¤±è´¥",c),!1}}function U(t,e,n){let r=null;return(...a)=>{if(r)return e();{const o=t(...a);return r=setTimeout(()=>{r=null},n),o}}}function A(t){u({title:"å¤åˆ¶å¤±è´¥",message:`å¤åˆ¶æ“ä½œå¤±è´¥ï¼Œè¯·ç¨åŽé‡è¯•ã€‚
                å¯èƒ½ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒè¢«åŠ¨å†™å…¥å‰ªè´´æ¿ï¼Œè¯·æ¢ç”¨å…¶ä»–æµè§ˆå™¨`,type:"error"}),console.error("å¤åˆ¶å¤±è´¥:",t)}function z(){u({message:"å¤åˆ¶æˆåŠŸ",type:"success"})}function G(){return u({title:"è¯·å‹¿åˆ·æ¬¡æ•°",message:"å¤åˆ¶æˆåŠŸï¼Œä½†æ¬¡æ•°æ²¡æœ‰å¢žåŠ ",type:"warning"}),"limitedSuccess"}function j(){return u({title:"è¯·å‹¿åˆ·æ¬¡æ•°",message:"ç‚¹èµžæˆåŠŸï¼Œä½†æ¬¡æ•°æ²¡æœ‰å¢žåŠ ",type:"warning"}),"limitedSuccess"}function Q(t){const e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select();try{document.execCommand("Copy")}catch(n){return A(n),!1}return document.body.removeChild(e),!0}async function Y(t,e,n,r,a){try{const o=await i.get(m.INCREASE_COPY_COUNT+`/${e}`);return console.log("å¼¹å¹•å¤åˆ¶æ¬¡æ•°+1æˆåŠŸ",o),!0}catch(o){return console.error("å¼¹å¹•å¤åˆ¶æ¬¡æ•°+1å¤±è´¥",o),!1}}async function q(t,e,n,r,a){try{const o=await i.get(m.INCREASE_LIKE_COUNT+`/${t}`);return console.log("å¼¹å¹•ç‚¹èµžæ¬¡æ•°+1æˆåŠŸ",o),!0}catch(o){return console.error("å¼¹å¹•ç‚¹èµžæ¬¡æ•°+1å¤±è´¥",o),!1}}function F(){u({title:"å¤åˆ¶æˆåŠŸ",message:"ä½†æ˜¯å¤åˆ¶æ¬¡æ•°æ²¡æœ‰å¢žåŠ ï¼Œå¯èƒ½æ˜¯ç½‘ç»œæœ‰é—®é¢˜",type:"warning"})}function J(){u({title:"ç‚¹èµžæˆåŠŸðŸ‘",message:"ä½†æ˜¯ç‚¹èµžæ¬¡æ•°æ²¡æœ‰å¢žåŠ ï¼Œå¯èƒ½æ˜¯ç½‘ç»œæœ‰é—®é¢˜",type:"warning"})}const S=t=>new Promise(e=>setTimeout(e,t));function K(){const t=p(!1);let e=null;function n(r){t.value=r.matches}return v(()=>{e=window.matchMedia("(max-width: 600px)"),t.value=e.matches,e.addEventListener("change",n)}),E(()=>{e&&e.removeEventListener("change",n)}),t}const $={class:"container"},T={class:"place-holder"},O=C({__name:"flip-num",props:{num:{}},setup(t){const e=t,n=p(e.num),r=p(e.num);let a=!1;const o=p("normal");return M(()=>e.num,async(s,c)=>{if(n.value=c,r.value=s,a){n.value=s,r.value=s;return}a=!0,o.value=s<c?"end flex-start":"end",await S(500),n.value=s,r.value=s,o.value="normal",a=!1}),(s,c)=>(w(),b("span",$,[d("div",T,g(r.value),1),d("div",{class:N(`flip ${o.value}`)},[d("div",null,g(n.value),1),d("div",null,g(r.value),1)],2)]))}}),L=_(O,[["__scopeId","data-v-3fee0ed6"]]);export{Y as a,J as b,z as c,G as d,Q as e,L as f,H as g,B as h,R as i,j,q as l,F as p,D as s,U as t,K as u};
