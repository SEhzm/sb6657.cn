import{n as f,a as ge,b as be,f as ye,g as he,h as _e,v as xe,o as Z,E as Ce,d as we,e as ke,p as Te}from"./element-plus.BOB1eDCd.js";import{o as u,c as v,r as p,f as Se,X as Ee,a as o,L as a,P as l,H as n,I as ee,G as P,u as te,a5 as Ie,K as O,O as V,a4 as z,M as S,V as De,ag as W}from"./@vue.BkZGu_Ap.js";import{_ as H,h as C,A as Me,C as Ve}from"./index.DV7LijaT.js";import{M as Be}from"./@element-plus.imH8POSc.js";import{_ as $e}from"./favicon.CJfgpdIL.js";import{f as Re,c as Pe,t as ze,l as Fe,a as Ue}from"./like-num.vue_vue_type_style_index_0_scoped_e71cc133_lang.C1PP_B_Y.js";import{i as Le}from"./echarts.CQAimccO.js";import"./echarts-wordcloud.DVMGN1VD.js";import"./lodash-es.C-zDejYo.js";import"./@vueuse.B3BMR0ps.js";import"./@popperjs.D9SI2xQl.js";import"./@ctrl.r5W6hzzQ.js";import"./dayjs.DXEKZA6n.js";import"./async-validator.DKvM95Vc.js";import"./memoize-one.BdPwpGay.js";import"./normalize-wheel-es.B6fDCfyv.js";import"./@floating-ui.8uccrNCM.js";import"./axios.CCb-kr4I.js";import"./vue-router.CJ_8Ucol.js";import"./zrender.C4y2rr7x.js";import"./tslib.BDyQ-Jie.js";const Oe={},We={src:$e,alt:"",style:{width:"30px"}};function He(N,B){return u(),v("img",We)}const Ne=H(Oe,[["render",He]]),Ae={__name:"wordCloud",setup(N,{expose:B}){const g=p(null),w=[];Se(()=>{C.get("/machine/WordCloud").then(m=>{w.value=m,E()}).catch(m=>{console.error(m)})});function E(){g.value&&Le(g.value,"macarons").setOption({tooltip:{show:!0,borderColor:"#fe9a8bb3",borderWidth:1,padding:[5,5,5,5],confine:!0,backgroundColor:"rgba(255, 255, 255, .9)",textStyle:{color:"hotpink",lineHeight:16},extraCssText:"box-shadow: 0 4px 20px -4px rgba(199, 206, 215, 1);border-radius: 4px;"},series:[{type:"wordCloud",shape:"pentagon",left:"center",top:"center",width:"100%",height:"100%",right:null,bottom:null,sizeRange:[16,30],rotationRange:[-20,20],rotationStep:25,gridSize:15,drawOutOfBound:!1,layoutAnimation:!0,textStyle:{fontFamily:"PingFangSC-Semibold",fontWeight:600,color:function(A){return["#0d3555","#58D5FF","#0093c4","#0d3555","#0093c4","#0d3555","#73DDFF","#58D5FF","#ff0000","#00ff00","#ff0000","#00ff00","#1a721a","#1a721a","#1a721a"][parseInt(Math.random()*15)]}},emphasis:{focus:"none"},data:w.value}]})}return B({getWordCloudList:E}),(m,A)=>(u(),v("div",{ref_key:"wordCloud",ref:g,style:{height:"270px",width:"300px"}},null,512))}},Qe=H(Ae,[["__scopeId","data-v-533d6f60"]]),je={class:"home"},qe={class:"card third-card"},Ke=["onTouchstart","onTouchend"],Xe={class:"barrage-text"},Ge={style:{display:"flex","align-items":"center","flex-wrap":"wrap"}},Ye=["src"],Je={class:"card fourth-card"},Ze={style:{cursor:"pointer"}},et={class:"barrage-text"},tt={style:{display:"flex","align-items":"center","flex-wrap":"wrap"}},ot=["src"],lt={class:"card fifth-card"},nt={class:"preset-tags-container"},rt={class:"preset-tags"},at={class:"added-tags"},st={class:"wordCloudDiv"},it={style:{"background-color":"white","border-radius":"25px",padding:"5px"}},ut="custom-popover",dt={__name:"Home",setup(N){const B=()=>{const t=document.getElementById("diaocha");t?t.click():console.error('Element with id "diaocha" not found')},g=p(!0),w=p(!1),E=p("æ•°æ®ä¸ºç©º"),m=Ee({getRandOne:[],filteredItems:[],tableData:[],table:"",barrage:""});(()=>{sessionStorage.getItem("firstOpening")||C.get("https://api.vvhan.com/api/visitor.info").then(t=>{const e=t;localStorage.setItem("ip",t.ip),f({icon:Ne,dangerouslyUseHTMLString:!0,title:"ä½ å¥½",message:`
            <p>
                æ¬¢è¿æ¥è‡ª<b>${e.location||"åœ°çƒ"}</b>çš„æœ‹å‹<br/>  
                ${e.system||"å¤–æ˜Ÿæ“ä½œç³»ç»Ÿ"} ${e.browser||"ç‰›é€¼æµè§ˆå™¨"}<br/>
                IP: ${e.ip||"åœ°çƒ"}
            </p>
            `,offset:50,customClass:"myClass",duration:1e3}),sessionStorage.setItem("firstOpening",1)})})();const $=p([]),oe=()=>{C.get("/machine/dictList").then(t=>{t.code==="200"&&($.value=t.data,I.value=t.data.map(e=>({label:e.dictLabel,value:e.dictValue})))}).catch(t=>{console.error("è·å–å­—å…¸æ•°æ®å¤±è´¥",t)})},Q=t=>{if(!t||t.trim()==="")return[];const e=Array.from(new Set(t.split(",").map(s=>s.trim())));if(!$.value)return e.map(()=>({label:"",iconUrl:""}));const i=new Map($.value.map(s=>[String(s.dictValue).trim(),s]));return e.map(s=>{const c=i.get(s);return c?{label:c.dictLabel,iconUrl:c.iconUrl}:{label:"",iconUrl:""}})};oe();const k=p(""),T=p(""),I=p([]),D=p([]),b=p([]),j=t=>{D.value=D.value.filter(e=>e.value!==t.value),b.value=b.value.filter(e=>e!==t.value),I.value.push(t)},q=t=>{if(b.value.length>=5){f.info("æœ€å¤š5ä¸ªæ ‡ç­¾");return}D.value.some(e=>e.value===t.value)||(D.value.push(t),b.value.push(t.value),I.value=I.value.filter(e=>e.value!==t.value))},le=()=>{if(b.value.length===0||T.value===""||T.value===null)f.error("è¯·é€‰æ‹©æ ‡ç­¾æˆ–è¾“å…¥å¼¹å¹•");else{if(b.value.length>5){f.error("æœ€å°‘ä¸€ä¸ªæ ‡ç­¾ï¼Œæœ€å¤šäº”ä¸ªæ ‡ç­¾ã€‚");return}C.post(Me.SUBMIT_MEME,{tags:b.value.join(","),barrage:T.value}).then(t=>{T.value="",t.code==="200"?f.success("æŠ•ç¨¿æˆåŠŸï¼Œå¾…å®¡æ ¸(ä¸€å¤©å†…)"):t.code==="500"?f.error("çƒ‚æ¢—å·²ç»æœ‰äº†ï¼Œå‹¿é‡å¤æäº¤"):f.error("è¯·æ±‚å¤±è´¥")}).catch(t=>{console.error("æŠ•ç¨¿å¤±è´¥",t),f.error("è¯·æ±‚å¤±è´¥")})}},F=()=>{console.log(k.value),(k==null||k.value=="")&&(E.value="è¯·è¾“å…¥æœç´¢è¯..."),C.post("/machine/Query",{barrage:k.value}).then(t=>{w.value=!0,g.value=!1,m.filteredItems=t.data||[]})};var ne=p("æœç´¢çƒ‚æ¢—...");const K=()=>{C.get("/machine/getRandOne").then(t=>{m.tableData=[t.data],g.value=!1}).catch(t=>{console.error("éšæœºå¤±è´¥")})};K();const re=()=>{Z({message:"å¤åˆ¶æˆåŠŸ",type:"success"})},ae=()=>{Z({message:"å¤åˆ¶å¤±è´¥ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦ç¦ç”¨navigator.clipboardå¯¹è±¡æˆ–æ‰‹åŠ¨å¤åˆ¶,è¯·å‹¿ä½¿ç”¨å¤¸å…‹æµè§ˆå™¨",type:"error"})};let U=0,M=null,R=0;const X=t=>{const e=new Date().getTime(),i={x:event.clientX,y:event.clientY};if(M&&M.x===i.x&&M.y===i.y?(R++,console.log(R),R>4&&Ce.alert("ğŸ˜¡ğŸ˜¡ğŸ˜¡ä½ åœ¨åˆ·æ¬¡æ•°ğŸ˜¡ğŸ˜¡ğŸ˜¡","è¯·å‹¿ä½¿ç”¨è¿ç‚¹å™¨",{confirmButtonText:"å¥½å§ï¼Œæˆ‘é”™äº†"})):R=0,e-U<1500){f({title:"è¯·å‹¿åˆ·æ¬¡æ•°",message:"å¤åˆ¶æˆåŠŸï¼Œä½†æ¬¡æ•°æ²¡æœ‰å¢åŠ ",type:"warning"});const c=t.barrage;let h=document.createElement("input");h.value=c,document.body.appendChild(h),h.select();try{document.execCommand("Copy")}catch(_){f({title:"å¤åˆ¶å¤±è´¥",message:"å¤åˆ¶æ“ä½œå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",type:"error"}),console.error("å¤åˆ¶å¤±è´¥:",_)}document.body.removeChild(h),U=e,M=i;return}M=i,U=e;const y=t.barrage;let s=document.createElement("input");s.value=y,document.body.appendChild(s),s.select();try{document.execCommand("Copy"),re(),console.log("å†…å®¹å·²å¤åˆ¶åˆ°å‰ªè´´æ¿"),C.get(`/machine/addCnt/${t.id}`).then(()=>{})}catch(c){f({title:"å¤åˆ¶å¤±è´¥",message:"å¤åˆ¶æ“ä½œå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•",type:"error"}),console.error("å¤åˆ¶å¤±è´¥:",c),ae()}document.body.removeChild(s)},se=()=>{m.filteredItems=[],w.value=!1},ie=t=>{t.touchStartTime=Date.now()},ue=t=>{Date.now()-t.touchStartTime>200&&(t.popoverVisible=!0,setTimeout(()=>{t.popoverVisible=!1},1500))},de=ze(Ue,Fe,2e3);async function ce(t){const e=t.content,i=de(e);!i||i==="limitedSuccess"||(Pe(),await F())}const L=p(null);function pe(){L.value&&L.value.getWordCloudList()}return(t,e)=>{const i=ge,y=we,s=be,c=ke,h=ye,_=he,G=_e,Y=W("Warning"),me=W("QuestionFilled"),fe=Te,ve=W("Refresh"),J=xe;return u(),v(V,null,[e[26]||(e[26]=o("div",{class:"boomouder"},[o("img",{src:"https://gcore.jsdelivr.net/gh/9WiSHao/AnythingStorage/img/6657boom.webp",alt:"6657boom",class:"boom6657"})],-1)),o("div",je,[e[24]||(e[24]=o("div",{class:"card first-card"},[o("div",null,[o("b",null,[o("p",{class:"announcement"}," æ–°å¢æ—¶å…‰ç›¸å†Œ(å¯è¯„è®º)ï¼Œæ–°å¢åœ¨çº¿æŠ•ç¨¿å¼¹å¹•ã€‚ç©ç¥ç…§ç‰‡å¯ä»¥åœ¨ä¸Šæ–¹ä¸Šä¼ ç…§ç‰‡ä¸Šä¼ è‡³ç›¸å†Œ ")])])],-1)),o("div",{class:"card second-card"},[o("p",null,[e[5]||(e[5]=a(" è¿™æ˜¯ä¸€ä¸ªæ”¶é›†6657çƒ‚æ¢—çš„ç½‘ç«™: ")),e[6]||(e[6]=o("span",{class:"dgq63136"},[o("a",{href:"https://sb6657.cn"},"sb6657.cn")],-1)),e[7]||(e[7]=a(" å°½æƒ…æ¬£èµä½ ä»¬çš„çƒ‚æ¢—å§ã€‚ å¦å¯»å‡ ä½ç©ç¥è€è§‚ä¼—(21çº§ç‰Œå­æˆ–3000hè§‚çœ‹æ—¶é•¿)ï¼Œè·å¾—åå°å®¡æ ¸å’Œè®°å½•çš„èµ„æ ¼ï¼ï¼ ")),e[8]||(e[8]=o("br",null,null,-1)),o("b",null,[e[3]||(e[3]=a("ä¸ºäº†æ›´æ·±å…¥äº†è§£ç”¨æˆ·çš„éœ€æ±‚ä»¥åŠä½œè€…éœ€ç¼–å†™è®ºæ–‡ï¼Œç‰¹å¼€å±•ç©æœºå™¨sb6657.cn ç”¨æˆ·è°ƒç ” ")),o("a",{style:{color:"blue",cursor:"pointer"},onClick:B},"ç‚¹å‡»æˆ‘å‚åŠ "),e[4]||(e[4]=a(" ä¸ºäº†æ„Ÿè°¢æ‚¨æŠ½å‡ºå®è´µçš„æ—¶é—´å‚ä¸è°ƒç ”ï¼Œä¼šåœ¨ç»“æŸæ—¶æŠ½å–ä¸‰ä¸ªåå°å®¡æ ¸èµ„æ ¼ã€‚"))])])]),o("div",qe,[o("div",null,[l(i,{type:"primary",onClick:K},{default:n(()=>e[9]||(e[9]=[a("ç‚¹æˆ‘éšæœºä¸€æ¡å¼¹å¹•")])),_:1}),ee((u(),P(h,{data:m.tableData,class:"barrage-table",onRowClick:X},{default:n(()=>[l(c,{prop:"barrage"},{default:n(r=>[l(s,{placement:"top",width:"auto",trigger:"hover",visible:r.row.popoverVisible},{reference:n(()=>[o("div",{style:{cursor:"pointer"},onTouchstart:d=>ie(r.row),onTouchend:d=>ue(r.row)},[o("span",Xe,S(r.row.barrage),1)],40,Ke)]),default:n(()=>[o("div",Ge,[(u(!0),v(V,null,z(Q(r.row.tags),(d,x)=>(u(),v("div",{key:x,style:{"margin-right":"8px"}},[l(y,{round:"",effect:"dark",style:{fontSize:"16px",cursor:"pointer"}},{default:n(()=>[d.iconUrl?(u(),v("img",{key:0,src:d.iconUrl,style:{width:"16px",height:"16px","object-fit":"cover","vertical-align":"middle"}},null,8,Ye)):O("",!0),a(" "+S(d.label),1)]),_:2},1024)]))),128))])]),_:2},1032,["visible"])]),_:1}),l(c,{label:"",align:"center",width:"85"},{default:n(()=>[l(i,{type:"primary"},{default:n(()=>e[10]||(e[10]=[a("å¤åˆ¶")])),_:1})]),_:1})]),_:1},8,["data"])),[[J,g.value]])])]),o("div",Je,[o("div",null,[l(G,{modelValue:k.value,"onUpdate:modelValue":e[0]||(e[0]=r=>k.value=r),placeholder:te(ne),onKeydown:Ie(F,["enter"]),clearable:"",class:"search-input",onInput:se},{append:n(()=>[l(i,{type:"primary",onClick:F},{default:n(()=>[l(_,null,{default:n(()=>[l(te(Be))]),_:1})]),_:1})]),_:1},8,["modelValue","placeholder"]),w.value?ee((u(),P(h,{key:0,data:m.filteredItems,stripe:"",onRowClick:X,"empty-text":E.value,"cell-style":{cursor:"Pointer",fontSize:"large"}},{default:n(()=>[l(c,{prop:"barrage"},{default:n(r=>[l(s,{placement:"top",width:"auto",trigger:"hover","popper-class":ut},{reference:n(()=>[o("div",Ze,[o("span",et,S(r.row.barrage),1)])]),default:n(()=>[o("div",tt,[(u(!0),v(V,null,z(Q(r.row.tags),(d,x)=>(u(),v("div",{key:x,style:{"margin-right":"8px"}},[l(y,{round:"",effect:"dark",style:{fontSize:"16px",cursor:"pointer"}},{default:n(()=>[d.iconUrl?(u(),v("img",{key:0,src:d.iconUrl,style:{width:"16px",height:"16px","object-fit":"cover","vertical-align":"middle"}},null,8,ot)):O("",!0),a(" "+S(d.label),1)]),_:2},1024)]))),128))])]),_:2},1024)]),_:1}),l(c,{align:"center",width:"100"},{default:n(r=>[l(i,{type:"primary",class:"copy-btn",onClick:De(d=>ce(r.row),["stop"])},{default:n(()=>[e[11]||(e[11]=a("å¤åˆ¶ ğŸˆ")),l(Re,{num:r.row.cnt},null,8,["num"])]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","empty-text"])),[[J,g.value]]):O("",!0)])]),o("div",lt,[o("div",null,[o("span",null,[e[19]||(e[19]=a("å¯é€‰æ ‡ç­¾")),l(s,{width:300},{reference:n(()=>[l(_,{size:"16"},{default:n(()=>[l(Y)]),_:1})]),default:n(()=>[e[12]||(e[12]=a(" ä¸ºè§£å†³çƒ‚æ¢—åˆ†æ ä¸è¶³å’Œåˆ†ç±»ä¸æ¸…æ™°é—®é¢˜ã€‚")),e[13]||(e[13]=o("br",null,null,-1)),e[14]||(e[14]=o("b",null,"ç‚¹å‡»æ ‡ç­¾å³å¯æ·»åŠ ",-1))]),_:1}),l(i,{link:"",type:"success",style:{"margin-left":"50%"}},{default:n(()=>[e[18]||(e[18]=a("æŠ•ç¨¿æ ‡ç­¾ ")),l(s,{width:300},{reference:n(()=>[l(_,{size:"16"},{default:n(()=>[l(me)]),_:1})]),default:n(()=>[e[15]||(e[15]=o("b",null,"åŠŸèƒ½å¾…å®Œå–„(åç»­æ›´æ–°å°†æ·»åŠ )ï¼Œè¯·åœ¨ä¸Šæ–¹(å»ºè®®/æäº¤)é—®å·æŠ•ç¨¿ï¼Œsryã€‚",-1)),e[16]||(e[16]=o("br",null,null,-1)),e[17]||(e[17]=o("b",null,"å®¡æ ¸å·¨ä¸¥æ ¼ï¼Œ(é‡å¤ï¼Œç›¸ä¼¼ç­‰)å°†ä¸é€šè¿‡",-1))]),_:1})]),_:1})]),o("div",nt,[o("div",rt,[(u(!0),v(V,null,z(I.value,(r,d)=>(u(),P(y,{round:"",key:d,closable:"",onClose:x=>q(r),onClick:x=>q(r),style:{padding:"15px",cursor:"pointer","font-size":"16px"},type:"primary"},{default:n(()=>[a(S(r.label),1)]),_:2},1032,["onClose","onClick"]))),128))])]),o("span",null,[e[21]||(e[21]=a("å·²é€‰æ ‡ç­¾ ")),l(s,{width:250},{reference:n(()=>[l(_,{size:"16"},{default:n(()=>[l(Y)]),_:1})]),default:n(()=>[e[20]||(e[20]=o("b",null,"æœ€å°‘ä¸€ä¸ªæ ‡ç­¾ï¼Œæœ€å¤šäº”ä¸ªæ ‡ç­¾ã€‚",-1))]),_:1})]),o("div",at,[(u(!0),v(V,null,z(D.value,(r,d)=>(u(),P(y,{round:"",key:d,closable:"",onClick:x=>j(r),onClose:x=>j(r),style:{padding:"15px",cursor:"pointer","font-size":"16px"},effect:"dark"},{default:n(()=>[a(S(r.label),1)]),_:2},1032,["onClick","onClose"]))),128))]),l(G,{modelValue:T.value,"onUpdate:modelValue":e[1]||(e[1]=r=>T.value=r),maxlength:"255",autocomplete:"off",autosize:{minRows:2,maxRows:4},"show-word-limit":"",type:"textarea",placeholder:" çƒ‚æ¢—...."},null,8,["modelValue"]),l(i,{class:"saveBnt",type:"primary",onClick:le},{default:n(()=>e[22]||(e[22]=[a("æŠ•ç¨¿")])),_:1})]),l(fe,{right:50,bottom:50})]),l(Ve,{class:"ChatRoom card"}),e[25]||(e[25]=o("div",{class:"card sixth-card"},[a(" å‹æƒ…é“¾æ¥ "),o("a",{href:"https://dgq63136.cn",target:"_blank"},"dgq63136.cn"),a("Â Â Â  "),o("a",{href:"https://sb6657.cn/#/Starrysky",target:"_blank"},"æ˜Ÿç©ºèƒŒæ™¯")],-1)),o("div",st,[o("span",it,[e[23]||(e[23]=a("æœç´¢è¯äº‘")),l(_,{size:"20",style:{cursor:"pointer",animation:"rotating 4s linear infinite reverse"},onClick:e[2]||(e[2]=r=>pe())},{default:n(()=>[l(ve)]),_:1})]),l(Qe,{ref_key:"wordCloudRef",ref:L},null,512)])])],64)}}},Bt=H(dt,[["__scopeId","data-v-74d817ea"]]);export{Bt as default};
