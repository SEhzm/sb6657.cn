const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/wordCloud.Dn70vuot.js","assets/js/echarts.D13McHMB.js","assets/js/zrender.B_NAtvFA.js","assets/js/tslib.BDyQ-Jie.js","assets/js/echarts-wordcloud.tk4DMxWl.js","assets/js/index.B3Ucgr-c.js","assets/js/@vue.BltuATdo.js","assets/js/pinia.DfSVr1RC.js","assets/js/axios.ngrFHoWO.js","assets/js/js-cookie.Cz0CWeBA.js","assets/js/element-plus.C4Wz9kMa.js","assets/js/lodash-es.CDeyng3v.js","assets/js/@vueuse.7i1SIcsD.js","assets/js/@element-plus.D0bpsst8.js","assets/js/@popperjs.D_chPuIy.js","assets/js/@ctrl.r5W6hzzQ.js","assets/js/dayjs.BKG3DVjA.js","assets/js/async-validator.9PlIezaS.js","assets/js/memoize-one.BdPwpGay.js","assets/js/normalize-wheel-es.BQoi3Ox2.js","assets/js/@floating-ui.D0iZPv2f.js","assets/js/vue-router.BFvkXMb7.js","assets/css/index.C0sUvfrJ.css","assets/css/wordCloud.qpx4COKE.css"])))=>i.map(i=>d[i]);
import{_ as R,C as Q,h as j,b as G,A as X}from"./index.B3Ucgr-c.js";import{S as H,F as W,T as Z}from"./@element-plus.D0bpsst8.js";import{u as O,e as ee,b as se}from"./time.ZBrj4lsa.js";import{d as z,h as _,al as h,c as u,o as i,a as e,R as o,E as te,J as n,P as k,L as D,Q as A,a6 as N,O as c,u as g,W as oe,aU as ae,f as le,I as U,aV as ne,aI as re}from"./@vue.BltuATdo.js";import{f as ie,t as de}from"./flip-num.CNWkK2dt.js";import{c as ce,a as ue,p as q,l as me,b as ve}from"./setMeme.cwwbK7w3.js";import{R as L}from"./vue-router.BFvkXMb7.js";import{b as w}from"./element-plus.C4Wz9kMa.js";import"./pinia.DfSVr1RC.js";import"./axios.ngrFHoWO.js";import"./js-cookie.Cz0CWeBA.js";import"./lodash-es.CDeyng3v.js";import"./@vueuse.7i1SIcsD.js";import"./@popperjs.D_chPuIy.js";import"./@ctrl.r5W6hzzQ.js";import"./dayjs.BKG3DVjA.js";import"./async-validator.9PlIezaS.js";import"./memoize-one.BdPwpGay.js";import"./normalize-wheel-es.BQoi3Ox2.js";import"./@floating-ui.D0iZPv2f.js";const pe={class:"random-meme"},_e={class:"random-barrage-header"},fe={class:"refresh-controls"},be={class:"barrage-main-content"},ge={class:"barrage-text-wrapper"},he={class:"barrage-text"},ke={class:"barrage-meta-info"},ye={key:0,class:"tags-container"},Ce=["src"],we={class:"tag-label"},$e={class:"submit-time"},xe={class:"meme-id"},Te={class:"copy-count"},Ee={key:1,class:"no-data"},Re=z({__name:"random-meme",setup(V){const y=O(),a=_([]);y.tagsLoaded.then(()=>{a.value=y.memeTags});const r=_(),f=_(!1),v=_(!1);async function d(){const{_failure:b,flatData:l}=await se();return b||!l?(console.error("获取随机烂梗失败"),!1):(r.value=l,!0)}d();const C=async()=>{if(f.value)return;if(v.value=!0,f.value=!0,!await d()){console.error("获取随机烂梗失败"),f.value=!1;return}f.value=!1,setTimeout(()=>{v.value=!1},600)};function T(b){const l=b.split(",");return a.value.filter(p=>l.includes(p.dictValue)).map(p=>({label:p.dictLabel,iconUrl:p.iconUrl}))}const E=de(ve,me,2e3);async function $(b){const l=E(b.barrage);if(!(!l||l==="limitedSuccess")){ce();try{await ue("",b.id)?r.value.cnt=`${+r.value.cnt+1}`:q()}catch(p){console.error("更新复制计数失败:",p),q()}}}return(b,l)=>{const p=h("Refresh"),I=h("el-icon");return i(),u("div",pe,[e("div",_e,[l[2]||(l[2]=e("div",{class:"random-barrage-title"},[e("div",{class:"title"},"随机一条烂梗"),e("span",{class:"tips"},"(直接点击也能复制)")],-1)),e("div",fe,[e("span",{class:"refresh-text",onClick:C},"换一换"),o(I,{class:te(["refresh-icon",{rotating:v.value}]),onClick:C,size:"18"},{default:n(()=>[o(p)]),_:1},8,["class"])])]),r.value?(i(),u("div",{key:0,class:"modern-barrage-card",onClick:l[1]||(l[1]=t=>$(r.value))},[e("div",be,[e("div",ge,[e("span",he,k(r.value.barrage),1)]),e("div",ke,[T(r.value.tags).length>0?(i(),u("div",ye,[(i(!0),u(A,null,N(T(r.value.tags),(t,s)=>(i(),u("div",{key:s,class:"modern-tag"},[t.iconUrl?(i(),u("img",{key:0,src:t.iconUrl,class:"tag-icon"},null,8,Ce)):D("",!0),e("span",we,k(t.label),1)]))),128))])):D("",!0),e("div",$e,[e("span",xe,"#"+k(r.value.id),1),c(" "+k(g(ee)(r.value.submitTime)),1)])])]),e("div",{class:"modern-copy-button",onClick:l[0]||(l[0]=oe(t=>$(r.value),["stop"]))},[l[3]||(l[3]=e("div",{class:"copy-text"},"复制",-1)),l[4]||(l[4]=e("div",{class:"copy-icon"},"📋",-1)),e("div",Te,[o(ie,{num:r.value.cnt||0},null,8,["num"])]),l[5]||(l[5]=e("div",{class:"copy-ripple"},null,-1))])])):(i(),u("div",Ee,"暂无烂梗数据"))])}}}),Ve=R(Re,[["__scopeId","data-v-cdd47bab"]]),Ie={class:"sub-info"},Me=z({__name:"homeIntro",setup(V){return(y,a)=>(i(),u("div",null,[a[1]||(a[1]=ae('<p class="announcement" data-v-bb8e5524><b data-v-bb8e5524>这是一个收集6657烂梗的网站：</b><span class="web-url" data-v-bb8e5524><a href="https://sb6657.cn" data-v-bb8e5524>sb6657.cn</a></span> 尽情欣赏你们的烂梗吧。 </p><p class="sub-info" data-v-bb8e5524><b data-v-bb8e5524> 油猴插件 <a href="https://cdn.hguofichp.cn/sb6657.cn%E6%96%97%E9%B1%BC%E7%8E%A9%E6%9C%BA%E5%99%A8%E7%83%82%E6%A2%97%E6%94%B6%E9%9B%86.user.js" target="_blank" data-v-bb8e5524>点击下载</a> 可在斗鱼直播间一键发送烂梗 </b></p><p class="sub-info" data-v-bb8e5524>开放注册功能，可能会出现收不到邮件的情况。</p><p class="sub-info" data-v-bb8e5524>目前已支持玩机器直播间开播提醒</p>',4)),e("p",Ie,[o(g(L),{to:"/update"},{default:n(()=>[...a[0]||(a[0]=[c("网站更新日志",-1)])]),_:1})])]))}}),Se=R(Me,[["__scopeId","data-v-bb8e5524"]]),Be={class:"did-you-know"},Ue={class:"knowledge-list"},De=z({__name:"didYouKnow",setup(V){return(y,a)=>(i(),u("div",Be,[a[5]||(a[5]=e("h3",null,"🤔 你知道吗？",-1)),e("ul",Ue,[e("li",null,[a[1]||(a[1]=c(" 谁目前打出了对位donk最多的击杀? 谁又是对位donk最大的受害者? ",-1)),o(g(L),{to:"/15warriorsDonk"},{default:n(()=>[...a[0]||(a[0]=[c("- 布雷德15勇士",-1)])]),_:1})]),e("li",null,[a[3]||(a[3]=c(" 哪只队伍捕虾最专业? 谁是最佳捕虾人? 又是谁在捕虾过程中惨遭反夹? ",-1)),o(g(L),{to:"/dejaVuNiko"},{default:n(()=>[...a[2]||(a[2]=[c("- 超级逮虾户战报",-1)])]),_:1})]),a[4]||(a[4]=e("li",{class:"placeholder-item"},null,-1))])]))}}),Ae=R(De,[["__scopeId","data-v-206d654b"]]),Ne={class:"home"},Le={class:"cards-container"},ze={class:"card first-card"},Pe={class:"card second-card"},Fe={class:"card third-card"},je={class:"card fifth-card"},He={class:"preset-tags-container"},We={class:"preset-tags"},qe={class:"tag-icon-wrapper"},Oe=["src"],Ke={class:"tag-text"},Ye={class:"added-tags"},Je={class:"match-association-container"},Qe={class:"match-section-home"},Ge={key:0,class:"match-details-box-home"},Xe={class:"match-info-row-home"},Ze=["src","alt"],es={class:"match-name-home"},ss={class:"match-time-home"},ts={key:1,class:"no-match-info-home"},os={class:"wordCloudDiv"},as={class:"word-cloud-title"},ls={__name:"Home",setup(V){const y=O();y.tagsLoaded.then(()=>{r.value=y.memeTags.map(t=>({iconUrl:t.iconUrl,label:t.dictLabel,value:t.dictValue}))});const a=_(""),r=_([]),f=_([]),v=_([]),d=_(null),C=_(!1);function T(){j.get("/machine/InProgressMatch").then(t=>{t.code===200&&t.data?d.value=t.data:d.value=null,console.log("Fetched match data:",d.value)}).catch(t=>{console.error("Failed to fetch in progress match:",t),d.value=null})}le(()=>{T()});const E=t=>{f.value=f.value.filter(s=>s.value!==t.value),v.value=v.value.filter(s=>s!==t.value),r.value.push(t)},$=t=>{if(v.value.length>=5){w.info("最多5个标签");return}f.value.some(s=>s.value===t.value)||(f.value.push(t),v.value.push(t.value),r.value=r.value.filter(s=>s.value!==t.value))},b=()=>{if(v.value.length===0||a.value===""||a.value===null)w.error("请选择标签或输入弹幕");else{if(v.value.length>5){w.error("最少一个标签，最多五个标签。");return}const t={tags:v.value.join(","),barrage:a.value};C.value&&d.value&&(t.matchId=d.value.id),j.post(X.SUBMIT_MEME,t).then(s=>{a.value="",C.value=!1,s.code===200?w.success("投稿成功，待审核(一天内)"):s.code===500?w.error("烂梗已经有了，勿重复提交"):w.error("请求失败")}).catch(s=>{console.error("投稿失败",s),w.error("请求失败")})}},l=_(null),p=ne(()=>G(()=>import("./wordCloud.Dn70vuot.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])));function I(){var t,s;(s=(t=l.value)==null?void 0:t.getData)==null||s.call(t)}return(t,s)=>{const x=h("el-icon"),M=h("el-popover"),P=h("el-button"),F=h("el-tag"),K=h("el-input"),Y=h("el-checkbox"),J=h("el-backtop");return i(),u("div",Ne,[s[16]||(s[16]=e("div",{class:"boom"},[e("img",{src:"https://gcore.jsdelivr.net/gh/9WiSHao/AnythingStorage/img/6657boom.webp",alt:"6657boom",class:"boom6657"})],-1)),e("div",Le,[e("div",ze,[o(Se)]),e("div",Pe,[o(Ae)])]),e("div",Fe,[o(Ve)]),e("div",je,[e("div",null,[e("span",null,[s[9]||(s[9]=c(" 可选标签 ",-1)),o(M,{width:300},{reference:n(()=>[o(x,{size:"16"},{default:n(()=>[o(g(H))]),_:1})]),default:n(()=>[s[3]||(s[3]=c(" 为解决烂梗分栏不足和分类不清晰问题。 ",-1)),s[4]||(s[4]=e("br",null,null,-1)),s[5]||(s[5]=e("b",null,"点击标签即可添加",-1))]),_:1}),o(P,{link:"",type:"success",class:"submit-tag-button"},{default:n(()=>[s[8]||(s[8]=c(" 投稿标签 ",-1)),o(M,{width:300},{reference:n(()=>[o(x,{size:"16"},{default:n(()=>[o(g(W))]),_:1})]),default:n(()=>[s[6]||(s[6]=e("b",null,"请在上方(建议/提交)问卷投稿。",-1)),s[7]||(s[7]=e("br",null,null,-1))]),_:1})]),_:1})]),e("div",He,[e("div",We,[(i(!0),u(A,null,N(r.value,(m,S)=>(i(),U(F,{round:"",key:S,closable:"",onClose:B=>$(m),onClick:B=>$(m),class:"preset-tag",type:"primary"},{default:n(()=>[e("div",qe,[m.iconUrl?(i(),u("img",{key:0,src:m.iconUrl,class:"tag-icon"},null,8,Oe)):D("",!0),e("span",Ke,k(m.label),1)])]),_:2},1032,["onClose","onClick"]))),128))])]),e("span",null,[s[11]||(s[11]=c(" 已选标签 ",-1)),o(M,{width:250},{reference:n(()=>[o(x,{size:"16"},{default:n(()=>[o(g(H))]),_:1})]),default:n(()=>[s[10]||(s[10]=e("b",null,"最少一个标签，最多五个标签。",-1))]),_:1})]),e("div",Ye,[(i(!0),u(A,null,N(f.value,(m,S)=>(i(),U(F,{round:"",key:S,closable:"",onClick:B=>E(m),onClose:B=>E(m),class:"added-tag",effect:"dark"},{default:n(()=>[c(k(m.label),1)]),_:2},1032,["onClick","onClose"]))),128))]),o(K,{modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=m=>a.value=m),maxlength:"255",autocomplete:"off",autosize:{minRows:2,maxRows:4},"show-word-limit":"",type:"textarea",placeholder:" 烂梗...."},null,8,["modelValue"]),e("div",Je,[e("div",Qe,[o(Y,{modelValue:C.value,"onUpdate:modelValue":s[1]||(s[1]=m=>C.value=m),disabled:!d.value,class:"match-checkbox-home"},{default:n(()=>[s[12]||(s[12]=c(" 关联赛事库 ",-1)),o(x,{color:"#3db302ff",size:"16"},{default:n(()=>[o(g(W))]),_:1})]),_:1},8,["modelValue","disabled"]),d.value?(i(),u("div",Ge,[e("div",Xe,[e("img",{src:d.value.matchesImg,class:"match-image-home",alt:d.value.matchesName},null,8,Ze),e("span",es,k(d.value.matchesName),1)]),e("div",ss,k(d.value.startTime)+" 至 "+k(d.value.endTime),1)])):(i(),u("div",ts,"当前无正在进行的大型赛事")),o(P,{class:"saveBnt",type:"primary",onClick:b},{default:n(()=>[...s[13]||(s[13]=[c("投稿",-1)])]),_:1})])])]),o(J,{right:50,bottom:50})]),o(Q,{class:"ChatRoom card"}),s[17]||(s[17]=e("div",{class:"card sixth-card"},[c(" 友情链接 "),e("a",{href:"https://dgq63136.cn",target:"_blank"},"dgq63136.cn"),c("     "),e("a",{href:"https://sb6657.cn/#/Starrysky",target:"_blank"},"星空背景")],-1)),e("div",os,[e("span",as,[s[14]||(s[14]=c(" 搜索词云 ",-1)),o(x,{size:"20",class:"word-cloud-refresh-icon",onClick:s[2]||(s[2]=m=>I())},{default:n(()=>[o(g(Z))]),_:1})]),(i(),U(re,null,{default:n(()=>[o(g(p),{ref_key:"wordCloudRef",ref:l},null,512)]),fallback:n(()=>[...s[15]||(s[15]=[e("div",{class:"word-cloud-loading"},"词云加载中...",-1)])]),_:1}))])])}}},Ts=R(ls,[["__scopeId","data-v-ce76ab6c"]]);export{Ts as default};
