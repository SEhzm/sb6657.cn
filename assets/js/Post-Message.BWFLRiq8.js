import{h as L,_ as M}from"./index.BsU3_XJQ.js";import{b as S}from"./vue-router.oDprkwHL.js";import{d as P,h as r,f as V,al as i,c,o as a,R as k,I as l,a as s,Q as b,a6 as D,P as n,L as I,J as m,O as g}from"./@vue.BltuATdo.js";import"./pinia.DfSVr1RC.js";import"./axios.ngrFHoWO.js";import"./js-cookie.Cz0CWeBA.js";import"./element-plus.DQRrSmQa.js";import"./lodash-es.CDeyng3v.js";import"./@vueuse.7i1SIcsD.js";import"./@element-plus.BgPfl9pw.js";import"./@popperjs.D_chPuIy.js";import"./@ctrl.r5W6hzzQ.js";import"./dayjs.BKG3DVjA.js";import"./async-validator.9PlIezaS.js";import"./memoize-one.BdPwpGay.js";import"./normalize-wheel-es.BQoi3Ox2.js";import"./@floating-ui.D0iZPv2f.js";const R={class:"message-container"},E={key:1,class:"msg-list"},F={class:"item-header"},J={class:"nickname"},O={class:"time"},Q={class:"item-type"},j={class:"item-content"},q={class:"pagination"},A=P({__name:"Post-Message",setup(G){const h=S(),u=r([]),d=r(1),y=r(10),v=r(0),_=r(!1),f=async()=>{_.value=!0;try{const e=(await L.get("/machine/SysMessage/getLikeMsgList",{params:{pageNum:d.value,pageSize:y.value}})).data;u.value=e.list,v.value=e.total||0}catch(o){console.error("消息获取失败",o)}finally{_.value=!1}},z=()=>{h.back()},C=o=>{d.value=o,f()},x=o=>new Date(o).toLocaleString();return V(()=>{f()}),(o,e)=>{const N=i("el-page-header"),T=i("el-empty"),p=i("el-tag"),B=i("el-pagination");return a(),c("div",R,[k(N,{onBack:z,class:"card",content:"我的消息"}),!_.value&&u.value.length===0?(a(),l(T,{key:0,description:"暂无消息"})):(a(),c("div",E,[(a(!0),c(b,null,D(u.value,(t,w)=>(a(),c("div",{key:w,class:"card message-item"},[s("div",F,[s("span",J,"👤 "+n(t.fromNickname),1),s("span",O,"🕒 "+n(x(t.createTime)),1)]),s("div",Q,[t.type==="like"?(a(),l(p,{key:0,size:"small",type:"success"},{default:m(()=>[e[0]||(e[0]=g(" 点赞了你的",-1)),s("strong",null,n(t.targetType==="post"?"帖子":"评论"),1)]),_:2},1024)):t.type==="comment_post"?(a(),l(p,{key:1,size:"small",type:"info"},{default:m(()=>[e[1]||(e[1]=g(" 评论了你的",-1)),s("strong",null,n(t.targetType==="post"?"评论":"帖子"),1)]),_:2},1024)):t.type==="reply_comment"?(a(),l(p,{key:2,size:"small",type:"warning"},{default:m(()=>[e[2]||(e[2]=g(" 回复了你的",-1)),s("strong",null,n(t.targetType==="post"?"帖子":"评论"),1)]),_:2},1024)):t.type==="expression"?(a(),l(p,{key:3,size:"small",type:"warning"},{default:m(()=>[e[3]||(e[3]=g(" 表态了你的",-1)),s("strong",null,n(t.targetType==="post"?"帖子":"评论"),1)]),_:2},1024)):I("",!0)]),s("div",j," 「"+n(t.targetContent)+"」 ",1)]))),128))])),s("div",q,[k(B,{background:"",layout:"prev, pager, next","current-page":d.value,"page-size":y.value,total:v.value,onCurrentChange:C},null,8,["current-page","page-size","total"])])])}}}),ie=M(A,[["__scopeId","data-v-673c3e76"]]);export{ie as default};
