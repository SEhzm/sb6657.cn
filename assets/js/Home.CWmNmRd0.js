import{E as d,b as Z,c as $,f as j,l as J,v as X,m as T,h as Y,a as A,e as G,n as K,o as ee,p as te,q as ae}from"./element-plus.BlfRtmAn.js";import{_ as Q,a as oe,h as b}from"./index.CdOVrPR4.js";import{M as le}from"./@element-plus.CC3FfBfR.js";import{o as x,c as S,r as h,Z as re,a as r,az as ne,U as t,O as l,P,M as B,u as z,R as se,S as _,F as ie}from"./@vue.B8hmRBHi.js";import"./lodash-es.CiJSjksT.js";import"./@vueuse.CK0szvdZ.js";import"./@popperjs.D9SI2xQl.js";import"./@ctrl.r5W6hzzQ.js";import"./dayjs.CdCgAjqw.js";import"./async-validator.DKvM95Vc.js";import"./memoize-one.BdPwpGay.js";import"./normalize-wheel-es.B6fDCfyv.js";import"./@floating-ui.8uccrNCM.js";import"./axios.CCb-kr4I.js";import"./vue-router._lZEdqQb.js";const pe={},de={src:oe,alt:"",style:{width:"30px"}};function ce(U,m){return x(),S("img",de)}const me=Q(pe,[["render",ce]]),ue={class:"home"},ge={class:"card",style:{"line-height":"0px","margin-top":"8px"}},fe={class:"card",style:{"line-height":"50px","margin-top":"10px","margin-bottom":"10px","min-height":"80px"}},be={class:"card",style:{"margin-top":"8px","text-align":"center"}},_e={__name:"Home",setup(U){const m=h(!0),C=h(!1),a=re({getRandOne:[],filteredItems:[],tableData:[],table:"",barrage:""});(()=>{sessionStorage.getItem("firstOpening")||b.get("https://api.vvhan.com/api/visitor.info").then(o=>{const e=o;localStorage.setItem("ip",o.ip),d({icon:me,dangerouslyUseHTMLString:!0,title:"你好",message:"<p>欢迎来自<b>"+e.location+"</b>的朋友<br/> "+e.system+e.browser+" <br>IP: "+e.ip+"</p>",offset:50,customClass:"myClass",duration:1e3}),sessionStorage.setItem("firstOpening",1)})})();const v=h(""),M={table:[{required:!0,message:"请选择分栏",trigger:"blur"}],barrage:[{required:!0,message:"请输入烂梗",trigger:"blur"}]},R=()=>{a.table===""||a.barrage===""?d.error("请选择分栏或输入烂梗"):b.post("/machine/addUnaudit",{ip:localStorage.getItem("ip"),table:a.table,barrage:a.barrage}).then(o=>{a.dialogFormVisible=!1,a.barrage="",o.code==="200"?d.success("投稿成功，待审核(一天内)"):d.error("请求失败")})},q=()=>{console.log(v.value),b.post("/machine/Query",{QueryBarrage:v.value}).then(o=>{C.value=!0,m.value=!1,a.filteredItems=o.data||[]})};var N=h("搜索烂梗...");const I=()=>{b.get("/machine/getRandOne").then(o=>{a.tableData=[o.data],m.value=!1}).catch(o=>{console.error("随机失败")})};I();const O=()=>{T({message:"复制成功",type:"success"})},D=()=>{T({message:"复制失败，请检查浏览器是否禁用navigator.clipboard对象或手动复制,请勿使用夸克浏览器",type:"error"})};let E=0,u=null,y=0;const w=o=>{const e=new Date().getTime(),n={x:event.clientX,y:event.clientY};if(u&&u.x===n.x&&u.y===n.y?(y++,console.log(y),y>4&&Y.alert("😡😡😡你在刷次数😡😡😡","请勿使用连点器",{confirmButtonText:"好吧，我错了"})):y=0,e-E<1500){d({title:"请勿刷次数",message:"复制成功，但次数没有增加",type:"warning"});const g=o.barrage;let p=document.createElement("input");p.value=g,document.body.appendChild(p),p.select();try{document.execCommand("Copy")}catch(s){d({title:"复制失败",message:"复制操作失败，请稍后重试",type:"error"}),console.error("复制失败:",s)}document.body.removeChild(p),E=e,u=n;return}u=n,E=e;const c=o.barrage;let i=document.createElement("input");i.value=c,document.body.appendChild(i),i.select();try{document.execCommand("Copy"),O(),console.log("内容已复制到剪贴板"),b.post("/machine/addCnt",{PageNum:a.currentPage,table:"allbarrage",id:o.id}).then(()=>{setTimeout(()=>load(a.currentPage),50)})}catch(g){d({title:"复制失败",message:"复制操作失败，请稍后重试",type:"error"}),console.error("复制失败:",g),D()}document.body.removeChild(i)},F=()=>{a.filteredItems=[],C.value=!1};return(o,e)=>{const n=Z,c=A,i=$,g=G,p=j,s=K,H=ee,k=te,L=J,W=ae,V=X;return x(),S(ie,null,[e[10]||(e[10]=r("div",{class:"boomouder"},[r("img",{src:"https://pic.imgdb.cn/item/66f7a491f21886ccc022f12a.png",alt:"6657boom",class:"boom6657"})],-1)),r("div",ue,[e[8]||(e[8]=ne('<div class="card" style="line-height:30px;margin-top:40px;" data-v-784f54d2><div data-v-784f54d2><b data-v-784f54d2><p style="font-size:14px;" data-v-784f54d2>新增时光相册(可评论)，新增在线投稿弹幕。最近可能会出现卡顿，玩神照片可以在上方上传照片上传至相册</p><p style="font-size:18px;color:red;" data-v-784f54d2>最新推出了油猴Tampermonkey插件，可以在直播间直接搜索进行复制和一键发送，<a href="https://sb6657.cn/#/Tampermonkey" target="_blank" data-v-784f54d2>点我安装！</a></p></b></div></div><div class="card" style="line-height:30px;margin-top:8px;" data-v-784f54d2><p data-v-784f54d2>你好 <br data-v-784f54d2> 这是一个收集6657烂梗的网站: <span class="dgq63136" data-v-784f54d2><a href="https://sb6657.cn" style="color:red;" data-v-784f54d2>sb6657.cn </a></span>尽情欣赏你们的烂梗吧。 <br data-v-784f54d2></p></div>',2)),r("div",ge,[r("div",null,[t(n,{type:"primary",onClick:I},{default:l(()=>e[3]||(e[3]=[_("点我随机一条弹幕")])),_:1}),P((x(),B(i,{data:a.tableData,style:{"font-family":"微软雅黑","font-size":"20px"},"header-cell-style":{fontSize:"14px",whitespace:"normal !important"},"cell-style":{cursor:"Pointer"},onRowClick:w},{default:l(()=>[t(c,{prop:"barrage"}),t(c,{label:"",align:"center",width:"85"},{default:l(()=>[t(n,{type:"primary"},{default:l(()=>e[4]||(e[4]=[_("复制")])),_:1})]),_:1})]),_:1},8,["data"])),[[V,m.value]])])]),r("div",fe,[r("div",null,[e[6]||(e[6]=r("span",{style:{position:"absolute","font-size":"20px","margin-top":"-20px",color:"blue"}}," --------需点击右侧搜索按钮--------- ",-1)),t(p,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=f=>v.value=f),placeholder:z(N),clearable:"",style:{"background-color":"yellow","font-size":"16px","margin-top":"30px"},onInput:F},{append:l(()=>[t(n,{type:"primary",onClick:q},{default:l(()=>[t(g,null,{default:l(()=>[t(z(le))]),_:1})]),_:1})]),_:1},8,["modelValue","placeholder"]),C.value?P((x(),B(i,{key:0,data:a.filteredItems,stripe:"",onRowClick:w,style:{"font-size":"19px"},"cell-style":{cursor:"Pointer"}},{default:l(()=>[t(c,{prop:"barrage",label:"弹幕"}),t(c,{label:"",align:"center",width:"85"},{default:l(()=>[t(n,{type:"primary"},{default:l(()=>e[5]||(e[5]=[_("复制")])),_:1})]),_:1})]),_:1},8,["data"])),[[V,m.value]]):se("",!0)])]),r("div",be,[r("div",null,[t(L,{model:a,"label-width":"100px",rules:M,"label-position":"right"},{default:l(()=>[t(k,{label:"分栏","label-width":o.auto,prop:"table"},{default:l(()=>[t(H,{modelValue:a.table,"onUpdate:modelValue":e[1]||(e[1]=f=>a.table=f),placeholder:"选择上传的分栏"},{default:l(()=>[t(s,{label:"喷玩机器篇",value:"machine_penWJQ"}),t(s,{label:"木柜子篇",value:"machine_mygo"}),t(s,{label:"直播间互喷篇",value:"machine_ZbjHuPen"}),t(s,{label:"喷选手篇",value:"machine_penPlayer"}),t(s,{label:"+1",value:"machine_p1"}),t(s,{label:"群魔乱舞篇",value:"machine_QMLW"}),t(s,{label:"QUQU",value:"machine_QUQU"})]),_:1},8,["modelValue"])]),_:1},8,["label-width"]),t(k,{label:"烂梗内容",prop:"barrage"},{default:l(()=>[t(p,{maxlength:"255",modelValue:a.barrage,"onUpdate:modelValue":e[2]||(e[2]=f=>a.barrage=f),autocomplete:"off",autosize:{minRows:1,maxRows:4},"show-word-limit":"",type:"textarea"},null,8,["modelValue"])]),_:1}),t(n,{type:"primary",onClick:R,style:{"font-size":"20px"}},{default:l(()=>e[7]||(e[7]=[_(" 投稿 ")])),_:1})]),_:1},8,["model"])]),t(W,{right:50,bottom:50})]),e[9]||(e[9]=r("div",{class:"card",style:{"line-height":"30px","margin-top":"10px","z-index":"300"}},[_(" 友情链接 "),r("a",{href:"https://dgq63136.icu",target:"_blank"},"dgq63136.icu")],-1))])],64)}}},Ue=Q(_e,[["__scopeId","data-v-784f54d2"]]);export{Ue as default};
