import{y as E,f as M,B as P,C as w}from"./element-plus.DX6Kv4BD.js";import{h as L,_ as S}from"./index.DX7JLqie.js";import{b}from"./vue-router.PTNpl1pN.js";import{d as V,b as r,f as D,o as a,c as i,P as v,G as l,O as H,a4 as I,a as s,M as n,H as c,L as m,K as F}from"./@vue.BqJqC78G.js";import"./lodash-es.C-zDejYo.js";import"./@vueuse.C-35htfh.js";import"./@element-plus.Du5FBV_q.js";import"./@popperjs.D9SI2xQl.js";import"./@ctrl.r5W6hzzQ.js";import"./dayjs.D6RD0Zoz.js";import"./async-validator.DKvM95Vc.js";import"./memoize-one.BdPwpGay.js";import"./normalize-wheel-es.B6fDCfyv.js";import"./@floating-ui.8uccrNCM.js";import"./axios.CCb-kr4I.js";import"./js-cookie.Cz0CWeBA.js";import"./mitt.DJ65BbbF.js";const G={class:"message-container"},K={key:1,class:"msg-list"},O={class:"item-header"},R={class:"nickname"},j={class:"time"},q={class:"item-type"},A={class:"item-content"},J={class:"pagination"},Q=V({__name:"Post-Message",setup(U){const k=b(),g=r([]),u=r(1),_=r(10),y=r(0),d=r(!1),f=async()=>{d.value=!0;try{const e=(await L.get("/machine/SysMessage/getLikeMsgList",{params:{pageNum:u.value,pageSize:_.value}})).data;g.value=e.list,y.value=e.total||0}catch(o){console.error("消息获取失败",o)}finally{d.value=!1}},h=()=>{k.back()},z=o=>{u.value=o,f()},C=o=>new Date(o).toLocaleString();return D(()=>{f()}),(o,e)=>{const T=E,x=w,p=M,B=P;return a(),i("div",G,[v(T,{onBack:h,class:"card",content:"我的消息"}),!d.value&&g.value.length===0?(a(),l(x,{key:0,description:"暂无消息"})):(a(),i("div",K,[(a(!0),i(H,null,I(g.value,(t,N)=>(a(),i("div",{key:N,class:"card message-item"},[s("div",O,[s("span",R,"👤 "+n(t.fromNickname),1),s("span",j,"🕒 "+n(C(t.createTime)),1)]),s("div",q,[t.type==="like"?(a(),l(p,{key:0,size:"small",type:"success"},{default:c(()=>[e[0]||(e[0]=m(" 点赞了你的")),s("strong",null,n(t.targetType==="post"?"帖子":"评论"),1)]),_:2},1024)):t.type==="comment_post"?(a(),l(p,{key:1,size:"small",type:"info"},{default:c(()=>[e[1]||(e[1]=m(" 评论了你的")),s("strong",null,n(t.targetType==="post"?"评论":"帖子"),1)]),_:2},1024)):t.type==="reply_comment"?(a(),l(p,{key:2,size:"small",type:"warning"},{default:c(()=>[e[2]||(e[2]=m(" 回复了你的")),s("strong",null,n(t.targetType==="post"?"帖子":"评论"),1)]),_:2},1024)):t.type==="expression"?(a(),l(p,{key:3,size:"small",type:"warning"},{default:c(()=>[e[3]||(e[3]=m(" 表态了你的")),s("strong",null,n(t.targetType==="post"?"帖子":"评论"),1)]),_:2},1024)):F("",!0)]),s("div",A," 「"+n(t.targetContent)+"」 ",1)]))),128))])),s("div",J,[v(B,{background:"",layout:"prev, pager, next","current-page":u.value,"page-size":_.value,total:y.value,onCurrentChange:z},null,8,["current-page","page-size","total"])])])}}}),ge=S(Q,[["__scopeId","data-v-673c3e76"]]);export{ge as default};
