const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/wordCloud.Bkx-YyjG.js","assets/js/echarts.D13McHMB.js","assets/js/zrender.B_NAtvFA.js","assets/js/tslib.BDyQ-Jie.js","assets/js/echarts-wordcloud.tk4DMxWl.js","assets/js/index.Dd8w30E2.js","assets/js/@vue.BltuATdo.js","assets/js/pinia.DfSVr1RC.js","assets/js/js-cookie.Cz0CWeBA.js","assets/js/axios.ngrFHoWO.js","assets/js/element-plus.EaivrhJr.js","assets/js/lodash-es.CDeyng3v.js","assets/js/@vueuse.BO4JNAXw.js","assets/js/@element-plus.Crrtn2q8.js","assets/js/@popperjs.D_chPuIy.js","assets/js/@ctrl.r5W6hzzQ.js","assets/js/dayjs.BKG3DVjA.js","assets/js/async-validator.9PlIezaS.js","assets/js/memoize-one.BdPwpGay.js","assets/js/normalize-wheel-es.BQoi3Ox2.js","assets/js/@floating-ui.D0iZPv2f.js","assets/js/vue-router.BFvkXMb7.js","assets/css/index.Dsyo_1_-.css","assets/css/wordCloud.qpx4COKE.css"])))=>i.map(i=>d[i]);
import{_ as R,A as W,C as K,h as L,b as Y,c as J}from"./index.Dd8w30E2.js";import{R as Q,F as D,T as G}from"./@element-plus.Crrtn2q8.js";import{u as A,g as V,e as N,c as X,d as Z}from"./time.KAovtsUP.js";import{d as S,h as g,al as $,c as p,o as m,a as s,R as t,E as P,J as i,P as b,L as M,u as v,Q as z,a6 as F,O as c,W as ss,aU as es,l as ts,f as os,I as as,aV as ls,aI as ns}from"./@vue.BltuATdo.js";import{f as is,t as rs,u as ds}from"./flip-num.BHO9WsBr.js";import{c as cs,p as U}from"./setMeme.C9rr7IIT.js";import{c as us,l as ms,a as H}from"./clipboard.DSHXiNO6.js";import{R as E}from"./vue-router.BFvkXMb7.js";import{c as ps,d as fs,b as C}from"./element-plus.EaivrhJr.js";import{t as vs}from"./tag-selector.cj7lVUfj.js";import"./pinia.DfSVr1RC.js";import"./js-cookie.Cz0CWeBA.js";import"./axios.ngrFHoWO.js";import"./lodash-es.CDeyng3v.js";import"./@vueuse.BO4JNAXw.js";import"./@popperjs.D_chPuIy.js";import"./@ctrl.r5W6hzzQ.js";import"./dayjs.BKG3DVjA.js";import"./async-validator.9PlIezaS.js";import"./memoize-one.BdPwpGay.js";import"./normalize-wheel-es.BQoi3Ox2.js";import"./@floating-ui.D0iZPv2f.js";const _s={class:"random-meme"},gs={class:"random-barrage-header"},bs={class:"refresh-controls"},hs={class:"barrage-main-content"},ys={class:"barrage-text-wrapper"},ks={class:"barrage-text"},$s={class:"barrage-meta-info"},Cs={key:0,class:"tags-container"},Ts=["src"],ws={class:"tag-label"},xs={class:"submit-time"},Es={class:"meme-id"},Ms={class:"copy-count"},Rs={key:1,class:"no-data"},Is=S({__name:"random-meme",setup(I){const k=A(),u=g([]);k.tagsLoaded.then(()=>{u.value=k.memeTags});const d=g(),a=g(!1),r=g(!1);async function h(){const{_failure:_,flatData:l}=await X();return _||!l?(console.error("获取随机烂梗失败"),!1):(d.value=l,!0)}h();const T=async()=>{if(a.value)return;if(r.value=!0,a.value=!0,!await h()){console.error("获取随机烂梗失败"),a.value=!1;return}a.value=!1,setTimeout(()=>{r.value=!1},600)},y=rs(H,ms,2e3);async function o(_){const l=y(_.barrage);if(!(!l||l==="limitedSuccess")){us();try{await cs("",_.id)?d.value.cnt=`${+d.value.cnt+1}`:U()}catch(n){console.error("更新复制计数失败:",n),U()}}}return(_,l)=>{const n=$("Refresh"),e=$("el-icon");return m(),p("div",_s,[s("div",gs,[l[2]||(l[2]=s("div",{class:"random-barrage-title"},[s("div",{class:"title"},"随机一条烂梗"),s("span",{class:"tips"},"(直接点击也能复制)")],-1)),s("div",bs,[s("span",{class:"refresh-text",onClick:T},"换一换"),t(e,{class:P(["refresh-icon",{rotating:r.value}]),onClick:T,size:"18"},{default:i(()=>[t(n)]),_:1},8,["class"])])]),d.value?(m(),p("div",{key:0,class:"modern-barrage-card",onClick:l[1]||(l[1]=f=>o(d.value))},[s("div",hs,[s("div",ys,[s("span",ks,b(d.value.barrage),1)]),s("div",$s,[v(V)(d.value.tags,u.value).length>0?(m(),p("div",Cs,[(m(!0),p(z,null,F(v(V)(d.value.tags,u.value),(f,x)=>(m(),p("div",{key:x,class:"modern-tag"},[f.iconUrl?(m(),p("img",{key:0,src:f.iconUrl,class:"tag-icon"},null,8,Ts)):M("",!0),s("span",ws,b(f.label),1)]))),128))])):M("",!0),s("div",xs,[s("span",Es,"#"+b(d.value.id),1),c(" "+b(v(N)(d.value.submitTime)),1)])])]),s("div",{class:"modern-copy-button",onClick:l[0]||(l[0]=ss(f=>o(d.value),["stop"]))},[l[3]||(l[3]=s("div",{class:"copy-text"},"复制",-1)),l[4]||(l[4]=s("div",{class:"copy-icon"},"📋",-1)),s("div",Ms,[t(is,{num:d.value.cnt||0},null,8,["num"])]),l[5]||(l[5]=s("div",{class:"copy-ripple"},null,-1))])])):(m(),p("div",Rs,"暂无烂梗数据"))])}}}),Vs=R(Is,[["__scopeId","data-v-0865b66a"]]),As={class:"sub-info"},Ss=S({__name:"homeIntro",setup(I){return(k,u)=>(m(),p("div",null,[u[1]||(u[1]=es('<p class="announcement" data-v-51747f3a><b data-v-51747f3a>这是一个收集6657烂梗的网站：</b><span class="web-url" data-v-51747f3a><a href="https://sb6657.cn" data-v-51747f3a>sb6657.cn</a></span> 尽情欣赏你们的烂梗吧。 </p><p class="sub-info" data-v-51747f3a><b data-v-51747f3a> 油猴插件(已支持斗鱼新UI) <a href="https://cdn.hguofichp.cn/sb6657.cn%E6%96%97%E9%B1%BC%E7%8E%A9%E6%9C%BA%E5%99%A8%E7%83%82%E6%A2%97%E6%94%B6%E9%9B%86.user.js" target="_blank" data-v-51747f3a>点击下载</a> 可在斗鱼直播间一键发送烂梗 </b></p><p class="sub-info" data-v-51747f3a>开放注册功能，可能会出现收不到邮件的情况。</p><p class="sub-info" data-v-51747f3a>目前已支持玩机器直播间开播提醒</p><p class="sub-info" data-v-51747f3a>目前已优化Ai造梗功能，响应时间大幅提升</p>',5)),s("p",As,[t(v(E),{to:"/update"},{default:i(()=>[...u[0]||(u[0]=[c("网站更新日志",-1)])]),_:1})])]))}}),Bs=R(Ss,[["__scopeId","data-v-51747f3a"]]),Ls={class:"did-you-know"},Ds={class:"knowledge-list"},Us={class:"latest-meme"},Ns={class:"line-top"},Ps={class:"total"},zs={class:"total-count"},Fs={class:"submit-time"},Hs={class:"line-bottom"},Os={class:"tooltip-content"},js={key:0,class:"tags-container"},qs=["src"],Ws={class:"tag-label"},Ks={class:"copy-count"},Ys=S({__name:"didYouKnow",setup(I){const k=ds(),u=A(),d=g([]);u.tagsLoaded.then(()=>{d.value=u.memeTags});const a=ts({time:"",meme:"",tags:[{label:"",iconUrl:""}],copy:0,total:0});async function r(){const y=await Z("allbarrage",1,1);y&&(a.time=N(y.memeArr[0].submitTime),a.meme=y.memeArr[0].content,a.tags=V(y.memeArr[0].tags,d.value),a.copy=y.memeArr[0].copyCount,a.total=y.total)}r();const h=g(!1);function T(){a.meme&&(H(a.meme),C({message:"复制成功",type:"success"}),h.value=!0,setTimeout(()=>{h.value=!1},1200))}return(y,o)=>(m(),p("div",Ls,[o[10]||(o[10]=s("h3",null,"🤔 你知道吗？",-1)),s("ul",Ds,[s("li",null,[o[1]||(o[1]=c(" 谁目前打出了对位donk最多的击杀? 谁又是对位donk最大的受害者? ",-1)),t(v(E),{to:"/15warriorsDonk"},{default:i(()=>[...o[0]||(o[0]=[c("- 布雷德15勇士",-1)])]),_:1})]),s("li",null,[o[3]||(o[3]=c(" 哪只队伍捕虾最专业? 谁是最佳捕虾人? 又是谁在捕虾过程中惨遭反夹? ",-1)),t(v(E),{to:"/dejaVuNiko"},{default:i(()=>[...o[2]||(o[2]=[c("- 超级逮虾户战报",-1)])]),_:1})]),s("li",null,[o[5]||(o[5]=c(" 一年一度的sb6657野榜top20烂梗在这里",-1)),t(v(E),{to:"/memeTop20"},{default:i(()=>[...o[4]||(o[4]=[c("- 年度TOP20烂梗",-1)])]),_:1})]),t(v(ps)),s("li",Us,[s("div",Ns,[s("span",Ps,[o[6]||(o[6]=c(" 共有 ",-1)),s("span",zs,b(a.total),1),o[7]||(o[7]=c(" 条烂梗 ",-1))]),s("span",Fs,"最后投稿时间："+b(a.time),1)]),s("div",Hs,[o[8]||(o[8]=s("span",{class:"label"},"最新投稿烂梗：",-1)),o[9]||(o[9]=s("span",{class:"copy-hint"},"(点击可复制)",-1)),t(v(fs),{trigger:v(k)?"click":"hover",placement:"top",effect:"light"},{content:i(()=>[s("div",Os,[a.tags&&a.tags.length?(m(),p("div",js,[(m(!0),p(z,null,F(a.tags,(_,l)=>(m(),p("div",{key:l,class:"modern-tag"},[_.iconUrl?(m(),p("img",{key:0,src:_.iconUrl,class:"tag-icon"},null,8,qs)):M("",!0),s("span",Ws,b(_.label),1)]))),128))])):M("",!0),s("div",Ks,"复制次数："+b(a.copy),1)])]),default:i(()=>[s("span",{class:P(["meme-text",{clicked:h.value}]),onClick:T},b(a.meme),3)]),_:1},8,["trigger"])])])])]))}}),Js=R(Ys,[["__scopeId","data-v-fbdcd59a"]]),Qs={class:"home"},Gs={class:"cards-container"},Xs={class:"card first-card"},Zs={class:"card second-card"},se={class:"card third-card"},ee={class:"card fifth-card"},te={class:"match-association-container"},oe={class:"match-section-home"},ae={key:0,class:"match-details-box-home"},le={class:"match-info-row-home"},ne=["src","alt"],ie={class:"match-name-home"},re={class:"match-time-home"},de={key:1,class:"no-match-info-home"},ce={class:"wordCloudDiv"},ue={class:"word-cloud-title"},me={__name:"Home",setup(I){const k=A();k.tagsLoaded.then(()=>{d.value=k.memeTags});const u=g(""),d=g([]),a=g([]),r=g(null),h=g(!1);function T(){L.get("/machine/InProgressMatch").then(n=>{n.code===200&&n.data?r.value=n.data:r.value=null,console.log("Fetched match data:",r.value)}).catch(n=>{console.error("Failed to fetch in progress match:",n),r.value=null})}os(()=>{T()});const y=()=>{const n=a.value.map(e=>e.dictValue);if(n.length===0||!u.value)C.error("请选择标签或输入弹幕");else{if(n.length>5){C.error("最少一个标签，最多五个标签。");return}const e={tags:n.join(","),barrage:u.value};h.value&&r.value&&(e.matchId=r.value.id),L.post(J.SUBMIT_MEME,e).then(f=>{u.value="",h.value=!1,f.code===200?C.success("投稿成功，待审核(一天内)"):f.code===500?C.error("烂梗已经有了，勿重复提交"):C.error("请求失败")}).catch(f=>{console.error("投稿失败",f),C.error("请求失败")})}},o=g(null),_=ls(()=>Y(()=>import("./wordCloud.Bkx-YyjG.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23])));function l(){var n,e;(e=(n=o.value)==null?void 0:n.getData)==null||e.call(n)}return(n,e)=>{const f=$("el-icon"),x=$("el-popover"),B=$("el-button"),O=$("el-input"),j=$("el-checkbox"),q=$("el-backtop");return m(),p("div",Qs,[e[15]||(e[15]=s("div",{class:"boom"},[s("img",{src:"https://sb6657oss.wishao.fun/6657boom.webp",alt:"6657boom",class:"boom6657"})],-1)),t(W,{class:"AnnualHotList"}),s("div",Gs,[s("div",Xs,[t(Bs)]),s("div",Zs,[t(Js)])]),s("div",se,[t(Vs)]),s("div",ee,[s("div",null,[s("span",null,[e[10]||(e[10]=c(" 可选标签 ",-1)),t(x,{width:300},{reference:i(()=>[t(f,{size:"16"},{default:i(()=>[t(v(Q))]),_:1})]),default:i(()=>[e[4]||(e[4]=c(" 为解决烂梗分栏不足和分类不清晰问题。 ",-1)),e[5]||(e[5]=s("br",null,null,-1)),e[6]||(e[6]=s("b",null,"点击标签即可添加",-1))]),_:1}),t(B,{link:"",type:"success",class:"submit-tag-button"},{default:i(()=>[e[9]||(e[9]=c(" 投稿标签 ",-1)),t(x,{width:300},{reference:i(()=>[t(f,{size:"16"},{default:i(()=>[t(v(D))]),_:1})]),default:i(()=>[e[7]||(e[7]=s("b",null,"请在上方(建议/提交)问卷投稿。",-1)),e[8]||(e[8]=s("br",null,null,-1))]),_:1})]),_:1})]),t(vs,{selectedTags:a.value,"onUpdate:selectedTags":e[0]||(e[0]=w=>a.value=w),tags:d.value},null,8,["selectedTags","tags"]),t(O,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=w=>u.value=w),maxlength:"255",autocomplete:"off",autosize:{minRows:2,maxRows:4},"show-word-limit":"",type:"textarea",placeholder:"输入你要投稿的烂梗...."},null,8,["modelValue"]),s("div",te,[s("div",oe,[t(j,{modelValue:h.value,"onUpdate:modelValue":e[2]||(e[2]=w=>h.value=w),disabled:!r.value,class:"match-checkbox-home"},{default:i(()=>[e[11]||(e[11]=c(" 关联赛事库 ",-1)),t(f,{color:"#3db302ff",size:"16"},{default:i(()=>[t(v(D))]),_:1})]),_:1},8,["modelValue","disabled"]),r.value?(m(),p("div",ae,[s("div",le,[s("img",{src:r.value.matchesImg,class:"match-image-home",alt:r.value.matchesName},null,8,ne),s("span",ie,b(r.value.matchesName),1)]),s("div",re,b(r.value.startTime)+" 至 "+b(r.value.endTime),1)])):(m(),p("div",de,"当前无正在进行的大型赛事")),t(B,{class:"saveBnt",type:"primary",onClick:y},{default:i(()=>[...e[12]||(e[12]=[c("投稿",-1)])]),_:1})])])]),t(q,{right:50,bottom:50})]),t(K,{class:"ChatRoom card"}),e[16]||(e[16]=s("div",{class:"card sixth-card"},[c(" 友情链接 "),s("a",{href:"https://dgq63136.cn",target:"_blank"},"dgq63136.cn"),c("     "),s("a",{href:"https://sb6657.cn/#/Starrysky",target:"_blank"},"星空背景")],-1)),s("div",ce,[s("span",ue,[e[13]||(e[13]=c(" 搜索词云 ",-1)),t(f,{size:"20",class:"word-cloud-refresh-icon",onClick:e[3]||(e[3]=w=>l())},{default:i(()=>[t(v(G))]),_:1})]),(m(),as(ns,null,{default:i(()=>[t(v(_),{ref_key:"wordCloudRef",ref:o},null,512)]),fallback:i(()=>[...e[14]||(e[14]=[s("div",{class:"word-cloud-loading"},"词云加载中...",-1)])]),_:1}))])])}}},Le=R(me,[["__scopeId","data-v-41b7ae46"]]);export{Le as default};
