import{v as ge,c as re,a as H,M as pe,e as fe,N as _e,n as be,L as Te}from"./element-plus.BPmODNcd.js";import{d as K,r as m,w as se,c as f,o as p,a as s,Q as C,u as D,I as _,D as M,O as w,P as ie,a6 as le,V as R,n as ve,k as X,i as oe,J as ke,M as Z,K as P,W as he,H as ye,S as we}from"./@vue.Ca5AQEsS.js";import{d as B}from"./vuedraggable.DT4yJUdD.js";import{_ as Y,h as ee,u as Ce}from"./index.Ckp2b3ee.js";import{u as $e}from"./vue-router.DhOS9MZH.js";import{R as Ve,v as Pe}from"./@element-plus.De7neK-R.js";import{h as Ie}from"./html2canvas.BfYXEYrK.js";import{S as Me,P as Se,W as Le,A as qe,O as De,a as Ee,D as ue,b as xe,c as Be,R as ze,G as Ae,M as Re,B as We,V as me}from"./three.BX7nTO8R.js";import"./lodash-es.S0Y0Up6J.js";import"./@vueuse.BFkoDYlQ.js";import"./@popperjs.D_chPuIy.js";import"./@ctrl.r5W6hzzQ.js";import"./dayjs.DcnvBwdO.js";import"./async-validator.9PlIezaS.js";import"./memoize-one.BdPwpGay.js";import"./normalize-wheel-es.BQoi3Ox2.js";import"./@floating-ui.58V2siOx.js";import"./vue.CP_DfUbm.js";import"./sortablejs.YiSzADr_.js";import"./pinia.Dz8zdBJG.js";import"./axios.xsH4HHeE.js";import"./js-cookie.Cz0CWeBA.js";const Ue={class:"major-predict-root"},Fe={class:"team-pool"},je=["src","alt"],Ne={class:"team-name"},He={class:"predict-area"},Oe={class:"predict-row"},Ge={class:"predict-block"},Ke={class:"predict-label"},Ze=["src","alt"],Je={class:"team-name"},Qe=["onClick","disabled"],Ye={class:"predict-block"},Xe={class:"predict-label"},es=["src","alt"],ss={class:"team-name"},ts=["onClick","disabled"],as={class:"predict-row advance-row"},os={class:"advance-label"},is=["src","alt"],ls={class:"team-name"},ns=["onClick","disabled"],ds=K({name:"MatchPredictionBase"}),rs=K({...ds,props:{teams:{},firstLabel:{},secondLabel:{},advanceLabel:{},maxAdvance:{},isTimeValid:{type:Boolean}},setup(W,{expose:N}){const b=W,z={name:"teams"},r=m([]),c=m([]),d=m([]),v=m([]);se(()=>b.teams,a=>{r.value=[...a]},{immediate:!0});function V(a){const o=a.draggedContext.element;return a.from&&!a.from.classList.contains("team-list")&&a.to.classList.contains("predict-slot")?!0:!(S(o.id)||c.value.length>=2)}function T(a){const o=a.draggedContext.element;return a.from&&!a.from.classList.contains("team-list")&&a.to.classList.contains("predict-slot")?!0:!(S(o.id)||d.value.length>=2)}function k(a){const o=a.draggedContext.element;return!I(a.from)&&a.to.classList.contains("predict-slot")?!0:!S(o.id)}function I(a){return a&&a.classList&&a.classList.contains("team-list")}function S(a){return c.value.some(o=>o.id===a)||d.value.some(o=>o.id===a)||v.value.some(o=>o.id===a)}function L(a){if(a.added){const o=a.added.element,i=a.added.newIndex??0;if(a.from&&!a.from.classList.contains("team-list")){const n=c.value[i];n&&(c.value.splice(i,1),c.value.splice(i,0,o),r.value.some(g=>g.id===n.id)||r.value.push(n))}else if(c.value.length>=2){const n=c.value[i];n&&(c.value.splice(i,1),c.value.splice(i,0,o),r.value.some(g=>g.id===n.id)||r.value.push(n))}else c.value.splice(i,0,o);c.value.length>2&&c.value.splice(2).forEach(g=>{r.value.some($=>$.id===g.id)||r.value.push(g)}),d.value=d.value.filter(n=>n.id!==o.id),v.value=v.value.filter(n=>n.id!==o.id)}u()}function x(a){if(a.added){const o=a.added.element,i=a.added.newIndex??0;if(a.from&&!a.from.classList.contains("team-list")){const n=d.value[i];n&&(d.value.splice(i,1),d.value.splice(i,0,o),r.value.some(g=>g.id===n.id)||r.value.push(n))}else if(d.value.length>=2){const n=d.value[i];n&&(d.value.splice(i,1),d.value.splice(i,0,o),r.value.some(g=>g.id===n.id)||r.value.push(n))}else d.value.splice(i,0,o);d.value.length>2&&d.value.splice(2).forEach(g=>{r.value.some($=>$.id===g.id)||r.value.push(g)}),c.value=c.value.filter(n=>n.id!==o.id),v.value=v.value.filter(n=>n.id!==o.id)}u()}function A(a){if(a.added){const o=a.added.element;if(!a.from.classList.contains("team-list")&&a.added.newIndex!==void 0){const i=v.value[a.added.newIndex];i&&(v.value.splice(a.added.newIndex,1),v.value.splice(a.added.newIndex,0,o),r.value.some(n=>n.id===i.id)||r.value.push(i))}else if(v.value.length>b.maxAdvance){const i=a.added.newIndex??0,n=v.value[i];n&&(v.value.splice(i,1),v.value.splice(i,0,o),r.value.some(g=>g.id===n.id)||r.value.push(n))}c.value=c.value.filter(i=>i.id!==o.id),d.value=d.value.filter(i=>i.id!==o.id)}u()}function E(a,o){let i;a==="first"?i=c.value.splice(o,1):i=d.value.splice(o,1),r.value.push(...i),u()}function U(a){const o=v.value.splice(a,1);r.value.push(...o),u()}function u(){ve(()=>{const a=[...c.value.map(o=>o.id),...d.value.map(o=>o.id),...v.value.map(o=>o.id)];r.value=r.value.filter(o=>!a.includes(o.id))})}return N({firstTeam:c,secondTeam:d,advanceTeams:v}),(a,o)=>(p(),f("div",Ue,[s("div",Fe,[C(D(B),{list:r.value,group:z,sort:!1,"item-key":"id",class:"team-list","ghost-class":"ghost",disabled:!a.isTimeValid},{item:_(({element:i})=>[(p(),f("div",{class:M(["team-card",{disabled:!a.isTimeValid}]),key:i.id},[s("img",{src:i.logo,alt:i.name,class:"team-logo"},null,8,je),s("div",Ne,w(i.name),1)],2))]),_:1},8,["list","disabled"])]),s("div",He,[s("div",Oe,[s("div",Ge,[s("div",Ke,w(a.firstLabel),1),C(D(B),{list:c.value,group:z,sort:!1,"item-key":"id",class:"predict-slot big","ghost-class":"ghost",move:V,onChange:L,disabled:!a.isTimeValid},{item:_(({element:i,index:n})=>[(p(),f("div",{class:M(["team-card selected big",{disabled:!a.isTimeValid}]),key:i.id},[s("img",{src:i.logo,alt:i.name,class:"team-logo big"},null,8,Ze),s("div",Je,w(i.name),1),s("button",{class:"remove-btn",onClick:R(g=>E("first",n),["stop"]),disabled:!a.isTimeValid},"×",8,Qe)],2))]),footer:_(()=>[(p(!0),f(ie,null,le(Math.max(0,2-c.value.length),i=>(p(),f("div",{key:i,class:"empty-slot big"},"?"))),128))]),_:1},8,["list","disabled"])]),s("div",Ye,[s("div",Xe,w(a.secondLabel),1),C(D(B),{list:d.value,group:z,sort:!1,"item-key":"id",class:"predict-slot big","ghost-class":"ghost",move:T,onChange:x,disabled:!a.isTimeValid},{item:_(({element:i,index:n})=>[(p(),f("div",{class:M(["team-card selected big",{disabled:!a.isTimeValid}]),key:i.id},[s("img",{src:i.logo,alt:i.name,class:"team-logo big"},null,8,es),s("div",ss,w(i.name),1),s("button",{class:"remove-btn",onClick:R(g=>E("second",n),["stop"]),disabled:!a.isTimeValid},"×",8,ts)],2))]),footer:_(()=>[(p(!0),f(ie,null,le(Math.max(0,2-d.value.length),i=>(p(),f("div",{key:i,class:"empty-slot big"},"?"))),128))]),_:1},8,["list","disabled"])])]),s("div",as,[s("div",os,w(a.advanceLabel),1),C(D(B),{list:v.value,group:z,sort:!0,"item-key":"id",class:"predict-slot multi big","ghost-class":"ghost",move:k,onChange:A,disabled:!a.isTimeValid},{item:_(({element:i,index:n})=>[(p(),f("div",{class:M(["team-card selected big",{disabled:!a.isTimeValid}]),key:i.id},[s("img",{src:i.logo,alt:i.name,class:"team-logo big"},null,8,is),s("div",ls,w(i.name),1),s("button",{class:"remove-btn",onClick:R(g=>U(n),["stop"]),disabled:!a.isTimeValid},"×",8,ns)],2))]),footer:_(()=>[(p(!0),f(ie,null,le(Math.max(0,a.maxAdvance-v.value.length),i=>(p(),f("div",{key:i,class:"empty-slot big"},"?"))),128))]),_:1},8,["list","disabled"])])])]))}}),cs=Y(rs,[["__scopeId","data-v-951e29ba"]]),ne={getMatchTeams(W,N){return ee.get(`/machine/matches/${W}/teams`,{params:{phase:N}})},submitPrediction(W){return ee.post("/machine/prediction/submit",W)},getUserPredictions(W){return ee.get("/machine/prediction/records",{params:{matchId:W.matchId,phase:W.phase}})}},us={class:"major-phase","element-loading-text":"加载队伍数据中..."},ms={class:"title"},vs={class:"save-button"},hs=K({name:"MajorPhase"}),gs=K({...hs,props:{isTimeValid:{type:Boolean},matchId:{},phase:{}},setup(W,{expose:N}){const b=W,z=X(()=>({onePhase:"第一阶段",twoPhase:"第二阶段",threePhase:"第三阶段"})[b.phase]),r=Ce(),c=m(),d=m([]),v=m([]),V=m([]),T=m([]),k=m(!1),I=m(!1),L=((u,a)=>{let o=null;return function(...i){o&&clearTimeout(o),o=setTimeout(()=>{u.apply(this,i),o=null},a)}})(()=>{b.isTimeValid&&(console.log("触发防抖保存..."),U())},300);se(c,u=>{u&&se([()=>u.firstTeam,()=>u.secondTeam,()=>u.advanceTeams],([a,o,i])=>{d.value=[...a],v.value=[...o],V.value=[...i],!k.value&&!I.value&&b.isTimeValid&&L()},{deep:!0})},{immediate:!0});const x=async()=>{try{k.value=!0,console.log(`获取${z.value}队伍数据，matchId:`,b.matchId);const u=await ne.getMatchTeams(b.matchId,b.phase);console.log("获取到的原始数据:",u.data),T.value=u.data.map(a=>({id:a.id,name:a.teamName,logo:a.teamImgUrl})),console.log("处理后的队伍数据:",T.value)}catch(u){console.error("获取队伍数据失败:",u),H.error("获取队伍数据失败")}finally{k.value=!1}},A=async()=>{var u;if(!b.matchId){console.warn("matchId未设置，跳过获取预测数据");return}try{I.value=!0,k.value=!0,T.value.length===0&&await x();const a=await ne.getUserPredictions({matchId:b.matchId,phase:b.phase,userId:r.userId});if(a.data){let o=Array.isArray(a.data)?a.data[0]:a.data;const i=new Set;if(o.sl){const n=o.sl.split(","),g=T.value.filter($=>n.includes($.id.toString()));d.value=g,g.forEach($=>i.add($.id.toString()))}if(o.ls){const n=o.ls.split(","),g=T.value.filter($=>n.includes($.id.toString()));v.value=g,g.forEach($=>i.add($.id.toString()))}if(o.advance){const n=o.advance.split(","),g=T.value.filter($=>n.includes($.id.toString()));V.value=g,g.forEach($=>i.add($.id.toString()))}T.value=T.value.filter(n=>!i.has(n.id.toString())),c.value&&(c.value.firstTeam=[...d.value],c.value.secondTeam=[...v.value],c.value.advanceTeams=[...V.value])}else console.log("未找到用户之前的预测数据")}catch(a){if(((u=a.response)==null?void 0:u.status)===401){console.log("用户未登录，跳过获取预测数据");return}console.error("获取预测数据失败:",a),H.error("获取预测数据失败")}finally{k.value=!1,setTimeout(()=>{I.value=!1},100)}},E=()=>{const u=[];return d.value.length!==2&&u.push("请选择2支3-0队伍"),v.value.length!==2&&u.push("请选择2支0-3队伍"),V.value.length!==6&&u.push("请选择6支晋级队伍"),u},U=async()=>{var a;const u=E();u.length>0&&H.warning(u.join(`
`));try{const o={matchId:b.matchId,phase:b.phase,s_l:d.value.map(n=>n.id.toString()).join(","),l_s:v.value.map(n=>n.id.toString()).join(","),advance:V.value.map(n=>n.id)},i=await ne.submitPrediction(o);H.success("预测数据保存成功")}catch(o){if(((a=o.response)==null?void 0:a.status)===401){H.warning("请先登录后再进行预测");return}console.error("保存预测数据失败:",o),H.error("保存预测数据失败")}};return oe(async()=>{b.matchId&&(await x(),await A())}),N({getPredictData(){return{firstTeam:d.value,secondTeam:v.value,advanceTeams:V.value}},fetchTeams:x,fetchUserPrediction:A,validateAndSavePrediction:U}),(u,a)=>{const o=re,i=ge;return ke((p(),f("div",us,[s("h2",ms,w(z.value)+"竞猜作业",1),C(cs,{ref_key:"predictRef",ref:c,teams:T.value,"first-label":"3-0","second-label":"0-3","advance-label":"3-2或3-1晋级的6支队伍","max-advance":6,isTimeValid:u.isTimeValid,"onUpdate:firstTeam":a[0]||(a[0]=n=>d.value=n),"onUpdate:secondTeam":a[1]||(a[1]=n=>v.value=n),"onUpdate:advanceTeams":a[2]||(a[2]=n=>V.value=n)},null,8,["teams","isTimeValid"]),s("div",vs,[C(o,{onClick:U,disabled:!u.isTimeValid},{default:_(()=>a[3]||(a[3]=[Z("保存预测")])),_:1,__:[3]},8,["disabled"])])])),[[i,k.value]])}}}),de=Y(gs,[["__scopeId","data-v-7353871b"]]),ps={class:"major-champion"},fs={class:"bracket-container"},_s={class:"bracket-stage"},bs={class:"matches"},Ts={class:"match"},ks=["src","alt"],ys={class:"team-name"},ws=["onClick","disabled"],Cs={key:0,class:"empty-slot"},$s=["src","alt"],Vs={class:"team-name"},Ps=["onClick","disabled"],Is={key:0,class:"empty-slot"},Ms={class:"match"},Ss=["src","alt"],Ls={class:"team-name"},qs=["onClick","disabled"],Ds={key:0,class:"empty-slot"},Es=["src","alt"],xs={class:"team-name"},Bs=["onClick","disabled"],zs={key:0,class:"empty-slot"},As={class:"match"},Rs=["src","alt"],Ws={class:"team-name"},Us=["onClick","disabled"],Fs={key:0,class:"empty-slot"},js=["src","alt"],Ns={class:"team-name"},Hs=["onClick","disabled"],Os={key:0,class:"empty-slot"},Gs={class:"match"},Ks=["src","alt"],Zs={class:"team-name"},Js=["onClick","disabled"],Qs={key:0,class:"empty-slot"},Ys=["src","alt"],Xs={class:"team-name"},et=["onClick","disabled"],st={key:0,class:"empty-slot"},tt={class:"bracket-stage"},at={class:"matches"},ot={class:"match"},it=["src","alt"],lt={class:"team-name"},nt=["onClick","disabled"],dt={key:0,class:"empty-slot"},rt=["src","alt"],ct={class:"team-name"},ut=["onClick","disabled"],mt={key:0,class:"empty-slot"},vt={class:"match"},ht=["src","alt"],gt={class:"team-name"},pt=["onClick","disabled"],ft={key:0,class:"empty-slot"},_t=["src","alt"],bt={class:"team-name"},Tt=["onClick","disabled"],kt={key:0,class:"empty-slot"},yt={class:"bracket-stage"},wt={class:"matches"},Ct={class:"match"},$t=["src","alt"],Vt={class:"team-name"},Pt=["onClick","disabled"],It={key:0,class:"empty-slot"},Mt=["src","alt"],St={class:"team-name"},Lt=["onClick","disabled"],qt={key:0,class:"empty-slot"},Dt={class:"bracket-stage champion-stage"},Et={class:"matches"},xt=["src","alt"],Bt={class:"team-name"},zt=["onClick","disabled"],At={key:0,class:"empty-slot champion-empty"},Rt=K({name:"MajorChampion"}),Wt=K({...Rt,props:{isTimeValid:{type:Boolean}},setup(W,{expose:N}){const b={name:"teams"},z=m(),r=m([]),c=m([]),d=m([]),v=m([]),V=m([]),T=m([]),k=m([]),I=m([]),S=m([]),L=m([]),x=m([]),A=m([]),E=m([]),U=m([]),u=m([]),a=m([]),o=m([]),i=m([]),n=t=>{switch(t){case"quarters1":return v;case"quarters2":return V;case"quarters3":return T;case"quarters4":return k;case"quarters5":return I;case"quarters6":return S;case"quarters7":return L;case"quarters8":return x;case"semis1":return A;case"semis2":return E;case"semis3":return U;case"semis4":return u;case"finals1":return a;case"finals2":return o;case"champion":return i;default:return m([])}},g=t=>{const l=t.from.parentElement.id,e=t.to.parentElement.id;if(!l||!e)return!1;if(l===e)return!0;if(l.startsWith("quarters")&&e.startsWith("semis")){const h=parseInt(l.replace("quarters","")),j=parseInt(e.replace("semis",""));if(Math.ceil(h/2)===j)return!0}if(l.startsWith("semis")&&e.startsWith("finals")){const h=parseInt(l.replace("semis","")),j=parseInt(e.replace("finals",""));if(Math.ceil(h/2)===j)return!0}return!!(l.startsWith("finals")&&e==="champion"||e.startsWith("quarters"))},$=(t,l)=>{const e=n(l);if(t.added){const h=t.added.element;[v,V,T,k,I,S,L,x,A,E,U,u,a,o,i].forEach(F=>{if(F!==e){const G=F.value.findIndex(J=>J.id===h.id);G!==-1&&F.value.splice(G,1)}})}};function q(t,l){const e=n(t),h=e.value.findIndex(j=>j.id===l);h!==-1&&e.value.splice(h,1)}const y=()=>{const t=z.value;t&&(r.value=[...t.firstTeam],c.value=[...t.secondTeam],d.value=[...t.advanceTeams])};return N({getPredictData(){return y(),{firstTeam:r.value,secondTeam:c.value,advanceTeams:d.value}}}),(t,l)=>(p(),f("div",ps,[l[22]||(l[22]=s("h2",{class:"title"},"冠军竞猜",-1)),s("div",fs,[s("div",_s,[l[15]||(l[15]=s("div",{class:"stage-title"},"四分之一决赛",-1)),s("div",bs,[s("div",Ts,[C(D(B),{id:"quarters1",list:v.value,group:b,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:l[0]||(l[0]=e=>$(e,"quarters1")),move:g,max:1,disabled:!t.isTimeValid},{item:_(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!t.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,ks),s("div",ys,w(e.name),1),s("button",{class:"remove-btn",onClick:R(h=>q("quarters1",e.id),["stop"]),disabled:!t.isTimeValid},"×",8,ws)],2)]),footer:_(()=>[v.value.length===0?(p(),f("div",Cs,"待定")):P("",!0)]),_:1},8,["list","disabled"]),C(D(B),{id:"quarters2",list:V.value,group:b,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:l[1]||(l[1]=e=>$(e,"quarters2")),move:g,max:1,disabled:!t.isTimeValid},{item:_(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!t.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,$s),s("div",Vs,w(e.name),1),s("button",{class:"remove-btn",onClick:R(h=>q("quarters2",e.id),["stop"]),disabled:!t.isTimeValid},"×",8,Ps)],2)]),footer:_(()=>[V.value.length===0?(p(),f("div",Is,"待定")):P("",!0)]),_:1},8,["list","disabled"])]),s("div",Ms,[C(D(B),{id:"quarters3",list:T.value,group:b,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:l[2]||(l[2]=e=>$(e,"quarters3")),move:g,max:1,disabled:!t.isTimeValid},{item:_(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!t.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,Ss),s("div",Ls,w(e.name),1),s("button",{class:"remove-btn",onClick:R(h=>q("quarters3",e.id),["stop"]),disabled:!t.isTimeValid},"×",8,qs)],2)]),footer:_(()=>[T.value.length===0?(p(),f("div",Ds,"待定")):P("",!0)]),_:1},8,["list","disabled"]),C(D(B),{id:"quarters4",list:k.value,group:b,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:l[3]||(l[3]=e=>$(e,"quarters4")),move:g,max:1,disabled:!t.isTimeValid},{item:_(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!t.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,Es),s("div",xs,w(e.name),1),s("button",{class:"remove-btn",onClick:R(h=>q("quarters4",e.id),["stop"]),disabled:!t.isTimeValid},"×",8,Bs)],2)]),footer:_(()=>[k.value.length===0?(p(),f("div",zs,"待定")):P("",!0)]),_:1},8,["list","disabled"])]),s("div",As,[C(D(B),{id:"quarters5",list:I.value,group:b,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:l[4]||(l[4]=e=>$(e,"quarters5")),move:g,max:1,disabled:!t.isTimeValid},{item:_(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!t.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,Rs),s("div",Ws,w(e.name),1),s("button",{class:"remove-btn",onClick:R(h=>q("quarters5",e.id),["stop"]),disabled:!t.isTimeValid},"×",8,Us)],2)]),footer:_(()=>[I.value.length===0?(p(),f("div",Fs,"待定")):P("",!0)]),_:1},8,["list","disabled"]),C(D(B),{id:"quarters6",list:S.value,group:b,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:l[5]||(l[5]=e=>$(e,"quarters6")),move:g,max:1,disabled:!t.isTimeValid},{item:_(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!t.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,js),s("div",Ns,w(e.name),1),s("button",{class:"remove-btn",onClick:R(h=>q("quarters6",e.id),["stop"]),disabled:!t.isTimeValid},"×",8,Hs)],2)]),footer:_(()=>[S.value.length===0?(p(),f("div",Os,"待定")):P("",!0)]),_:1},8,["list","disabled"])]),s("div",Gs,[C(D(B),{id:"quarters7",list:L.value,group:b,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:l[6]||(l[6]=e=>$(e,"quarters7")),move:g,max:1,disabled:!t.isTimeValid},{item:_(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!t.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,Ks),s("div",Zs,w(e.name),1),s("button",{class:"remove-btn",onClick:R(h=>q("quarters7",e.id),["stop"]),disabled:!t.isTimeValid},"×",8,Js)],2)]),footer:_(()=>[L.value.length===0?(p(),f("div",Qs,"待定")):P("",!0)]),_:1},8,["list","disabled"]),C(D(B),{id:"quarters8",list:x.value,group:b,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:l[7]||(l[7]=e=>$(e,"quarters8")),move:g,max:1,disabled:!t.isTimeValid},{item:_(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!t.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,Ys),s("div",Xs,w(e.name),1),s("button",{class:"remove-btn",onClick:R(h=>q("quarters8",e.id),["stop"]),disabled:!t.isTimeValid},"×",8,et)],2)]),footer:_(()=>[x.value.length===0?(p(),f("div",st,"待定")):P("",!0)]),_:1},8,["list","disabled"])])])]),l[19]||(l[19]=s("div",{class:"connector-column"},[s("div",{class:"connector-gap"})],-1)),s("div",tt,[l[16]||(l[16]=s("div",{class:"stage-title"},"半决赛",-1)),s("div",at,[s("div",ot,[C(D(B),{id:"semis1",list:A.value,group:b,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:l[8]||(l[8]=e=>$(e,"semis1")),move:g,max:1,disabled:!t.isTimeValid},{item:_(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!t.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,it),s("div",lt,w(e.name),1),s("button",{class:"remove-btn",onClick:R(h=>q("semis1",e.id),["stop"]),disabled:!t.isTimeValid},"×",8,nt)],2)]),footer:_(()=>[A.value.length===0?(p(),f("div",dt,"待定")):P("",!0)]),_:1},8,["list","disabled"]),C(D(B),{id:"semis2",list:E.value,group:b,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:l[9]||(l[9]=e=>$(e,"semis2")),move:g,max:1,disabled:!t.isTimeValid},{item:_(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!t.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,rt),s("div",ct,w(e.name),1),s("button",{class:"remove-btn",onClick:R(h=>q("semis2",e.id),["stop"]),disabled:!t.isTimeValid},"×",8,ut)],2)]),footer:_(()=>[E.value.length===0?(p(),f("div",mt,"待定")):P("",!0)]),_:1},8,["list","disabled"])]),s("div",vt,[C(D(B),{id:"semis3",list:U.value,group:b,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:l[10]||(l[10]=e=>$(e,"semis3")),move:g,max:1,disabled:!t.isTimeValid},{item:_(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!t.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,ht),s("div",gt,w(e.name),1),s("button",{class:"remove-btn",onClick:R(h=>q("semis3",e.id),["stop"]),disabled:!t.isTimeValid},"×",8,pt)],2)]),footer:_(()=>[U.value.length===0?(p(),f("div",ft,"待定")):P("",!0)]),_:1},8,["list","disabled"]),C(D(B),{id:"semis4",list:u.value,group:b,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:l[11]||(l[11]=e=>$(e,"semis4")),move:g,max:1,disabled:!t.isTimeValid},{item:_(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!t.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,_t),s("div",bt,w(e.name),1),s("button",{class:"remove-btn",onClick:R(h=>q("semis4",e.id),["stop"]),disabled:!t.isTimeValid},"×",8,Tt)],2)]),footer:_(()=>[u.value.length===0?(p(),f("div",kt,"待定")):P("",!0)]),_:1},8,["list","disabled"])])])]),l[20]||(l[20]=s("div",{class:"connector-column"},[s("div")],-1)),s("div",yt,[l[17]||(l[17]=s("div",{class:"stage-title"},"总决赛",-1)),s("div",wt,[s("div",Ct,[C(D(B),{id:"finals1",list:a.value,group:b,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:l[12]||(l[12]=e=>$(e,"finals1")),move:g,max:1,disabled:!t.isTimeValid},{item:_(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!t.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,$t),s("div",Vt,w(e.name),1),s("button",{class:"remove-btn",onClick:R(h=>q("finals1",e.id),["stop"]),disabled:!t.isTimeValid},"×",8,Pt)],2)]),footer:_(()=>[a.value.length===0?(p(),f("div",It,"待定")):P("",!0)]),_:1},8,["list","disabled"]),C(D(B),{id:"finals2",list:o.value,group:b,"item-key":"id",class:"slot","ghost-class":"ghost",onChange:l[13]||(l[13]=e=>$(e,"finals2")),move:g,max:1,disabled:!t.isTimeValid},{item:_(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!t.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,Mt),s("div",St,w(e.name),1),s("button",{class:"remove-btn",onClick:R(h=>q("finals2",e.id),["stop"]),disabled:!t.isTimeValid},"×",8,Lt)],2)]),footer:_(()=>[o.value.length===0?(p(),f("div",qt,"待定")):P("",!0)]),_:1},8,["list","disabled"])])])]),l[21]||(l[21]=s("div",{class:"connector-column third"},null,-1)),s("div",Dt,[l[18]||(l[18]=s("div",{class:"stage-title"},"冠军",-1)),s("div",Et,[C(D(B),{id:"champion",list:i.value,group:b,"item-key":"id",class:"slot champion-slot","ghost-class":"ghost",onChange:l[14]||(l[14]=e=>$(e,"champion")),move:g,max:1,disabled:!t.isTimeValid},{item:_(({element:e})=>[s("div",{class:M(["team-card selected",{disabled:!t.isTimeValid}])},[s("img",{src:e.logo,alt:e.name,class:"team-logo"},null,8,xt),s("div",Bt,w(e.name),1),s("button",{class:"remove-btn",onClick:R(h=>q("champion",e.id),["stop"]),disabled:!t.isTimeValid},"×",8,zt)],2)]),footer:_(()=>[i.value.length===0?(p(),f("div",At,"待定")):P("",!0)]),_:1},8,["list","disabled"])])])])]))}}),Ut=Y(Wt,[["__scopeId","data-v-526dd3fb"]]),Ft={class:"coin-buttons"},jt={key:0,class:"debug-info"},Nt=K({__name:"MatchCoinBase",props:{debug:{type:Boolean}},emits:["update:coinType","loading","model-loaded","progress"],setup(W,{emit:N}){const b=W,z=m(b.debug!==void 0?b.debug:!0);console.log("MatchCoinBase - debugInfo:",z.value);const r=m(""),c=m("初始化中..."),d=m(null);let v,V,T,k;const I=N,S={bronze:"#B08D57",silver:"#696969",gold:"#81FF08",diamond:"#BFD8EF"},L=m("gold"),x=o=>{L.value=o,A()},A=()=>{if(!v)return;const o=S[L.value];v.traverse(i=>{i.isMesh&&i.material&&(i.material.color.set(o),i.material.needsUpdate=!0)})},E=()=>{if(d.value){const o=d.value.getBoundingClientRect();r.value=`宽度: ${o.width}px, 高度: ${o.height}px`}},U=()=>{try{if(c.value="创建场景...",v=new Me,console.log("场景创建成功"),c.value="创建相机...",V=new Se(75,d.value?d.value.clientWidth/d.value.clientHeight:1,.1,1e3),V.position.set(0,0,5),console.log("相机创建成功"),c.value="创建渲染器...",T=new Le({antialias:!0}),!d.value)throw new Error("容器元素不存在");const o=d.value.clientWidth,i=d.value.clientHeight;T.setSize(o,i),T.setPixelRatio(window.devicePixelRatio),d.value.appendChild(T.domElement),console.log("渲染器创建成功，尺寸:",o,i),T.toneMapping=qe,T.toneMappingExposure=1,k=new De(V,T.domElement),k.enableDamping=!0,k.dampingFactor=.05,console.log("控制器创建成功");const n=new Ee(16777215,1);v.add(n);const g=new ue(16777215,1);g.position.set(5,5,5),v.add(g);const $=new ue(16777215,.8);$.position.set(-5,5,-5).normalize(),v.add($);const q=new xe(16777215,1,100);q.position.set(0,2,0),v.add(q),console.log("灯光移除，将使用环境贴图提供照明");const y=new Be(T);y.compileEquirectangularShader(),c.value="加载环境贴图...",new ze().load("https://dl.polyhaven.org/file/ph-assets/HDRIs/hdr/1k/the_sky_is_on_fire_1k.hdr",e=>{const h=y.fromEquirectangular(e).texture;y.dispose(),e.dispose(),v.environment=h,v.background=h,console.log("环境贴图加载并应用成功"),c.value="环境贴图加载成功"},void 0,e=>{console.error("加载环境贴图错误:",e),c.value="环境贴图加载失败: "+(e instanceof Error?e.message:String(e))}),c.value="开始加载模型...";const l=new Ae;console.log("开始加载模型..."),l.load("/b.glb",e=>{console.log("模型加载成功"),c.value="模型加载成功",I("loading",c.value),v.add(e.scene);const h=new Re({metalness:1,roughness:0,color:S[L.value]});v.traverse(O=>{O.isMesh&&(console.log("检查到网格对象:",O.name),O.material=h,console.log("已为网格对象应用 MeshStandardMaterial"),(O.material.isMeshStandardMaterial||O.material.isMeshPhysicalMaterial)&&v.environment&&(O.material.envMap=v.environment,O.material.needsUpdate=!0,console.log("已为标准/物理材质设置环境贴图")))});const j=new We().setFromObject(e.scene),F=j.getCenter(new me),G=j.getSize(new me),J=Math.max(G.x,G.y,G.z),te=V.fov*(Math.PI/180);let ae=Math.abs(J/Math.sin(te/2))*.8;V.position.set(F.x-ae,F.y,F.z),V.lookAt(F),k.target.copy(F),k.update(),console.log("相机位置调整完成"),setTimeout(()=>{console.log("发送模型加载完成事件"),I("model-loaded")},100)},e=>{const h=e.loaded/e.total*100;console.log("加载进度:",h.toFixed(2)+"%"),c.value=`模型加载进度: ${h.toFixed(0)}%`,I("loading",c.value),I("progress",h)},e=>{console.error("模型加载错误:",e),c.value="模型加载失败: "+(e instanceof Error?e.message:String(e)),I("loading",c.value)}),E()}catch(o){console.error("初始化场景失败:",o),c.value="初始化失败: "+o.message}},u=()=>{requestAnimationFrame(u),k==null||k.update(),T==null||T.render(v,V)},a=()=>{if(!d.value||!V||!T)return;const o=d.value.clientWidth,i=d.value.clientHeight;console.log("handleResize - 容器尺寸:",o,i),V.aspect=d.value?o/i:V.aspect,V.updateProjectionMatrix(),T.setSize(o,i),E(),console.log("handleResize - 相机宽高比更新为:",V.aspect)};return oe(()=>{console.log("组件挂载，容器元素:",d.value),window.addEventListener("resize",a),c.value="初始化场景...",ve(()=>{var o,i;E(),console.log("nextTick - 容器尺寸:",(o=d.value)==null?void 0:o.clientWidth,(i=d.value)==null?void 0:i.clientHeight),d.value&&console.log("nextTick - 相机宽高比:",d.value.clientWidth/d.value.clientHeight),U(),u()})}),he(()=>{window.removeEventListener("resize",a),d.value&&T&&d.value.removeChild(T.domElement),T==null||T.dispose(),v&&v.traverse(o=>{if(o.geometry&&o.geometry.dispose(),o.material)if(Array.isArray(o.material))for(const i of o.material)i.dispose();else o.material.dispose();o.texture&&o.texture.dispose()})}),(o,i)=>(p(),f("div",{class:"model-container",ref_key:"container",ref:d},[s("div",Ft,[s("button",{onClick:i[0]||(i[0]=n=>x("bronze")),class:M({active:L.value==="bronze"})},"铜币",2),s("button",{onClick:i[1]||(i[1]=n=>x("silver")),class:M({active:L.value==="silver"})},"银币",2),s("button",{onClick:i[2]||(i[2]=n=>x("gold")),class:M({active:L.value==="gold"})},"金币",2),s("button",{onClick:i[3]||(i[3]=n=>x("diamond")),class:M({active:L.value==="diamond"})},"钻石币",2)]),z.value?(p(),f("div",jt,[s("p",null,"容器尺寸: "+w(r.value),1),s("p",null,"加载状态: "+w(c.value),1)])):P("",!0)],512))}}),Ht=Y(Nt,[["__scopeId","data-v-a136c79c"]]),Ot={class:"coin-preview-container"},Gt={key:0,class:"loading-overlay"},Kt={class:"loading-text"},Zt={class:"dialog-footer"},Jt=K({__name:"CoinPreviewDialog",props:{modelValue:{type:Boolean}},emits:["update:modelValue"],setup(W,{emit:N}){const b=W,z=N,r=X({get:()=>b.modelValue,set:u=>z("update:modelValue",u)}),c=m("gold"),d=m(!1),v=X(()=>d.value?"100%":"80%"),V=X(()=>d.value?"80vh":"70vh"),T=m(!0),k=m(0),I=m("初始化..."),S=()=>{d.value=window.innerWidth<=768},L=u=>{c.value=u},x=u=>{I.value=u,console.log("加载状态:",u)},A=u=>{k.value=Math.floor(u),k.value>=100&&(I.value="加载完成...")},E=()=>{console.log("收到模型加载完成事件"),setTimeout(()=>{T.value=!1,k.value=100,I.value="加载完成",console.log("加载叠加层应已隐藏")},300)},U=()=>{T.value=!0,k.value=0,I.value="初始化...",c.value="gold"};return oe(()=>{S(),window.addEventListener("resize",S)}),he(()=>{window.removeEventListener("resize",S)}),se(r,u=>{console.log("对话框状态变化:",u),u&&(T.value=!0,k.value=0,I.value="初始化...")}),(u,a)=>{const o=re,i=fe;return p(),ye(i,{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=n=>r.value=n),title:"3D预览奖章,加载约30秒左右",width:v.value,fullscreen:!d.value,draggable:"","destroy-on-close":"",onClosed:U,"close-on-click-modal":!1},{footer:_(()=>[s("div",Zt,[C(o,{onClick:a[0]||(a[0]=n=>r.value=!1)},{default:_(()=>a[2]||(a[2]=[Z("关闭")])),_:1,__:[2]})])]),default:_(()=>[s("div",Ot,[C(Ht,{ref:"coinViewer",debug:!1,"initial-coin-type":c.value,"container-height":V.value,"onUpdate:coinType":L,onLoading:x,onModelLoaded:E,onProgress:A},null,8,["initial-coin-type","container-height"]),T.value||k.value<100?(p(),f("div",Gt,[C(D(pe),{type:"circle",percentage:k.value,width:d.value?90:100,"stroke-width":10,color:"#409eff"},null,8,["percentage","width"]),s("div",Kt,w(I.value),1)])):P("",!0)])]),_:1},8,["modelValue","width","fullscreen"])}}}),Qt=Y(Jt,[["__scopeId","data-v-3b0f8ad8"]]),Yt={class:"cs2-major-root"},Xt={class:"major-container"},ea={key:0,class:"loading-container"},sa={key:1,class:"prediction-content"},ta={class:"tab-buttons"},aa={key:0,class:"countdown"},oa={key:0,class:"countdown"},ia={key:0,class:"countdown"},la={key:0,class:"countdown"},na={class:"major-content"},da={class:"match-info-panel"},ra={class:"match-header"},ca=["src","alt"],ua={class:"match-name"},ma={class:"match-details"},va={class:"info-item"},ha={class:"value"},ga={class:"info-item"},pa={class:"value"},fa={class:"info-item"},_a={class:"value"},ba={class:"match-footer"},Ta={class:"button-group"},ka={key:0,class:"major-section"},ya={class:"time-info"},wa={key:1,class:"major-section"},Ca={class:"time-info"},$a={key:2,class:"major-section"},Va={class:"time-info"},Pa={key:3,class:"major-section"},Ia={class:"time-info"},Ma={key:2,class:"no-match"},Sa=K({__name:"CS2Major",setup(W,{expose:N}){$e();const b=m(0),z=m(!0),r=m("onePhase"),c=m(),d=m(),v=m(),V=m(),T=m(null),k=m(null),I=m(!1),S=m({}),L=m({onePhase:{start:new Date,end:new Date},twoPhase:{start:new Date,end:new Date},threePhase:{start:new Date,end:new Date},champion:{start:new Date,end:new Date}}),x=X(()=>Object.keys(S.value).length>0),A=y=>new Date(y).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",timeZone:"Asia/Shanghai"}).replace(/\//g,"年").replace(",","日"),E=y=>{const{start:t,end:l}=L.value[y];return`${A(t.toISOString())}日 ${t.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",hour12:!1})} - ${A(l.toISOString())}日 ${l.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit",hour12:!1})}`},U=async()=>{try{z.value=!0;const y=await ee.get("/machine/matches");if(y.data&&y.data.length>0){const t=y.data;t.length>0?(t.forEach(l=>{S.value[l.phase]=l}),S.value[r.value]||(r.value=Object.keys(S.value)[0]),u(r.value),t.forEach(l=>{const e=l.phase;e in L.value&&(L.value[e]={start:new Date(l.predictStartTime),end:new Date(l.predictEndTime)})}),console.log("比赛信息:",t),console.log("时间限制设置:",L.value)):H.error("未找到可用赛事")}else H.error("未找到可用赛事")}catch(y){console.error("获取赛事ID失败:",y),H.error("获取赛事ID失败")}finally{z.value=!1}},u=y=>{const t=S.value[y];t?(b.value=t.id||0,k.value=t):(b.value=0,k.value=null)},a=y=>{const t=new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Shanghai"})),{start:l,end:e}=L.value[y];return t>=l&&t<=e},o=y=>{const t=new Date,{start:l,end:e}=L.value[y];if(t<l){const h=l.getTime()-t.getTime();return`距离开始还有 ${i(h)}`}else{if(t>e)return"竞猜已结束";{const h=e.getTime()-t.getTime();return`距离结束还有 ${i(h)}`}}},i=y=>{const t=Math.floor(y/864e5),l=Math.floor(y%(1e3*60*60*24)/(1e3*60*60)),e=Math.floor(y%(1e3*60*60)/(1e3*60)),h=Math.floor(y%(1e3*60)/1e3);return`${t}天${l}小时${e}分${h}秒`},n=()=>{r.value=r.value};se(r,y=>{var t,l,e,h;if(u(y),b.value)switch(y){case"onePhase":(t=c.value)==null||t.fetchTeams();break;case"twoPhase":(l=d.value)==null||l.fetchTeams();break;case"threePhase":(e=v.value)==null||e.fetchTeams();break;case"champion":(h=V.value)==null||h.fetchTeams();break}}),oe(async()=>{await U(),T.value=window.setInterval(n,1e3)}),we(()=>{T.value&&clearInterval(T.value)}),N({getPredictData(){var y,t,l,e;return{onePhase:(y=c.value)==null?void 0:y.getPredictData(),twoPhase:(t=d.value)==null?void 0:t.getPredictData(),threePhase:(l=v.value)==null?void 0:l.getPredictData(),champion:(e=V.value)==null?void 0:e.getPredictData()}}});const g=y=>{const t=document.createElement("canvas");t.width=y.width,t.height=y.height+60;const l=t.getContext("2d");if(!l)return y;l.drawImage(y,0,0),l.font="bold 36px Microsoft YaHei",l.textAlign="center",l.textBaseline="bottom";const e="竞猜作业来源：sb6657.cn",h=t.width/2,j=t.height-20,F=l.measureText(e).width;return l.fillStyle="rgba(0, 0, 0, 0.5)",l.fillRect(h-F/2-10,j-40,F+20,40),l.fillStyle="#ffffff",l.fillText(e,h,j),t},$=async()=>{const y="玩机器烂梗库官方比赛作业，地址sb6657.cn";try{await navigator.clipboard.writeText(y)}catch(t){console.error("复制失败:",t)}try{I.value=!0;const t=document.querySelector(".major-section");if(!t)throw new Error("未找到要截图的元素");const l=await Ie(t,{backgroundColor:"#ffffff",scale:1.5,logging:!1,useCORS:!0,allowTaint:!0}),e=g(l),h=document.createElement("a");h.download=`sb6657.cn_CS2Major预测_${new Date().toLocaleDateString()}.jpg`,h.href=e.toDataURL("image/jpeg",1),h.click(),H.success("截图已保存"),ee.get("/machine/shareMatch")}catch(t){console.error("截图失败:",t),H.error("截图失败，请重试")}finally{I.value=!1}},q=m(!1);return(y,t)=>{var F,G,J,te,ae,O,ce;const l=_e,e=be,h=re,j=Te;return p(),f("div",Yt,[s("div",Xt,[z.value?(p(),f("div",ea,[C(l,{rows:3,animated:""})])):x.value?(p(),f("div",sa,[s("div",ta,[S.value.onePhase?(p(),f("button",{key:0,class:M({active:r.value==="onePhase"}),onClick:t[0]||(t[0]=Q=>r.value="onePhase")},[t[6]||(t[6]=Z(" 第一阶段 ")),r.value==="onePhase"?(p(),f("div",aa,w(o("onePhase")),1)):P("",!0)],2)):P("",!0),S.value.twoPhase?(p(),f("button",{key:1,class:M({active:r.value==="twoPhase"}),onClick:t[1]||(t[1]=Q=>r.value="twoPhase")},[t[7]||(t[7]=Z(" 第二阶段 ")),r.value==="twoPhase"?(p(),f("div",oa,w(o("twoPhase")),1)):P("",!0)],2)):P("",!0),S.value.threePhase?(p(),f("button",{key:2,class:M({active:r.value==="threePhase"}),onClick:t[2]||(t[2]=Q=>r.value="threePhase")},[t[8]||(t[8]=Z(" 第三阶段 ")),r.value==="threePhase"?(p(),f("div",ia,w(o("threePhase")),1)):P("",!0)],2)):P("",!0),S.value.champion?(p(),f("button",{key:3,class:M({active:r.value==="champion"}),onClick:t[3]||(t[3]=Q=>r.value="champion")},[t[9]||(t[9]=Z(" 冠军组 ")),r.value==="champion"?(p(),f("div",la,w(o("champion")),1)):P("",!0)],2)):P("",!0)]),s("div",na,[s("div",da,[s("div",ra,[s("img",{src:(F=k.value)==null?void 0:F.matchesImg,alt:(G=k.value)==null?void 0:G.matchesName,class:"match-logo"},null,8,ca),s("h2",ua,w((J=k.value)==null?void 0:J.matchesName),1)]),s("div",ma,[s("div",va,[t[10]||(t[10]=s("span",{class:"label"},"赛事等级：",-1)),s("span",ha,w((te=k.value)==null?void 0:te.level),1)]),s("div",ga,[t[11]||(t[11]=s("span",{class:"label"},"比赛地点：",-1)),s("span",pa,w((ae=k.value)==null?void 0:ae.matchesLocation),1)]),s("div",fa,[t[12]||(t[12]=s("span",{class:"label"},"比赛时间：",-1)),s("span",_a,w(A((O=k.value)==null?void 0:O.startTime))+"日 - "+w(A((ce=k.value)==null?void 0:ce.endTime))+"日",1)])]),s("div",ba,[t[15]||(t[15]=s("div",{class:"reward-info"},"竞猜会获得平台虚拟奖章，目前正在做",-1)),s("div",Ta,[C(h,{type:"primary",onClick:$,loading:I.value},{default:_(()=>[C(e,null,{default:_(()=>[C(D(Ve))]),_:1}),t[13]||(t[13]=Z(" 截图分享预测 "))]),_:1,__:[13]},8,["loading"]),C(h,{type:"success",onClick:t[4]||(t[4]=Q=>q.value=!0)},{default:_(()=>[C(e,null,{default:_(()=>[C(D(Pe))]),_:1}),t[14]||(t[14]=Z(" 预览3D奖章 "))]),_:1,__:[14]})])])]),r.value==="onePhase"?(p(),f("div",ka,[s("div",ya,[s("p",null,"竞猜时间："+w(E("onePhase")),1)]),C(de,{ref_key:"onePhaseRef",ref:c,isTimeValid:a("onePhase"),matchId:b.value,phase:"onePhase"},null,8,["isTimeValid","matchId"])])):P("",!0),r.value==="twoPhase"?(p(),f("div",wa,[s("div",Ca,[s("p",null,"竞猜时间："+w(E("twoPhase")),1)]),C(de,{ref_key:"twoPhaseRef",ref:d,isTimeValid:a("twoPhase"),matchId:b.value,phase:"twoPhase"},null,8,["isTimeValid","matchId"])])):P("",!0),r.value==="threePhase"?(p(),f("div",$a,[s("div",Va,[s("p",null,"竞猜时间："+w(E("threePhase")),1)]),C(de,{ref_key:"threePhaseRef",ref:v,isTimeValid:a("threePhase"),matchId:b.value,phase:"threePhase"},null,8,["isTimeValid","matchId"])])):P("",!0),r.value==="champion"?(p(),f("div",Pa,[s("div",Ia,[s("p",null,"竞猜时间："+w(E("champion")),1)]),C(Ut,{ref_key:"championRef",ref:V,isTimeValid:a("champion"),matchId:b.value},null,8,["isTimeValid","matchId"])])):P("",!0)])])):(p(),f("div",Ma,[C(j,{description:"暂无可用赛事"})]))]),C(Qt,{modelValue:q.value,"onUpdate:modelValue":t[5]||(t[5]=Q=>q.value=Q)},null,8,["modelValue"])])}}}),Xa=Y(Sa,[["__scopeId","data-v-bf9e1edd"]]);export{Xa as default};
